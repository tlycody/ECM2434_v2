/*! For license information please see main.254984d4.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),o=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var v=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var N,R,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign;function M(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||"",R=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+N+e+R}var k=!1;function x(e,t){if(!e||k)return"";k=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{k=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?M(n):""}function P(e){switch(e.tag){case 26:case 27:case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return e=x(e.type,!1);case 11:return e=x(e.type.render,!1);case 1:return e=x(e.type,!0);default:return""}}function L(e){try{var t="";do{t+=P(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function B(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function F(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function j(e){if(B(e)!==e)throw Error(a(188))}function U(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=U(e)))return t;e=e.sibling}return null}var z=Array.isArray,H=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},W=[],G=-1;function Y(e){return{current:e}}function X(e){0>G||(e.current=W[G],W[G]=null,G--)}function q(e,t){G++,W[G]=e.current,e.current=t}var $=Y(null),Q=Y(null),Z=Y(null),K=Y(null);function J(e,t){switch(q(Z,t),q(Q,e),q($,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Qu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Zu(e=Qu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X($),q($,t)}function ee(){X($),X(Q),X(Z)}function te(e){null!==e.memoizedState&&q(K,e);var t=$.current,n=Zu(t,e.type);t!==n&&(q(Q,e),q($,n))}function ne(e){Q.current===e&&(X($),X(Q)),K.current===e&&(X(K),Ld._currentValue=V)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,we=null,ye=null;function Ee(e){if("function"===typeof ge&&me(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(we,e)}catch(t){}}var Se=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ce(e)/be|0)|0},Ce=Math.log,be=Math.LN2;var ve=128,Ae=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~i)?r=_e(n):0!==(o&=s)?r=_e(o):e||0!==(a=s&~a)&&(r=_e(a)):0!==(s=n&~i)?r=_e(s):0!==o?r=_e(o):e||0!==(a=n&~a)&&(r=_e(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:r}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=ve;return 0===(4194176&(ve<<=1))&&(ve=128),e}function De(){var e=Ae;return 0===(62914560&(Ae<<=1))&&(Ae=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ke(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Se(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Se(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=H.p;return 0!==e?e:void 0===(e=window.event)?32:Zd(e.type)}var Be=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Be,je="__reactProps$"+Be,Ue="__reactContainer$"+Be,ze="__reactEvents$"+Be,He="__reactListeners$"+Be,Ve="__reactHandles$"+Be,We="__reactResources$"+Be,Ge="__reactMarker$"+Be;function Ye(e){delete e[Fe],delete e[je],delete e[ze],delete e[He],delete e[Ve]}function Xe(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Fe])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Fe]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Qe(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Ge]=!0}var Ke=new Set,Je={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Je[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function at(e,t,n){if(i=t,re.call(ot,i)||!re.call(it,i)&&(rt.test(i)?ot[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function wt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Et(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(z(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function bt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var vt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function At(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||vt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&At(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&At(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,kt=null;function xt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[je]||null;if(!i)throw Error(a(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Et(e,!!n.multiple,t,!1)}}}var Pt=!1;function Lt(e,t,n){if(Pt)return e(t,n);Pt=!0;try{return e(t)}finally{if(Pt=!1,(null!==Mt||null!==kt)&&(Fc(),Mt&&(t=Mt,e=kt,kt=Mt=null,xt(t),e)))for(t=0;t<e.length;t++)xt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!1;if(nt)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(Ch){Ft=!1}var Ut=null,zt=null,Ht=null;function Vt(){if(Ht)return Ht;var e,t,n=zt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Yt(){return!1}function Xt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Yt,this.isPropagationStopped=Yt,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var qt,$t,Qt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kt=Xt(Zt),Jt=O({},Zt,{view:0,detail:0}),en=Xt(Jt),tn=O({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(qt=e.screenX-Qt.screenX,$t=e.screenY-Qt.screenY):$t=qt=0,Qt=e),qt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),nn=Xt(tn),rn=Xt(O({},tn,{dataTransfer:0})),on=Xt(O({},Jt,{relatedTarget:0})),an=Xt(O({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Xt(O({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Xt(O({},Zt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Xt(O({},Jt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Xt(O({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=Xt(O({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),wn=Xt(O({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Xt(O({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=Xt(O({},Zt,{newState:0,oldState:0})),Sn=[9,13,27,32],Cn=nt&&"CompositionEvent"in window,bn=null;nt&&"documentMode"in document&&(bn=document.documentMode);var vn=nt&&"TextEvent"in window&&!bn,An=nt&&(!Cn||bn&&8<bn&&11>=bn),_n=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Mn(e,t,n,r){Mt?kt?kt.push(r):kt=[r]:Mt=r,0<(t=Lu(t,"onChange")).length&&(n=new Kt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kn=null,xn=null;function Pn(e){Nu(e,0)}function Ln(e){if(ht($e(e)))return e}function Bn(e,t){if("change"===e)return t}var Fn=!1;if(nt){var jn;if(nt){var Un="oninput"in document;if(!Un){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Un="function"===typeof zn.oninput}jn=Un}else jn=!1;Fn=jn&&(!document.documentMode||9<document.documentMode)}function Hn(){kn&&(kn.detachEvent("onpropertychange",Vn),xn=kn=null)}function Vn(e){if("value"===e.propertyName&&Ln(xn)){var t=[];Mn(t,xn,e,Ot(e)),Lt(Pn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),xn=n,(kn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Hn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(xn)}function Yn(e,t){if("click"===e)return Ln(t)}function Xn(e,t){if("input"===e||"change"===e)return Ln(t)}var qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!qn(e[i],t[i]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Kn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Kn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Jn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Kn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=Zn(t,o);var a=Zn(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&$n(or,r)||(or=r,0<(r=Lu(ir,"onSelect")).length&&(t=new Kt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),gr=hr("animationstart"),mr=hr("transitionrun"),wr=hr("transitionstart"),yr=hr("transitioncancel"),Er=hr("transitionend"),Sr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function br(e,t){Sr.set(e,t),et(t,[e])}var vr=[],Ar=0,_r=0;function Tr(){for(var e=Ar,t=_r=Ar=0;t<e;){var n=vr[t];vr[t++]=null;var r=vr[t];vr[t++]=null;var i=vr[t];vr[t++]=null;var o=vr[t];if(vr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Dr(n,i,o)}}function Ir(e,t,n,r){vr[Ar++]=e,vr[Ar++]=t,vr[Ar++]=n,vr[Ar++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return Ir(e,t,n,r),Or(e)}function Rr(e,t){return Ir(e,null,null,t),Or(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;i&&null!==t&&3===e.tag&&(o=e.stateNode,i=31-Se(n),null===(e=(o=o.hiddenUpdates)[i])?o[i]=[t]:e.push(t),t.lane=536870912|n)}function Or(e){if(50<Nc)throw Nc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={},kr=new WeakMap;function xr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:L(t)},kr.set(e,t),t)}return{value:e,source:t,stack:L(t)}}var Pr=[],Lr=0,Br=null,Fr=0,jr=[],Ur=0,zr=null,Hr=1,Vr="";function Wr(e,t){Pr[Lr++]=Fr,Pr[Lr++]=Br,Br=e,Fr=t}function Gr(e,t,n){jr[Ur++]=Hr,jr[Ur++]=Vr,jr[Ur++]=zr,zr=e;var r=Hr;e=Vr;var i=32-Se(r)-1;r&=~(1<<i),n+=1;var o=32-Se(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Hr=1<<32-Se(t)+i|n<<i|r,Vr=o+e}else Hr=1<<o|n<<i|r,Vr=e}function Yr(e){null!==e.return&&(Wr(e,1),Gr(e,1,0))}function Xr(e){for(;e===Br;)Br=Pr[--Lr],Pr[Lr]=null,Fr=Pr[--Lr],Pr[Lr]=null;for(;e===zr;)zr=jr[--Ur],jr[Ur]=null,Vr=jr[--Ur],jr[Ur]=null,Hr=jr[--Ur],jr[Ur]=null}var qr=null,$r=null,Qr=!1,Zr=null,Kr=!1,Jr=Error(a(519));function ei(e){throw oi(xr(Error(a(418,"")),e)),Jr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[je]=r,n){case"dialog":Ru("cancel",t),Ru("close",t);break;case"iframe":case"object":case"embed":Ru("load",t);break;case"video":case"audio":for(n=0;n<Tu.length;n++)Ru(Tu[n],t);break;case"source":Ru("error",t);break;case"img":case"image":case"link":Ru("error",t),Ru("load",t);break;case"details":Ru("toggle",t);break;case"input":Ru("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Ru("invalid",t);break;case"textarea":Ru("invalid",t),Ct(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Hu(t.textContent,n)?(null!=r.popover&&(Ru("beforetoggle",t),Ru("toggle",t)),null!=r.onScroll&&Ru("scroll",t),null!=r.onScrollEnd&&Ru("scrollend",t),null!=r.onClick&&(t.onclick=Vu),t=!0):t=!1,t||ei(e)}function ni(e){for(qr=e.return;qr;)switch(qr.tag){case 3:case 27:return void(Kr=!0);case 5:case 13:return void(Kr=!1);default:qr=qr.return}}function ri(e){if(e!==qr)return!1;if(!Qr)return ni(e),Qr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Ku(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&$r&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){$r=sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}$r=null}}else $r=qr?sd(e.stateNode.nextSibling):null;return!0}function ii(){$r=qr=null,Qr=!1}function oi(e){null===Zr?Zr=[e]:Zr.push(e)}var ai=Error(a(460)),si=Error(a(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw hi=t,ai}}var hi=null;function fi(){if(null===hi)throw Error(a(459));var e=hi;return hi=null,e}var pi=null,gi=0;function mi(e){var t=gi;return gi+=1,null===pi&&(pi=[]),di(pi,e,t)}function wi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ei(e){return(0,e._init)(e._payload)}function Si(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Bl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var o=n.type;return o===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&Ei(o)===t.type)?(wi(t=i(t,n.props),n),t.return=e,t):(wi(t=jl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Ul(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return wi(n=jl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Vl(t,e.mode,n)).return=e,t;case C:return g(e,t=(0,t._init)(t._payload),n)}if(z(t)||_(t))return(t=Ul(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return g(e,mi(t),n);if(t.$$typeof===m)return g(e,Ts(e,t),n);yi(e,t)}return null}function w(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case C:return w(e,t,n=(i=n._init)(n._payload),r)}if(z(n)||_(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return w(e,t,mi(n),r);if(n.$$typeof===m)return w(e,t,Ts(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(z(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,mi(r),i);if(r.$$typeof===m)return y(e,t,n,Ts(t,r),i);yi(t,r)}return null}function E(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var S=f.key;null!==h;){if(h.key===S){if((S=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=i(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===S||"object"===typeof S&&null!==S&&S.$$typeof===C&&Ei(S)===h.type){n(l,h.sibling),wi(p=i(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=Ul(f.props.children,l.mode,p,f.key)).return=l,l=p):(wi(p=jl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return s(l);case u:e:{for(S=f.key;null!==h;){if(h.key===S){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=i(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=Vl(f,l.mode,p)).return=l,l=p}return s(l);case C:return E(l,h,f=(S=f._init)(f._payload),p)}if(z(f))return function(i,a,s,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=w(i,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(i,d),Qr&&Wr(i,h),c;if(null===d){for(;h<s.length;h++)null!==(d=g(i,s[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return Qr&&Wr(i,h),c}for(d=r(d);h<s.length;h++)null!==(f=y(d,i,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=o(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Qr&&Wr(i,h),c}(l,h,f,p);if(_(f)){if("function"!==typeof(S=_(f)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,h=s,f=s=0,p=null,m=l.next();null!==h&&!m.done;f++,m=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var E=w(i,h,m.value,c);if(null===E){null===h&&(h=p);break}e&&h&&null===E.alternate&&t(i,h),s=o(E,s,f),null===d?u=E:d.sibling=E,d=E,h=p}if(m.done)return n(i,h),Qr&&Wr(i,f),u;if(null===h){for(;!m.done;f++,m=l.next())null!==(m=g(i,m.value,c))&&(s=o(m,s,f),null===d?u=m:d.sibling=m,d=m);return Qr&&Wr(i,f),u}for(h=r(h);!m.done;f++,m=l.next())null!==(m=y(h,i,f,m.value,c))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),s=o(m,s,f),null===d?u=m:d.sibling=m,d=m);return e&&h.forEach((function(e){return t(i,e)})),Qr&&Wr(i,f),u}(l,h,f=S.call(f),p)}if("function"===typeof f.then)return E(l,h,mi(f),p);if(f.$$typeof===m)return E(l,h,Ts(l,f),p);yi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=i(h,f)).return=l,l=p):(n(l,h),(p=Hl(f,l.mode,p)).return=l,l=p),s(l)):n(l,h)}return function(e,t,n,r){try{gi=0;var i=E(e,t,n,r);return pi=null,i}catch(a){if(a===ai)throw a;var o=Pl(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var Ci=Si(!0),bi=Si(!1),vi=Y(null),Ai=Y(0);function _i(e,t){q(Ai,e=cc),q(vi,t),cc=e|t.baseLanes}function Ti(){q(Ai,cc),q(vi,vi.current)}function Ii(){cc=Ai.current,X(vi),X(Ai)}var Ni=Y(null),Ri=null;function Di(e){var t=e.alternate;q(xi,1&xi.current),q(Ni,e),null===Ri&&(null===t||null!==vi.current||null!==t.memoizedState)&&(Ri=e)}function Oi(e){if(22===e.tag){if(q(xi,xi.current),q(Ni,e),null===Ri){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ri=e)}}else Mi()}function Mi(){q(xi,xi.current),q(Ni,Ni.current)}function ki(e){X(Ni),Ri===e&&(Ri=null),X(xi)}var xi=Y(0);function Pi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Bi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,ji={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Bi(Fi,(function(){e.controller.abort()}))}var Hi=null,Vi=0,Wi=0,Gi=null;function Yi(){if(0===--Vi&&null!==Hi){null!==Gi&&(Gi.status="fulfilled");var e=Hi;Hi=null,Wi=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Xi=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hi){var n=Hi=[];Vi=0,Wi=Cu(),Gi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vi++,t.then(Yi,Yi)}(0,t),null!==Xi&&Xi(e,t)};var qi=Y(null);function $i(){var e=qi.current;return null!==e?e:tc.pooledCache}function Qi(e,t){q(qi,null===t?qi.current:t.pool)}function Zi(){var e=$i();return null===e?null:{parent:ji._currentValue,pool:e}}var Ki=0,Ji=null,eo=null,to=null,no=!1,ro=!1,io=!1,oo=0,ao=0,so=null,lo=0;function co(){throw Error(a(321))}function uo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function ho(e,t,n,r,i,o){return Ki=o,Ji=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ta:Ia,io=!1,o=n(r,i),io=!1,ro&&(o=po(t,n,r,i)),fo(e),o}function fo(e){D.H=_a;var t=null!==eo&&null!==eo.next;if(Ki=0,to=eo=Ji=null,no=!1,ao=0,so=null,t)throw Error(a(300));null===e||Wa||null!==(e=e.dependencies)&&vs(e)&&(Wa=!0)}function po(e,t,n,r){Ji=e;var i=0;do{if(ro&&(so=null),ao=0,ro=!1,25<=i)throw Error(a(301));if(i+=1,to=eo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=Na,o=t(n,r)}while(ro);return o}function go(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Co(t):t,e=e.useState()[0],(null!==eo?eo.memoizedState:null)!==e&&(Ji.flags|=1024),t}function mo(){var e=0!==oo;return oo=0,e}function wo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yo(e){if(no){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}no=!1}Ki=0,to=eo=Ji=null,ro=!1,ao=oo=0,so=null}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Ji.memoizedState=to=e:to=to.next=e,to}function So(){if(null===eo){var e=Ji.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Ji.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e){if(null===Ji.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Ji.memoizedState=to=e:to=to.next=e}return to}function Co(e){var t=ao;return ao+=1,null===so&&(so=[]),e=di(so,e,t),t=Ji,null===(null===to?t.memoizedState:to.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ta:Ia),e}function bo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Co(e);if(e.$$typeof===m)return _s(e)}throw Error(a(438,String(e)))}function vo(e){var t=null,n=Ji.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ji.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=v;return t.index++,n}function Ao(e,t){return"function"===typeof t?t(e):t}function _o(e){return To(So(),eo,e)}function To(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(Ki&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wi&&(d=!0);else{if((Ki&f)===f){u=u.next,f===Wi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,Ji.lanes|=f,dc|=f}h=u.action,io&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,Ji.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!qn(o,e.memoizedState)&&(Wa=!0,d&&null!==(n=Gi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Io(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);qn(o,t.memoizedState)||(Wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(e,t,n){var r=Ji,i=So(),o=Qr;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!qn((eo||i).memoizedState,n);if(s&&(i.memoizedState=n,Wa=!0),i=i.queue,Jo(Oo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==to&&1&to.memoizedState.tag){if(r.flags|=2048,qo(9,Do.bind(null,r,i,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));o||0!==(60&Ki)||Ro(r,t,n)}return n}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ji.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&ko(e)}function Oo(e,t,n){return n((function(){Mo(t)&&ko(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch(r){return!0}}function ko(e){var t=Rr(e,2);null!==t&&Mc(t,e,2)}function xo(e){var t=Eo();if("function"===typeof e){var n=e;if(e=n(),io){Ee(!0);try{n()}finally{Ee(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t}function Po(e,t,n,r){return e.baseState=n,To(e,eo,"function"===typeof r?r:Ao)}function Lo(e,t,n,r,i){if(ba(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Bo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Bo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,a={};D.T=a;try{var s=n(i,r),l=D.S;null!==l&&l(a,s),Fo(e,t,s)}catch(c){Uo(e,t,c)}finally{D.T=o}}else try{Fo(e,t,o=n(i,r))}catch(u){Uo(e,t,u)}}function Fo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){jo(e,t,n)}),(function(n){return Uo(e,t,n)})):jo(e,t,n)}function jo(e,t,n){t.status="fulfilled",t.value=n,zo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Bo(e,n)))}function Uo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,zo(t),t=t.next}while(t!==r)}e.action=null}function zo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ho(e,t){return t}function Vo(e,t){if(Qr){var n=tc.formState;if(null!==n){e:{var r=Ji;if(Qr){if($r){t:{for(var i=$r,o=Kr;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=sd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){$r=sd(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=Eo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},n.queue=r,n=Ea.bind(null,Ji,r),r.dispatch=n,r=xo(!1),o=Ca.bind(null,Ji,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Eo()).queue=i,n=Lo.bind(null,Ji,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Wo(e){return Go(So(),eo,e)}function Go(e,t,n){t=To(e,t,Ho)[0],e=_o(Ao)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?Co(t):t;var r=So(),i=r.queue,o=i.dispatch;return n!==r.memoizedState&&(Ji.flags|=2048,qo(9,Yo.bind(null,i,n),{destroy:void 0},null)),[t,o,e]}function Yo(e,t){e.action=t}function Xo(e){var t=So(),n=eo;if(null!==n)return Go(t,n,e);So(),t=t.memoizedState;var r=(n=So()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function qo(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Ji.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ji.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $o(){return So().memoizedState}function Qo(e,t,n,r){var i=Eo();Ji.flags|=e,i.memoizedState=qo(1|t,n,{destroy:void 0},void 0===r?null:r)}function Zo(e,t,n,r){var i=So();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==eo&&null!==r&&uo(r,eo.memoizedState.deps)?i.memoizedState=qo(t,n,o,r):(Ji.flags|=e,i.memoizedState=qo(1|t,n,o,r))}function Ko(e,t){Qo(8390656,8,e,t)}function Jo(e,t){Zo(2048,8,e,t)}function ea(e,t){return Zo(4,2,e,t)}function ta(e,t){return Zo(4,4,e,t)}function na(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ra(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4,4,na.bind(null,t,e),n)}function ia(){}function oa(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&uo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aa(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&uo(t,r[1]))return r[0];if(r=e(),io){Ee(!0);try{e()}finally{Ee(!1)}}return n.memoizedState=[r,t],r}function sa(e,t,n){return void 0===n||0!==(1073741824&Ki)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),Ji.lanes|=e,dc|=e,n)}function la(e,t,n,r){return qn(n,t)?n:null!==vi.current?(e=sa(e,n,r),qn(e,t)||(Wa=!0),e):0===(42&Ki)?(Wa=!0,e.memoizedState=n):(e=Oc(),Ji.lanes|=e,dc|=e,t)}function ca(e,t,n,r,i){var o=H.p;H.p=0!==o&&8>o?o:8;var a=D.T,s={};D.T=s,Ca(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Sa(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Dc());else Sa(e,t,r,Dc())}catch(u){Sa(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{H.p=o,D.T=a}}function ua(){}function da(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=ha(e).queue;ca(e,i,t,V,null===n?ua:function(){return fa(e),n(r)})}function ha(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:V},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function fa(e){Sa(e,ha(e).next.queue,{},Dc())}function pa(){return _s(Ld)}function ga(){return So().memoizedState}function ma(){return So().memoizedState}function wa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=Ms(t,e=Os(n),n);return null!==r&&(Mc(r,t,n),ks(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ya(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ba(e)?va(t,n):null!==(n=Nr(e,t,n,r))&&(Mc(n,e,r),Aa(n,t,r))}function Ea(e,t,n){Sa(e,t,n,Dc())}function Sa(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ba(e))va(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,qn(s,a))return Ir(e,t,i,0),null===tc&&Tr(),!1}catch(l){}if(null!==(n=Nr(e,t,i,r)))return Mc(n,e,r),Aa(n,t,r),!0}return!1}function Ca(e,t,n,r){if(r={lane:2,revertLane:Cu(),action:r,hasEagerState:!1,eagerState:null,next:null},ba(e)){if(t)throw Error(a(479))}else null!==(t=Nr(e,n,r,2))&&Mc(t,e,2)}function ba(e){var t=e.alternate;return e===Ji||null!==t&&t===Ji}function va(e,t){ro=no=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Aa(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}var _a={readContext:_s,use:bo,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useLayoutEffect:co,useInsertionEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useSyncExternalStore:co,useId:co};_a.useCacheRefresh=co,_a.useMemoCache=co,_a.useHostTransitionStatus=co,_a.useFormState=co,_a.useActionState=co,_a.useOptimistic=co;var Ta={readContext:_s,use:bo,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:Ko,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qo(4194308,4,na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){Qo(4,2,e,t)},useMemo:function(e,t){var n=Eo();t=void 0===t?null:t;var r=e();if(io){Ee(!0);try{e()}finally{Ee(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Eo();if(void 0!==n){var i=n(t);if(io){Ee(!0);try{n(t)}finally{Ee(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ya.bind(null,Ji,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:function(e){var t=(e=xo(e)).queue,n=Ea.bind(null,Ji,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ia,useDeferredValue:function(e,t){return sa(Eo(),e,t)},useTransition:function(){var e=xo(!1);return e=ca.bind(null,Ji,e.queue,!0,!1),Eo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ji,i=Eo();if(Qr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ko(Oo.bind(null,r,o,e),[e]),r.flags|=2048,qo(9,Do.bind(null,r,o,n,t),{destroy:void 0},null),n},useId:function(){var e=Eo(),t=tc.identifierPrefix;if(Qr){var n=Vr;t=":"+t+"R"+(n=(Hr&~(1<<32-Se(Hr)-1)).toString(32)+n),0<(n=oo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lo++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Eo().memoizedState=wa.bind(null,Ji)}};Ta.useMemoCache=vo,Ta.useHostTransitionStatus=pa,Ta.useFormState=Vo,Ta.useActionState=Vo,Ta.useOptimistic=function(e){var t=Eo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ca.bind(null,Ji,!0,n),n.dispatch=t,[e,t]};var Ia={readContext:_s,use:bo,useCallback:oa,useContext:_s,useEffect:Jo,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:_o,useRef:$o,useState:function(){return _o(Ao)},useDebugValue:ia,useDeferredValue:function(e,t){return la(So(),eo.memoizedState,e,t)},useTransition:function(){var e=_o(Ao)[0],t=So().memoizedState;return["boolean"===typeof e?e:Co(e),t]},useSyncExternalStore:No,useId:ga};Ia.useCacheRefresh=ma,Ia.useMemoCache=vo,Ia.useHostTransitionStatus=pa,Ia.useFormState=Wo,Ia.useActionState=Wo,Ia.useOptimistic=function(e,t){return Po(So(),0,e,t)};var Na={readContext:_s,use:bo,useCallback:oa,useContext:_s,useEffect:Jo,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Io,useRef:$o,useState:function(){return Io(Ao)},useDebugValue:ia,useDeferredValue:function(e,t){var n=So();return null===eo?sa(n,e,t):la(n,eo.memoizedState,e,t)},useTransition:function(){var e=Io(Ao)[0],t=So().memoizedState;return["boolean"===typeof e?e:Co(e),t]},useSyncExternalStore:No,useId:ga};function Ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Na.useCacheRefresh=ma,Na.useMemoCache=vo,Na.useHostTransitionStatus=pa,Na.useFormState=Xo,Na.useActionState=Xo,Na.useOptimistic=function(e,t){var n=So();return null!==eo?Po(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Da={isMounted:function(e){return!!(e=e._reactInternals)&&B(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=Os(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ms(e,i,r))&&(Mc(t,e,r),ks(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=Os(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ms(e,i,r))&&(Mc(t,e,r),ks(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=Os(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ms(e,r,n))&&(Mc(t,e,n),ks(t,e,n))}};function Oa(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,o))}function Ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Da.enqueueReplaceState(t,t.state,null)}function ka(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=O({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var xa="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Pa(e){xa(e)}function La(e){console.error(e)}function Ba(e){xa(e)}function Fa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ja(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ua(e,t,n){return(n=Os(n)).tag=3,n.payload={element:null},n.callback=function(){Fa(e,t)},n}function za(e){return(e=Os(e)).tag=3,e}function Ha(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){ja(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ja(t,n,r),"function"!==typeof i&&(null===bc?bc=new Set([this]):bc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Va=Error(a(461)),Wa=!1;function Ga(e,t,n,r){t.child=null===e?bi(t,null,n,r):Ci(t,e.child,n,r)}function Ya(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return As(t),r=ho(e,t,n,a,o,i),s=mo(),null===e||Wa?(Qr&&s&&Yr(t),t.flags|=1,Ga(e,t,r,i),t.child):(wo(e,t,i),hs(e,t,i))}function Xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ll(o)||void 0!==o.defaultProps||null!==n.compare?((e=jl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qa(e,t,o,r,i))}if(o=e.child,!fs(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(a,r)&&e.ref===t.ref)return hs(e,t,i)}return t.flags|=1,(e=Bl(o,r)).ref=t.ref,e.return=t,t.child=e}function qa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if($n(o,r)&&e.ref===t.ref){if(Wa=!1,t.pendingProps=r=o,!fs(e,i))return t.lanes=e.lanes,hs(e,t,i);0!==(131072&e.flags)&&(Wa=!0)}}return Ka(e,t,n,r,i)}function $a(e,t,n){var r=t.pendingProps,i=r.children,o=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Za(e,t),"hidden"===r.mode||o){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Qa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Qa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qi(0,null!==a?a.cachePool:null),null!==a?_i(t,a):Ti(),Oi(t)}else null!==a?(Qi(0,a.cachePool),_i(t,a),Mi(),t.memoizedState=null):(null!==e&&Qi(0,null),Ti(),Mi());return Ga(e,t,i,n),t.child}function Qa(e,t,n,r){var i=$i();return i=null===i?null:{parent:ji._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Qi(0,null),Ti(),Oi(t),null!==e&&bs(e,t,r,!0),null}function Za(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Ka(e,t,n,r,i){return As(t),n=ho(e,t,n,r,void 0,i),r=mo(),null===e||Wa?(Qr&&r&&Yr(t),t.flags|=1,Ga(e,t,n,i),t.child):(wo(e,t,i),hs(e,t,i))}function Ja(e,t,n,r,i,o){return As(t),t.updateQueue=null,n=po(t,r,n,i),fo(e),r=mo(),null===e||Wa?(Qr&&r&&Yr(t),t.flags|=1,Ga(e,t,n,o),t.child):(wo(e,t,o),hs(e,t,o))}function es(e,t,n,r,i){if(As(t),null===t.stateNode){var o=Mr,a=n.contextType;"object"===typeof a&&null!==a&&(o=_s(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Da,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Rs(t),a=n.contextType,o.context="object"===typeof a&&null!==a?_s(a):Mr,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Ra(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&Da.enqueueReplaceState(o,o.state,null),Bs(t,r,o,i),Ls(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=ka(n,s);o.props=l;var c=o.context,u=n.contextType;a=Mr,"object"===typeof u&&null!==u&&(a=_s(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&Ma(t,o,r,a),Ns=!1;var h=t.memoizedState;o.state=h,Bs(t,r,o,i),Ls(),c=t.memoizedState,s||h!==c||Ns?("function"===typeof d&&(Ra(t,n,d,r),c=t.memoizedState),(l=Ns||Oa(t,n,l,r,h,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ds(e,t),u=ka(n,a=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=_s(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&Ma(t,o,r,l),Ns=!1,h=t.memoizedState,o.state=h,Bs(t,r,o,i),Ls();var f=t.memoizedState;a!==d||h!==f||Ns||null!==e&&null!==e.dependencies&&vs(e.dependencies)?("function"===typeof s&&(Ra(t,n,s,r),f=t.memoizedState),(u=Ns||Oa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&vs(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Za(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,n,i)):Ga(e,t,n,i),t.memoizedState=o.state,e=t.child):e=hs(e,t,i),e}function ts(e,t,n,r){return ii(),t.flags|=256,Ga(e,t,n,r),t.child}var ns={dehydrated:null,treeContext:null,retryLane:0};function rs(e){return{baseLanes:e,cachePool:Zi()}}function is(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function os(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&xi.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Qr){if(o?Di(t):Mi(),Qr){var l,c=$r;if(l=c){e:{for(l=c,c=Kr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=sd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==zr?{id:Hr,overflow:Vr}:null,retryLane:536870912},(l=Pl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,qr=t,$r=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;ki(t)}return c=i.children,i=i.fallback,o?(Mi(),c=ss({mode:"hidden",children:c},o=t.mode),i=Ul(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=rs(n),o.childLanes=is(e,r,n),t.memoizedState=ns,i):(Di(t),as(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(Di(t),t.flags&=-257,t=ls(e,t,n)):null!==t.memoizedState?(Mi(),t.child=e.child,t.flags|=128,t=null):(Mi(),o=i.fallback,c=t.mode,i=ss({mode:"visible",children:i.children},c),(o=Ul(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Ci(t,e.child,null,n),(i=t.child).memoizedState=rs(n),i.childLanes=is(e,r,n),t.memoizedState=ns,t=o);else if(Di(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,oi({value:i,source:null,stack:null}),t=ls(e,t,n)}else if(Wa||bs(e,t,n,!1),r=0!==(n&e.childLanes),Wa||r){if(null!==(r=tc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Rr(e,i),Mc(r,e,i),Va}"$?"===c.data||Wc(),t=ls(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=su.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,$r=sd(c.nextSibling),qr=t,Qr=!0,Zr=null,Kr=!1,null!==e&&(jr[Ur++]=Hr,jr[Ur++]=Vr,jr[Ur++]=zr,Hr=e.id,Vr=e.overflow,zr=t),(t=as(t,i.children)).flags|=4096);return t}return o?(Mi(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Bl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?o=Bl(u,o):(o=Ul(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=rs(n):(null!==(l=c.cachePool)?(u=ji._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Zi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=is(e,r,n),t.memoizedState=ns,i):(Di(t),e=(n=e.child).sibling,(n=Bl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function as(e,t){return(t=ss({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ss(e,t){return zl(e,t,0,null)}function ls(e,t,n){return Ci(t,e.child,null,n),(e=as(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function cs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ss(e.return,t,n)}function us(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ds(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ga(e,t,r.children,n),0!==(2&(r=xi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n,t);else if(19===e.tag)cs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(q(xi,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Pi(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),us(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Pi(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}us(t,!0,n,null,o);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(bs(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Bl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!vs(e))}function ps(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Wa=!0;else{if(!fs(e,n)&&0===(128&t.flags))return Wa=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),ys(t,ji,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:ys(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Di(t),t.flags|=128,null):0!==(n&t.child.childLanes)?os(e,t,n):(Di(t),null!==(e=hs(e,t,n))?e.sibling:null);Di(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(bs(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return ds(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(xi,xi.current),r)break;return null;case 22:case 23:return t.lanes=0,$a(e,t,n);case 24:ys(t,ji,e.memoizedState.cache)}return hs(e,t,n)}(e,t,n);Wa=0!==(131072&e.flags)}else Wa=!1,Qr&&0!==(1048576&t.flags)&&Gr(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===w){t.tag=11,t=Ya(null,t,r,e,n);break e}if(i===S){t.tag=14,t=Xa(null,t,r,e,n);break e}}throw t=I(r)||r,Error(a(306,t,""))}Ll(r)?(e=ka(r,e),t.tag=1,t=es(null,t,r,e,n)):(t.tag=0,t=Ka(null,t,r,e,n))}return t;case 0:return Ka(e,t,t.type,t.pendingProps,n);case 1:return es(e,t,r=t.type,i=ka(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var o=t.pendingProps;r=(i=t.memoizedState).element,Ds(e,t),Bs(t,o,null,n);var s=t.memoizedState;if(o=s.cache,ys(t,ji,o),o!==i.cache&&Cs(t,[ji],n,!0),Ls(),o=s.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ts(e,t,o,n);break e}if(o!==r){oi(r=xr(Error(a(424)),t)),t=ts(e,t,o,n);break e}for($r=sd(t.stateNode.containerInfo.firstChild),qr=t,Qr=!0,Zr=null,Kr=!0,n=bi(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),o===r){t=hs(e,t,n);break e}Ga(e,t,o,n)}t=t.child}return t;case 26:return Za(e,t),null===e?(n=md(t.type,null,t.pendingProps,null))?t.memoizedState=n:Qr||(n=t.type,e=t.pendingProps,(r=$u(Z.current).createElement(n))[Fe]=t,r[je]=e,Yu(r,n,e),Ze(r),t.stateNode=r):t.memoizedState=md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Qr&&(r=t.stateNode=cd(t.type,t.pendingProps,Z.current),qr=t,Kr=!0,$r=sd(r.firstChild)),r=t.pendingProps.children,null!==e||Qr?Ga(e,t,r,n):t.child=Ci(t,null,r,n),Za(e,t),t.child;case 5:return null===e&&Qr&&((i=r=$r)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=sd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Kr))?(t.stateNode=r,qr=t,$r=sd(r.firstChild),Kr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,Ku(i,o)?r=null:null!==s&&Ku(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=ho(e,t,go,null,null,n),Ld._currentValue=i),Za(e,t),Ga(e,t,r,n),t.child;case 6:return null===e&&Qr&&((e=n=$r)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(n,t.pendingProps,Kr))?(t.stateNode=n,qr=t,$r=null,e=!0):e=!1),e||ei(t)),null;case 13:return os(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ci(t,null,r,n):Ga(e,t,r,n),t.child;case 11:return Ya(e,t,t.type,t.pendingProps,n);case 7:return Ga(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ga(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ys(t,t.type,r.value),Ga(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,As(t),r=r(i=_s(i)),t.flags|=1,Ga(e,t,r,n),t.child;case 14:return Xa(e,t,t.type,t.pendingProps,n);case 15:return qa(e,t,t.type,t.pendingProps,n);case 19:return ds(e,t,n);case 22:return $a(e,t,n);case 24:return As(t),r=_s(ji),null===e?(null===(i=$i())&&(i=tc,o=Ui(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Rs(t),ys(t,ji,i)):(0!==(e.lanes&n)&&(Ds(e,t),Bs(t,null,null,n),Ls()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ys(t,ji,r)):(r=o.cache,ys(t,ji,r),r!==i.cache&&Cs(t,[ji],n,!0))),Ga(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var gs=Y(null),ms=null,ws=null;function ys(e,t,n){q(gs,t._currentValue),t._currentValue=n}function Es(e){e._currentValue=gs.current,X(gs)}function Ss(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ss(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ss(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function bs(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;qn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Ld):e=[Ld])}i=i.return}null!==e&&Cs(t,e,n,r),t.flags|=262144}function vs(e){for(e=e.firstContext;null!==e;){if(!qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){ms=e,ws=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _s(e){return Is(ms,e)}function Ts(e,t){return null===ms&&As(e),Is(e,t)}function Is(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ws){if(null===e)throw Error(a(308));ws=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ws=ws.next=t;return n}var Ns=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Dr(e,null,n),t}return Ir(e,r,t,n),Or(e)}function ks(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}function xs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ps=!1;function Ls(){if(Ps){if(null!==Gi)throw Gi}}function Bs(e,t,n,r){Ps=!1;var i=e.updateQueue;Ns=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(rc&h)===h:(r&h)===h){0!==h&&h===Wi&&(Ps=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,g=s;h=t;var m=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(m,d,h):p)||void 0===h)break e;d=O({},d,h);break e;case 2:Ns=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Fs(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function js(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Fs(n[e],t)}function Us(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){ru(t,t.return,s)}}function zs(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n;try{s()}catch(c){ru(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){ru(t,t.return,c)}}function Hs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{js(t,n)}catch(r){ru(e,e.return,r)}}}function Vs(e,t,n){n.props=ka(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Ws(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(o){ru(e,t,o)}}function Gs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){ru(e,t,o)}else n.current=null}function Ys(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(e,e.return,i)}}function Xs(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Wu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Wu(e,t,f,p,r,h)}}return void mt(e,s,l,c,u,d,o,i);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Wu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Wu(e,t,i,o,r,c)}return t=l,n=s,r=p,void(null!=f?Et(e,!!n,f,!1):!!r!==!!n&&(null!=t?Et(e,!!n,t,!0):Et(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Wu(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Wu(e,t,s,i,r,o)}return void St(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Wu(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Wu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Wu(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Wu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var w in n)f=n[w],n.hasOwnProperty(w)&&void 0!==f&&!r.hasOwnProperty(w)&&Gu(e,t,w,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Gu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Wu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Wu(e,t,h,f,r,p)}(r,e.type,n,t),r[je]=t}catch(i){ru(e,e.return,i)}}function qs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function $s(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||qs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Qs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Qs(e,t,n),e=e.sibling;null!==e;)Qs(e,t,n),e=e.sibling}function Zs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Zs(e,t,n),e=e.sibling;null!==e;)Zs(e,t,n),e=e.sibling}var Ks=!1,Js=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:wl(e,n),4&r&&Us(5,n);break;case 1:if(wl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ru(n,n.return,s)}else{var i=ka(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Hs(n),512&r&&Ws(n,n.return);break;case 3:if(wl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{js(r,e)}catch(s){ru(n,n.return,s)}}break;case 26:wl(e,n),512&r&&Ws(n,n.return);break;case 27:case 5:wl(e,n),null===t&&4&r&&Ys(n),512&r&&Ws(n,n.return);break;case 12:default:wl(e,n);break;case 13:wl(e,n),4&r&&ul(e,n);break;case 22:if(!(i=null!==n.memoizedState||Ks)){t=null!==t&&null!==t.memoizedState||Js;var o=Ks,a=Js;Ks=i,(Js=t)&&!a?El(e,n,0!==(8772&n.subtreeFlags)):wl(e,n),Ks=o,Js=a}512&r&&("manual"===n.memoizedProps.mode?Ws(n,n.return):Gs(n,n.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(we,n)}catch(a){}switch(n.tag){case 26:Js||Gs(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Js||Gs(n,t);var r=al,i=sl;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ye(n),al=r,sl=i;break;case 5:Js||Gs(n,t);case 6:i=al;var o=sl;if(al=null,ll(e,t,n),sl=o,null!==(al=i))if(sl)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){ru(n,t,s)}else try{al.removeChild(n.stateNode)}catch(s){ru(n,t,s)}break;case 18:null!==al&&(sl?(t=al,n=n.stateNode,8===t.nodeType?od(t.parentNode,n):1===t.nodeType&&od(t,n),gh(t)):od(al,n.stateNode));break;case 4:r=al,i=sl,al=n.stateNode.containerInfo,sl=!0,ll(e,t,n),al=r,sl=i;break;case 0:case 11:case 14:case 15:Js||zs(2,n,t),Js||zs(4,n,t),ll(e,t,n);break;case 1:Js||(Gs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Vs(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Js||Gs(n,t),Js=(r=Js)||null!==n.memoizedState,ll(e,t,n),Js=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gh(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(o,s,i),al=null,sl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),gl(e),4&r&&(zs(3,e,e.return),Us(3,e),zs(5,e,e.return));break;case 1:hl(t,e),gl(e),512&r&&(Js||null===n||Gs(n,n.return)),64&r&&Ks&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fl;if(hl(t,e),gl(e),512&r&&(Js||null===n||Gs(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ge]||o[Fe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Yu(o,r,n),o[Fe]=e,Ze(o),r=o;break e;case"link":var s=Id("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Yu(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=Id("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Yu(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Fe]=e,Ze(o),r=o}e.stateNode=r}else Nd(i,e.type,e.stateNode);else e.stateNode=bd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Nd(i,e.type,e.stateNode):bd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Xs(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,o=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[Ge]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Yu(i,h,o),i[Fe]=e,i[je]=o}catch(g){ru(e,e.return,g)}}case 5:if(hl(t,e),gl(e),512&r&&(Js||null===n||Gs(n,n.return)),32&e.flags){i=e.stateNode;try{bt(i,"")}catch(g){ru(e,e.return,g)}}4&r&&null!=e.stateNode&&Xs(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(hl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){ru(e,e.return,g)}}break;case 3:if(Td=null,i=fl,fl=hd(t.containerInfo),hl(t,e),fl=i,gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gh(t.containerInfo)}catch(g){ru(e,e.return,g)}el&&(el=!1,ml(e));break;case 4:r=fl,fl=hd(e.stateNode.containerInfo),hl(t,e),gl(e),fl=r;break;case 12:hl(t,e),gl(e);break;case 13:hl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ec=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Js||null===n||Gs(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Ks=(d=Ks)||c,Js=(h=Js)||u,hl(t,e),Js=h,Ks=d,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Ks||Js,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){ru(u,u.return,g)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){ru(u,u.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(qs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Zs(e,$s(e),i);break;case 5:var o=r.stateNode;32&r.flags&&(bt(o,""),r.flags&=-33),Zs(e,$s(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;Qs(e,$s(e),s);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function wl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zs(4,t,t.return),yl(t);break;case 1:Gs(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Vs(t,t.return,n),yl(t);break;case 26:case 27:case 5:Gs(t,t.return),yl(t);break;case 22:Gs(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function El(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:El(i,o,n),Us(4,o);break;case 1:if(El(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Fs(l[i],s)}catch(c){ru(r,r.return,c)}}n&&64&a&&Hs(o),Ws(o,o.return);break;case 26:case 27:case 5:El(i,o,n),n&&null===r&&4&a&&Ys(o),Ws(o,o.return);break;case 12:default:El(i,o,n);break;case 13:El(i,o,n),n&&4&a&&ul(i,o);break;case 22:null===o.memoizedState&&El(i,o,n),Ws(o,o.return)}t=t.sibling}}function Sl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Cl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)vl(e,t,n,r),t=t.sibling}function vl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:bl(e,t,n,r),2048&i&&Us(9,t);break;case 3:bl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){bl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else bl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?bl(e,t,n,r):_l(e,t):4&o._visibility?bl(e,t,n,r):(o._visibility|=4,Al(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Sl(t.alternate,t);break;case 24:bl(e,t,n,r),2048&i&&Cl(t.alternate,t);break;default:bl(e,t,n,r)}}function Al(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Al(o,a,s,l,i),Us(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Al(o,a,s,l,i):_l(o,a):(u._visibility|=4,Al(o,a,s,l,i)),i&&2048&c&&Sl(a.alternate,a);break;case 24:Al(o,a,s,l,i),i&&2048&c&&Cl(a.alternate,a);break;default:Al(o,a,s,l,i)}t=t.sibling}}function _l(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:_l(n,r),2048&i&&Sl(r.alternate,r);break;case 24:_l(n,r),2048&i&&Cl(r.alternate,r);break;default:_l(n,r)}t=t.sibling}}var Tl=8192;function Il(e){if(e.subtreeFlags&Tl)for(e=e.child;null!==e;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 26:Il(e),e.flags&Tl&&null!==e.memoizedState&&function(e,t,n){if(null===Dd)throw Error(a(475));var r=Dd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=wd(n.href),o=e.querySelector(yd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Md.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Ze(o);o=e.ownerDocument||e,n=Ed(n),(i=ud.get(i))&&Ad(n,i),Ze(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Yu(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Md.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:Il(e);break;case 3:case 4:var t=fl;fl=hd(e.stateNode.containerInfo),Il(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Tl,Tl=16777216,Il(e),Tl=t):Il(e))}}function Rl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Dl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,kl(r,e)}Rl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ol(e),e=e.sibling}function Ol(e){switch(e.tag){case 0:case 11:case 15:Dl(e),2048&e.flags&&zs(9,e,e.return);break;case 3:case 12:default:Dl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ml(e)):Dl(e)}}function Ml(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,kl(r,e)}Rl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:zs(8,t,t.return),Ml(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ml(t));break;default:Ml(t)}e=e.sibling}}function kl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:zs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,o=r.return;if(ol(r),r===n){nl=null;break e}if(null!==i){i.return=o,nl=i;break e}nl=o}}}function xl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new xl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jl(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)Ll(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Ul(n.children,i,o,t);case h:s=8,i|=24;break;case f:return(e=Pl(12,n,t,2|i)).elementType=f,e.lanes=o,e;case y:return(e=Pl(13,n,t,i)).elementType=y,e.lanes=o,e;case E:return(e=Pl(19,n,t,i)).elementType=E,e.lanes=o,e;case b:return zl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case m:s=10;break e;case g:s=9;break e;case w:s=11;break e;case S:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Pl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ul(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function zl(e,t,n,r){(e=Pl(22,e,r,t)).elementType=b,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=Rr(e,2);null!==t&&(i._pendingVisibility|=2,Mc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=Rr(e,2);null!==t&&(i._pendingVisibility&=-3,Mc(t,e,2))}}};return e.stateNode=i,e}function Hl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wl(e){e.flags|=4}function Gl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Rd(t)){if(null!==(t=Ni.current)&&((4194176&rc)===rc?null!==Ri:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ri))throw hi=li,si;e.flags|=8192}}function Yl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?De():536870912,e.lanes|=t,gc|=t)}function Xl(e,t){if(!Qr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $l(e,t,n){var r=t.pendingProps;switch(Xr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ql(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Es(ji),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Wl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Zr&&(xc(Zr),Zr=null))),ql(t),null;case 26:return n=t.memoizedState,null===e?(Wl(t),null!==n?(ql(t),Gl(t,n)):(ql(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wl(t),ql(t),Gl(t,n)):(ql(t),t.flags&=-16777217):(e.memoizedProps!==r&&Wl(t),ql(t),t.flags&=-16777217),null;case 27:ne(t),n=Z.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ql(t),null}e=$.current,ri(t)?ti(t):(e=cd(i,r,n),t.stateNode=e,Wl(t))}return ql(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ql(t),null}if(e=$.current,ri(t))ti(t);else{switch(i=$u(Z.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Fe]=t,e[je]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Yu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wl(t)}}return ql(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=Z.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=qr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Hu(e.nodeValue,n)))||ei(t)}else(e=$u(e).createTextNode(r))[Fe]=t,t.stateNode=e}return ql(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Fe]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ql(t),i=!1}else null!==Zr&&(xc(Zr),Zr=null),i=!0;if(!i)return 256&t.flags?(ki(t),t):(ki(t),null)}if(ki(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),ql(t),null;case 4:return ee(),null===e&&Mu(t.stateNode.containerInfo),ql(t),null;case 10:return Es(t.type),ql(t),null;case 19:if(X(xi),null===(i=t.memoizedState))return ql(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Xl(i,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Pi(e))){for(t.flags|=128,Xl(i,!1),e=o.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fl(n,e),n=n.sibling;return q(xi,1&xi.current|2),t.child}e=e.sibling}null!==i.tail&&le()>Sc&&(t.flags|=128,r=!0,Xl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Pi(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),Xl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Qr)return ql(t),null}else 2*le()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,Xl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=xi.current,q(xi,r?1&e|2:1&e),t):(ql(t),null);case 22:case 23:return ki(t),Ii(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(ql(t),6&t.subtreeFlags&&(t.flags|=8192)):ql(t),null!==(n=t.updateQueue)&&Yl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&X(qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Es(ji),ql(t),null;case 25:return null}throw Error(a(156,t.tag))}function Ql(e,t){switch(Xr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Es(ji),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(ki(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return X(xi),null;case 4:return ee(),null;case 10:return Es(t.type),null;case 22:case 23:return ki(t),Ii(),null!==e&&X(qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Es(ji),null;default:return null}}function Zl(e,t){switch(Xr(t),t.tag){case 3:Es(ji),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:ki(t);break;case 19:X(xi);break;case 10:Es(t.type);break;case 22:case 23:ki(t),Ii(),null!==e&&X(qi);break;case 24:Es(ji)}}var Kl={getCacheForType:function(e){var t=_s(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Jl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ic=0,oc=null,ac=!1,sc=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,fc=0,pc=0,gc=0,mc=null,wc=null,yc=!1,Ec=0,Sc=1/0,Cc=null,bc=null,vc=!1,Ac=null,_c=0,Tc=0,Ic=null,Nc=0,Rc=null;function Dc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==D.T){return 0!==Wi?Wi:Cu()}return Le()}function Oc(){0===pc&&(pc=0===(536870912&rc)||Qr?Re():536870912);var e=Ni.current;return null!==e&&(e.flags|=32),pc}function Mc(e,t,n){(e===tc&&2===ic||null!==e.cancelPendingCommit)&&(Uc(e,0),Bc(e,rc,pc,!1)),Me(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Bc(e,rc,pc,!1)),gu(e))}function kc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=ec;ec|=2;var r=Hc(),i=Vc();tc!==e||rc!==t?(Cc=null,Sc=le()+500,Uc(e,t)):sc=Ie(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var o=oc;t:switch(ic){case 1:ic=0,oc=null,Qc(e,t,o,1);break;case 2:if(ci(o)){ic=0,oc=null,$c(t);break}t=function(){2===ic&&tc===e&&(ic=7),gu(e)},o.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:ci(o)?(ic=0,oc=null,$c(t)):(ic=0,oc=null,Qc(e,t,o,7));break;case 5:var s=null;switch(nc.tag){case 26:s=nc.memoizedState;case 5:case 27:var l=nc;if(!s||Rd(s)){ic=0,oc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Zc(u)):nc=null}break t}}ic=0,oc=null,Qc(e,t,o,5);break;case 6:ic=0,oc=null,Qc(e,t,o,6);break;case 8:jc(),uc=6;break e;default:throw Error(a(462))}}Xc();break}catch(d){zc(e,d)}return ws=ms=null,D.H=r,D.A=i,ec=n,null!==nc?0:(tc=null,rc=0,Tr(),uc)}(e,t):Gc(e,t,!0),o=r;;){if(0===i){sc&&!r&&Bc(e,t,0,!1);break}if(6===i)Bc(e,t,0,!ac);else{if(n=e.current.alternate,o&&!Lc(n)){i=Gc(e,t,!1),o=!1;continue}if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=mc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=o,hc|=o,i=4;break e}o=wc,wc=i,null!==o&&xc(o)}i=s}if(o=!1,2!==i)continue}}if(1===i){Uc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Bc(r,t,pc,!ac);break e}break;case 2:wc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(o=Ec+300-le())){if(Bc(r,t,pc,!ac),0!==Te(r,0))break e;r.timeoutHandle=ed(Pc.bind(null,r,n,wc,Cc,yc,t,pc,hc,gc,ac,2,-0,0),o)}else Pc(r,n,wc,Cc,yc,t,pc,hc,gc,ac,0,-0,0)}}break}gu(e)}function xc(e){null===wc?wc=e:wc.push.apply(wc,e)}function Pc(e,t,n,r,i,o,s,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Dd={stylesheets:null,count:0,unsuspend:Od},Nl(t),null!==(t=function(){if(null===Dd)throw Error(a(475));var e=Dd;return e.stylesheets&&0===e.count&&xd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&xd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Jc.bind(null,e,n,r,i,s,l,c,1,h,f)),void Bc(e,o,s,!u);Jc(e,n,r,i,s,l,c,d,h,f)}function Lc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~fc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-Se(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&ke(e,n,t)}function Fc(){return 0!==(6&ec)||(mu(0,!1),!1)}function jc(){if(null!==nc){if(0===ic)var e=nc.return;else ws=ms=null,yo(e=nc),pi=null,gi=0,e=nc;for(;null!==e;)Zl(e.alternate,e),e=e.return;nc=null}}function Uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),jc(),tc=e,nc=n=Bl(e.current,null),rc=t,ic=0,oc=null,ac=!1,sc=Ie(e,t),lc=!1,gc=pc=fc=hc=dc=uc=0,wc=mc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-Se(r),o=1<<i;t|=e[i],r&=~o}return cc=t,Tr(),n}function zc(e,t){Ji=null,D.H=_a,t===ai?(t=fi(),ic=3):t===si?(t=fi(),ic=4):ic=t===Va?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===nc&&(uc=1,Fa(e,xr(t,e.current)))}function Hc(){var e=D.H;return D.H=_a,null===e?_a:e}function Vc(){var e=D.A;return D.A=Kl,e}function Wc(){uc=4,ac||(4194176&rc)!==rc&&null!==Ni.current||(sc=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Bc(tc,rc,pc,!1)}function Gc(e,t,n){var r=ec;ec|=2;var i=Hc(),o=Vc();tc===e&&rc===t||(Cc=null,Uc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==ic&&null!==nc){var s=nc,l=oc;switch(ic){case 8:jc(),a=6;break e;case 3:case 2:case 6:null===Ni.current&&(t=!0);var c=ic;if(ic=0,oc=null,Qc(e,s,l,c),n&&sc){a=0;break e}break;default:c=ic,ic=0,oc=null,Qc(e,s,l,c)}}Yc(),a=uc;break}catch(u){zc(e,u)}return t&&e.shellSuspendCounter++,ws=ms=null,ec=r,D.H=i,D.A=o,null===nc&&(tc=null,rc=0,Tr()),a}function Yc(){for(;null!==nc;)qc(nc)}function Xc(){for(;null!==nc&&!ae();)qc(nc)}function qc(e){var t=ps(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Zc(e):nc=t}function $c(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ja(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Ja(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:yo(t);default:Zl(n,t),t=ps(n,t=nc=Fl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Zc(e):nc=t}function Qc(e,t,n,r){ws=ms=null,yo(t),pi=null,gi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&bs(t,n,i,!0),null!==(n=Ni.current)){switch(n.tag){case 13:return null===Ri?Wc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),iu(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),iu(e,r,i)),!1}throw Error(a(435,n.tag))}return iu(e,r,i),Wc(),!1}if(Qr)return null!==(t=Ni.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Jr&&oi(xr(e=Error(a(422),{cause:r}),n))):(r!==Jr&&oi(xr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=xr(r,n),xs(e,i=Ua(e.stateNode,r,i)),4!==uc&&(uc=2)),!1;var o=Error(a(520),{cause:r});if(o=xr(o,n),null===mc?mc=[o]:mc.push(o),4!==uc&&(uc=2),null===t)return!0;r=xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xs(n,e=Ua(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===bc||!bc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Ha(i=za(i),e,n,r),xs(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rc))return uc=1,Fa(e,xr(n,e.current)),void(nc=null)}catch(o){if(null!==i)throw nc=i,o;return uc=1,Fa(e,xr(n,e.current)),void(nc=null)}32768&t.flags?(Qr||1===r?e=!0:sc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ni.current)&&13===r.tag&&(r.flags|=16384))),Kc(t,e)):Zc(t)}function Zc(e){var t=e;do{if(0!==(32768&t.flags))return void Kc(t,ac);e=t.return;var n=$l(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Kc(e,t){do{var n=Ql(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Jc(e,t,n,r,i,o,s,l,c,u){var d=D.T,h=H.p;try{H.p=2,D.T=null,function(e,t,n,r,i,o,s,l){do{tu()}while(null!==Ac);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-Se(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&ke(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,r,u|=_r,o,s,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||vc||(vc=!0,Tc=u,Ic=n,function(e,t){ie(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=D.T,D.T=null,o=H.p,H.p=2,s=ec,ec|=4,function(e,t){if(e=e.containerInfo,Xu=Wd,er(e=Jn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qu={focusedElem:e,selectionRange:n},Wd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(o=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=ka(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(w){ru(n,n.return,w)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}g=rl,rl=!1}(e,c),pl(c,e),tr(qu,e.containerInfo),Wd=!!Xu,qu=Xu=null,e.current=c,il(e,c.alternate,c),se(),ec=s,H.p=o,D.T=n):e.current=c,vc?(vc=!1,Ac=e,_c=r):eu(e,u),u=e.pendingLanes,0===u&&(bc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(we,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&_c)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Rc?Nc++:(Nc=0,Rc=e):Nc=0,mu(0,!1)}(e,t,n,r,h,i,o,s)}finally{D.T=d,H.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function tu(){if(null!==Ac){var e=Ac,t=Tc;Tc=0;var n=Pe(_c),r=D.T,i=H.p;try{if(H.p=32>n?32:n,D.T=null,null===Ac)var o=!1;else{n=Ic,Ic=null;var s=Ac,l=_c;if(Ac=null,_c=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Ol(s.current),vl(s,s.current,l,n),ec=c,mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(we,s)}catch(u){}o=!0}return o}finally{H.p=i,D.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=xr(n,t),null!==(e=Ms(e,t=Ua(e.stateNode,t,2),2))&&(Me(e,2),gu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===bc||!bc.has(r))){e=xr(n,e),null!==(r=Ms(t,n=za(2),2))&&(Ha(n,r,t,e),Me(r,2),gu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Jl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lc=!0,i.add(n),e=ou.bind(null,e,t,n),t.then(e,e))}function ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-Ec?0===(2&ec)&&Uc(e,0):fc|=n,gc===rc&&(gc=0)),gu(e)}function au(e,t){0===t&&(t=De()),null!==(e=Rr(e,t))&&(Me(e,t),gu(e))}function su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,hu=!1,fu=!1,pu=0;function gu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=wu,rd((function(){0!==(6&ec)?ie(ue,t):t()})))}function mu(e,t){if(!fu&&hu){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-Se(42|e)+1)-1,o=201326677&(o&=i&~(a&~s))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,Su(r,o))}else o=rc,0===(3&(o=Te(r,r===tc?o:0)))||Ie(r,o)||(n=!0,Su(r,o));r=r.next}}while(n);fu=!1}}function wu(){hu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Ju&&(Ju=e,!0);return Ju=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=cu;null!==r;){var i=r.next,o=yu(r,t);0===o?(r.next=null,null===n?cu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==e||0!==(3&o))&&(hu=!0)),r=i}mu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-Se(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=Ne(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=rc,n=Te(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Pe(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Eu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Te(e,e===tc?r:0))?null:(kc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Su(e,t){if(tu())return null;kc(e,t,!0)}function Cu(){return 0===pu&&(pu=Re()),pu}function bu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Au=0;Au<Cr.length;Au++){var _u=Cr[Au];br(_u.toLowerCase(),"on"+(_u[0].toUpperCase()+_u.slice(1)))}br(fr,"onAnimationEnd"),br(pr,"onAnimationIteration"),br(gr,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(mr,"onTransitionRun"),br(wr,"onTransitionStart"),br(yr,"onTransitionCancel"),br(Er,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function Nu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){xa(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){xa(u)}i.currentTarget=null,o=l}}}}function Ru(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(ku(t,e,2,!1),n.add(r))}function Du(e,t,n){var r=0;t&&(r|=4),ku(n,e,r,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Mu(e){if(!e[Ou]){e[Ou]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Iu.has(t)||Du(t,!1,e),Du(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ou]||(t[Ou]=!0,Du("selectionchange",!1,t))}}function ku(e,t,n,r){switch(Zd(t)){case 2:var i=Gd;break;case 8:i=Yd;break;default:i=Xd}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Xe(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Lt((function(){var r=o,i=Ot(n),a=[];e:{var s=Sr.get(e);if(void 0!==s){var l=Kt,c=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mn;break;case fr:case pr:case gr:l=an;break;case Er:l=wn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gn;break;case"toggle":case"beforetoggle":l=En}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Bt(p,h))&&u.push(Pu(p,g,f)),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Dt||!(c=n.relatedTarget||n.fromElement)||!Xe(c)&&!c[Ue])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xe(c):null)&&(d=B(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:$e(l),f=null==c?s:$e(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,Xe(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Bu(f))p++;for(f=0,g=h;g;g=Bu(g))f++;for(;0<p-f;)u=Bu(u),p--;for(;0<f-p;)h=Bu(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Bu(u),h=Bu(h)}u=null}else u=null;null!==l&&Fu(a,s,l,u,!1),null!==c&&null!==d&&Fu(a,d,c,u,!0)}if("select"===(l=(s=r?$e(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Bn;else if(On(s))if(Fn)m=Xn;else{m=Gn;var w=Wn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(m=Bn):m=Yn;switch(m&&(m=m(e,r))?Mn(a,m,n,i):(w&&w(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),w=r?$e(r):window,e){case"focusin":(On(w)||"true"===w.contentEditable)&&(rr=w,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var y;if(Cn)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Rn?In(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(An&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==E?"onCompositionEnd"===E&&Rn&&(y=Vt()):(zt="value"in(Ut=i)?Ut.value:Ut.textContent,Rn=!0)),0<(w=Lu(r,E)).length&&(E=new ln(E,e,null,n,i),a.push({event:E,listeners:w}),y?E.data=y:null!==(y=Nn(n))&&(E.data=y))),(y=vn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Tn=!0,_n);case"textInput":return(e=t.data)===_n&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Cn&&In(e,t)?(e=Vt(),Ht=zt=Ut=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(E=Lu(r,"onBeforeInput")).length&&(w=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:w,listeners:E}),w.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=bu((i[je]||null).action),a=r.submitter;a&&null!==(t=(t=a[je]||null)?bu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Kt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=a?vu(i,a):new FormData(i);da(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?vu(i,a):new FormData(i),da(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Nu(a,t)}))}function Pu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Bt(e,n))&&r.unshift(Pu(e,i,o)),null!=(i=Bt(e,t))&&r.push(Pu(e,i,o))),e=e.return}return r}function Bu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Fu(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Bt(n,o))&&a.unshift(Pu(n,c,l)):i||null!=(c=Bt(n,o))&&a.push(Pu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ju=/\r\n?/g,Uu=/\u0000|\uFFFD/g;function zu(e){return("string"===typeof e?e:""+e).replace(ju,"\n").replace(Uu,"")}function Hu(e,t){return t=zu(t),zu(e)===t}function Vu(){}function Wu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||bt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&bt(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":_t(e,r,o);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Wu(e,t,"name",i.name,i,null),Wu(e,t,"formEncType",i.formEncType,i,null),Wu(e,t,"formMethod",i.formMethod,i,null),Wu(e,t,"formTarget",i.formTarget,i,null)):(Wu(e,t,"encType",i.encType,i,null),Wu(e,t,"method",i.method,i,null),Wu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Vu);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ru("beforetoggle",e),Ru("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=It.get(n)||n,r)}}function Gu(e,t,n,r,i,o){switch(n){case"style":_t(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?bt(e,r):("number"===typeof r||"bigint"===typeof r)&&bt(e,""+r);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Je.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[je]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Yu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ru("error",e),Ru("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,r,s,n,null)}}return o&&Wu(e,t,"srcSet",n.srcSet,n,null),void(i&&Wu(e,t,"src",n.src,n,null));case"input":Ru("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Wu(e,t,i,d,n,null)}}return wt(e,r,l,c,u,s,o,!1),void dt(e);case"select":for(o in Ru("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Wu(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?Et(e,!!i,t,!1):null!=n&&Et(e,!!i,n,!0));case"textarea":for(s in Ru("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Wu(e,t,s,l,n,null)}return Ct(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Wu(e,t,c,i,n,null);return;case"dialog":Ru("cancel",e),Ru("close",e);break;case"iframe":case"object":Ru("load",e);break;case"video":case"audio":for(i=0;i<Tu.length;i++)Ru(Tu[i],e);break;case"image":Ru("error",e),Ru("load",e);break;case"details":Ru("toggle",e);break;case"embed":case"source":case"link":Ru("error",e),Ru("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Gu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Wu(e,t,l,i,n,null))}var Xu=null,qu=null;function $u(e){return 9===e.nodeType?e:e.ownerDocument}function Qu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Ku(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ju=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(id)}:ed;function id(e){setTimeout((function(){throw e}))}function od(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void gh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);gh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=$u(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fd=H.d;H.d={f:function(){var e=fd.f(),t=Fc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?fa(t):fd.r(e)},D:function(e){fd.D(e),gd("dns-prefetch",e,null)},C:function(e,t){fd.C(e,t),gd("preconnect",e,t)},L:function(e,t,n){fd.L(e,t,n);var r=pd;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var o=i;switch(t){case"style":o=wd(e);break;case"script":o=Sd(e)}ud.has(o)||(e=O({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(yd(o))||"script"===t&&r.querySelector(Cd(o))||(Yu(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}},m:function(e,t){fd.m(e,t);var n=pd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Sd(e)}if(!ud.has(o)&&(e=O({rel:"modulepreload",href:e},t),ud.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cd(o)))return}Yu(r=n.createElement("link"),"link",e),Ze(r),n.head.appendChild(r)}}},X:function(e,t){fd.X(e,t);var n=pd;if(n&&e){var r=Qe(n).hoistableScripts,i=Sd(e),o=r.get(i);o||((o=n.querySelector(Cd(i)))||(e=O({src:e,async:!0},t),(t=ud.get(i))&&_d(e,t),Ze(o=n.createElement("script")),Yu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){fd.S(e,t,n);var r=pd;if(r&&e){var i=Qe(r).hoistableStyles,o=wd(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(yd(o)))s.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(o))&&Ad(e,n);var l=a=r.createElement("link");Ze(l),Yu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,vd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){fd.M(e,t);var n=pd;if(n&&e){var r=Qe(n).hoistableScripts,i=Sd(e),o=r.get(i);o||((o=n.querySelector(Cd(i)))||(e=O({src:e,async:!0,type:"module"},t),(t=ud.get(i))&&_d(e,t),Ze(o=n.createElement("script")),Yu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var pd="undefined"===typeof document?null:document;function gd(e,t,n){var r=pd;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),dd.has(i)||(dd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Yu(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}}function md(e,t,n,r){var i,o,s,l,c=(c=Z.current)?hd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=wd(n.href),(r=(n=Qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=wd(n.href);var u=Qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(i=c,o=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),Yu(o,"link",s),Ze(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Sd(n),(r=(n=Qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function wd(e){return'href="'+gt(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function Ed(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function Sd(e){return'[src="'+gt(e)+'"]'}function Cd(e){return"script[async]"+e}function bd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Ze(r),r;var i=O({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ze(r=(e.ownerDocument||e).createElement("style")),Yu(r,"style",i),vd(r,n.precedence,e),t.instance=r;case"stylesheet":i=wd(n.href);var o=e.querySelector(yd(i));if(o)return t.state.loading|=4,t.instance=o,Ze(o),o;r=Ed(n),(i=ud.get(i))&&Ad(r,i),Ze(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Yu(o,"link",r),t.state.loading|=4,vd(o,n.precedence,e),t.instance=o;case"script":return o=Sd(n.src),(i=e.querySelector(Cd(o)))?(t.instance=i,Ze(i),i):(r=n,(i=ud.get(o))&&_d(r=O({},n),i),Ze(i=(e=e.ownerDocument||e).createElement("script")),Yu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,vd(r,n.precedence,e));return t.instance}function vd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ad(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function _d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Td=null;function Id(e,t,n){if(null===Td){var r=new Map,i=Td=new Map;i.set(n,r)}else(r=(i=Td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ge]||o[Fe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Nd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Rd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Dd=null;function Od(){}function Md(){if(this.count--,0===this.count)if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var kd=null;function xd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,kd=new Map,t.forEach(Pd,e),kd=null,Md.call(e))}function Pd(e,t){if(!(4&t.state.loading)){var n=kd.get(e);if(n)var r=n.get(null);else{n=new Map,kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Md.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Ld={$$typeof:m,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Bd(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Fd(e,t,n,r,i,o,a,s,l,c,u,d){return e=new Bd(e,t,n,a,s,l,c,d),t=1,!0===o&&(t|=24),o=Pl(3,null,null,t),e.current=o,o.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Rs(o),e}function jd(e){return e?e=Mr:Mr}function Ud(e,t,n,r,i,o){i=jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=Os(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=Ms(e,r,t))&&(Mc(n,0,t),ks(n,e,t))}function zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hd(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Vd(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Mc(t,0,67108864),Hd(e,67108864)}}var Wd=!0;function Gd(e,t,n,r){var i=D.T;D.T=null;var o=H.p;try{H.p=2,Xd(e,t,n,r)}finally{H.p=o,D.T=i}}function Yd(e,t,n,r){var i=D.T;D.T=null;var o=H.p;try{H.p=8,Xd(e,t,n,r)}finally{H.p=o,D.T=i}}function Xd(e,t,n,r){if(Wd){var i=qd(r);if(null===i)xu(e,t,r,$d,n),ah(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Jd=sh(Jd,e,t,n,r,i),!0;case"dragenter":return eh=sh(eh,e,t,n,r,i),!0;case"mouseover":return th=sh(th,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return nh.set(o,sh(nh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rh.set(o,sh(rh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<oh.indexOf(e)){for(;null!==i;){var o=qe(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=_e(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-Se(a);s.entanglements[1]|=l,a&=~l}gu(o),0===(6&ec)&&(Sc=le()+500,mu(0,!1))}}break;case 13:null!==(s=Rr(o,2))&&Mc(s,0,2),Fc(),Hd(o,2)}if(null===(o=qd(r))&&xu(e,t,r,$d,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else xu(e,t,r,null,n)}}function qd(e){return Qd(e=Ot(e))}var $d=null;function Qd(e){if($d=null,null!==(e=Xe(e))){var t=B(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=F(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $d=e,null}function Zd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Kd=!1,Jd=null,eh=null,th=null,nh=new Map,rh=new Map,ih=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":Jd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function sh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=qe(t))&&Vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lh(e){var t=Xe(e.target);if(null!==t){var n=B(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=F(n)))return e.blockedOn=t,void function(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}(e.priority,(function(){if(13===n.tag){var e=Dc(),t=Rr(n,e);null!==t&&Mc(t,0,e),Hd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qd(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&Vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Kd=!1,null!==Jd&&ch(Jd)&&(Jd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Kd||(Kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var fh=null;function ph(e){fh!==e&&(fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fh===e&&(fh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Qd(r||n))continue;break}var o=qe(n);null!==o&&(e.splice(t,3),t-=3,da(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function gh(e){function t(t){return hh(t,e)}null!==Jd&&hh(Jd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<ih.length;n++){var r=ih[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ih.length&&null===(n=ih[0]).blockedOn;)lh(n),null===n.blockedOn&&ih.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[je]||null;if("function"===typeof o)a||ph(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[je]||null)s=a.formAction;else if(null!==Qd(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),ph(n)}}}function mh(e){this._internalRoot=e}function wh(e){this._internalRoot=e}wh.prototype.render=mh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ud(t.current,Dc(),e,t,null,null)},wh.prototype.unmount=mh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Ud(e.current,2,null,e,null,null),Fc(),t[Ue]=null}},wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ih.length&&0!==t&&t<ih[n].priority;n++);ih.splice(n,0,e),0===n&&lh(e)}};var yh=i.version;if("19.0.0"!==yh)throw Error(a(527,yh,"19.0.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=B(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return j(i),e;if(o===r)return j(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?U(e):null)?null:e.stateNode};var Eh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:Xe,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{we=Sh.inject(Eh),ye=Sh}catch(bh){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=Pa,o=La,l=Ba;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Fd(e,1,!1,null,0,n,r,i,o,l,0,null),e[Ue]=t.current,Mu(8===e.nodeType?e.parentNode:e),new mh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=Pa,l=La,c=Ba,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Fd(e,1,!0,t,0,r,i,o,l,c,0,u)).context=jd(null),n=t.current,(i=Os(r=Dc())).callback=null,Ms(n,i,r),t.current.lanes=r,Me(t,r),gu(t),e[Ue]=t.current,Mu(e),new wh(t)},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},72:function(e,t,n){!function(e){"use strict";function t(e){return null===e||void 0===e}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function a(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var s,l=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.defineProperty(r,"name",{value:n.name,enumerable:!1}),o(r,n.prototype),a(r),r}return i(t,e),t}(Error);class c extends l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;super(e),this.message=e}getKind(){return this.constructor.kind}}c.kind="Exception";class u extends c{}u.kind="ArgumentException";class d extends c{}d.kind="IllegalArgumentException";class h{constructor(e){if(this.binarizer=e,null===e)throw new d("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,r){const i=this.binarizer.getLuminanceSource().crop(e,t,n,r);return new h(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new h(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new h(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class f extends c{static getChecksumInstance(){return new f}}f.kind="ChecksumException";class p{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class g{static arraycopy(e,t,n,r,i){for(;i--;)n[r++]=e[t++]}static currentTimeMillis(){return Date.now()}}class m extends c{}m.kind="IndexOutOfBoundsException";class w extends m{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(t),this.index=e,this.message=t}}w.kind="ArrayIndexOutOfBoundsException";class y{static fill(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t}static fillWithin(e,t,n,r){y.rangeCheck(e.length,t,n);for(let i=t;i<n;i++)e[i]=r}static rangeCheck(e,t,n){if(t>n)throw new d("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new w(t);if(n>e)throw new w(n)}static asList(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}static create(e,t,n){return Array.from({length:e}).map((e=>Array.from({length:t}).fill(n)))}static createInt32Array(e,t,n){return Array.from({length:e}).map((e=>Int32Array.from({length:t}).fill(n)))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const r=n-t,i=new Int32Array(r);return g.arraycopy(e,t,i,0,r),i}static binarySearch(e,t,n){void 0===n&&(n=y.numberComparator);let r=0,i=e.length-1;for(;r<=i;){const o=i+r>>1,a=n(t,e[o]);if(a>0)r=o+1;else{if(!(a<0))return o;i=o-1}}return-r-1}static numberComparator(e,t){return e-t}}class E{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let n=31;return t=e<<16,0!==t&&(n-=16,e=t),t=e<<8,0!==t&&(n-=8,e=t),t=e<<4,0!==t&&(n-=4,e=t),t=e<<2,0!==t&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}E.MIN_VALUE_32_BITS=-2147483648,E.MAX_VALUE=Number.MAX_SAFE_INTEGER;class S{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=void 0===t||null===t?S.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=S.makeArray(e);g.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),i=n[r];i&=~((1<<(31&e))-1);const o=n.length;for(;0===i;){if(++r===o)return t;i=n[r]}const a=32*r+E.numberOfTrailingZeros(i);return a>t?t:a}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),i=~n[r];i&=~((1<<(31&e))-1);const o=n.length;for(;0===i;){if(++r===o)return t;i=~n[r]}const a=32*r+E.numberOfTrailingZeros(i);return a>t?t:a}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new d;if(t===e)return;t--;const n=Math.floor(e/32),r=Math.floor(t/32),i=this.bits;for(let o=n;o<=r;o++){const a=(2<<(o<r?31:31&t))-(1<<(o>n?0:31&e));i[o]|=a}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new d;if(t===e)return!0;t--;const r=Math.floor(e/32),i=Math.floor(t/32),o=this.bits;for(let a=r;a<=i;a++){const s=(2<<(a<i?31:31&t))-(1<<(a>r?0:31&e))&4294967295;if((o[a]&s)!==(n?s:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new d("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit(1===(e>>n-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new d("Sizes don't match");const t=this.bits;for(let n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]}toBytes(e,t,n,r){for(let i=0;i<r;i++){let r=0;for(let t=0;t<8;t++)this.get(e)&&(r|=1<<7-t),e++;t[n+i]=r}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits;for(let i=0;i<n;i++){let n=r[i];n=n>>1&1431655765|(1431655765&n)<<1,n=n>>2&858993459|(858993459&n)<<2,n=n>>4&252645135|(252645135&n)<<4,n=n>>8&16711935|(16711935&n)<<8,n=n>>16&65535|(65535&n)<<16,e[t-i]=n}if(this.size!==32*n){const t=32*n-this.size;let r=e[0]>>>t;for(let i=1;i<n;i++){const n=e[i];r|=n<<32-t,e[i-1]=r,r=n>>>t}e[n-1]=r}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof S))return!1;const t=e;return this.size===t.size&&y.equals(this.bits,t.bits)}hashCode(){return 31*this.size+y.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new S(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(s||(s={}));var C,b=s;class v extends c{static getFormatInstance(){return new v}}v.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(C||(C={}));class A{constructor(e,t,n){this.valueIdentifier=e,this.name=n,this.values="number"===typeof t?Int32Array.from([t]):t;for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];this.otherEncodingNames=i,A.VALUE_IDENTIFIER_TO_ECI.set(e,this),A.NAME_TO_ECI.set(n,this);const a=this.values;for(let s=0,l=a.length;s!==l;s++){const e=a[s];A.VALUES_TO_ECI.set(e,this)}for(const s of i)A.NAME_TO_ECI.set(s,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new v("incorect value");const t=A.VALUES_TO_ECI.get(e);if(void 0===t)throw new v("incorect value");return t}static getCharacterSetECIByName(e){const t=A.NAME_TO_ECI.get(e);if(void 0===t)throw new v("incorect value");return t}equals(e){if(!(e instanceof A))return!1;const t=e;return this.getName()===t.getName()}}A.VALUE_IDENTIFIER_TO_ECI=new Map,A.VALUES_TO_ECI=new Map,A.NAME_TO_ECI=new Map,A.Cp437=new A(C.Cp437,Int32Array.from([0,2]),"Cp437"),A.ISO8859_1=new A(C.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),A.ISO8859_2=new A(C.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),A.ISO8859_3=new A(C.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),A.ISO8859_4=new A(C.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),A.ISO8859_5=new A(C.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),A.ISO8859_6=new A(C.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),A.ISO8859_7=new A(C.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),A.ISO8859_8=new A(C.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),A.ISO8859_9=new A(C.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),A.ISO8859_10=new A(C.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),A.ISO8859_11=new A(C.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),A.ISO8859_13=new A(C.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),A.ISO8859_14=new A(C.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),A.ISO8859_15=new A(C.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),A.ISO8859_16=new A(C.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),A.SJIS=new A(C.SJIS,20,"SJIS","Shift_JIS"),A.Cp1250=new A(C.Cp1250,21,"Cp1250","windows-1250"),A.Cp1251=new A(C.Cp1251,22,"Cp1251","windows-1251"),A.Cp1252=new A(C.Cp1252,23,"Cp1252","windows-1252"),A.Cp1256=new A(C.Cp1256,24,"Cp1256","windows-1256"),A.UnicodeBigUnmarked=new A(C.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),A.UTF8=new A(C.UTF8,26,"UTF8","UTF-8"),A.ASCII=new A(C.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),A.Big5=new A(C.Big5,28,"Big5"),A.GB18030=new A(C.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),A.EUC_KR=new A(C.EUC_KR,30,"EUC_KR","EUC-KR");class _ extends c{}_.kind="UnsupportedOperationException";class T{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!T.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"===typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof A?e:A.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(T.isDecodeFallbackSupported(n)){let t="";for(let n=0,r=e.length;n<r;n++){let r=e[n].toString(16);r.length<2&&(r="0"+r),t+="%"+r}return decodeURIComponent(t)}if(n.equals(A.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(A.UTF8)||e.equals(A.ISO8859_1)||e.equals(A.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let r=0;r<t.length;r++)n.push(t[r].charCodeAt(0));return new Uint8Array(n)}}class I{static castAsNonUtf8Char(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?t.getName():this.ISO88591;return T.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(null!==t&&void 0!==t&&void 0!==t.get(b.CHARACTER_SET))return t.get(b.CHARACTER_SET).toString();const n=e.length;let r=!0,i=!0,o=!0,a=0,s=0,l=0,c=0,u=0,d=0,h=0,f=0,p=0,g=0,m=0;const w=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let y=0;y<n&&(r||i||o);y++){const t=255&e[y];o&&(a>0?0===(128&t)?o=!1:a--:0!==(128&t)&&(0===(64&t)?o=!1:(a++,0===(32&t)?s++:(a++,0===(16&t)?l++:(a++,0===(8&t)?c++:o=!1))))),r&&(t>127&&t<160?r=!1:t>159&&(t<192||215===t||247===t)&&m++),i&&(u>0?t<64||127===t||t>252?i=!1:u--:128===t||160===t||t>239?i=!1:t>160&&t<224?(d++,f=0,h++,h>p&&(p=h)):t>127?(u++,h=0,f++,f>g&&(g=f)):(h=0,f=0))}return o&&a>0&&(o=!1),i&&u>0&&(i=!1),o&&(w||s+l+c>0)?I.UTF8:i&&(I.ASSUME_SHIFT_JIS||p>=3||g>=3)?I.SHIFT_JIS:r&&i?2===p&&2===d||10*m>=n?I.SHIFT_JIS:I.ISO88591:r?I.ISO88591:i?I.SHIFT_JIS:o?I.UTF8:I.PLATFORM_DEFAULT_ENCODING}static format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=-1;function o(e,t,r,o,a,s){if("%%"===e)return"%";if(void 0===n[++i])return;e=o?parseInt(o.substr(1)):void 0;let l,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":l=n[i];break;case"c":l=n[i][0];break;case"f":l=parseFloat(n[i]).toFixed(e);break;case"p":l=parseFloat(n[i]).toPrecision(e);break;case"e":l=parseFloat(n[i]).toExponential(e);break;case"x":l=parseInt(n[i]).toString(c||16);break;case"d":l=parseFloat(parseInt(n[i],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(r),d=r&&r[0]+""==="0"?"0":" ";for(;l.length<u;)l=void 0!==t?l+d:d+l;return l}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}static getBytes(e,t){return T.encode(e,t)}static getCharCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}I.SHIFT_JIS=A.SJIS.getName(),I.GB2312="GB2312",I.ISO88591=A.ISO8859_1.getName(),I.EUC_JP="EUC_JP",I.UTF8=A.UTF8.getName(),I.PLATFORM_DEFAULT_ENCODING=I.UTF8,I.ASSUME_SHIFT_JIS=!1;class N{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=I.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let r=t;t<t+n;r++)this.append(e[r]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class R{constructor(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new d("Both dimensions must be greater than 0");void 0!==n&&null!==n||(n=Math.floor((e+31)/32)),this.rowSize=n,void 0!==r&&null!==r||(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,r=new R(n,t);for(let i=0;i<t;i++){const t=e[i];for(let e=0;e<n;e++)t[e]&&r.set(e,i)}return r}static parseFromString(e,t,n){if(null===e)throw new d("stringRepresentation cannot be null");const r=new Array(e.length);let i=0,o=0,a=-1,s=0,l=0;for(;l<e.length;)if("\n"===e.charAt(l)||"\r"===e.charAt(l)){if(i>o){if(-1===a)a=i-o;else if(i-o!==a)throw new d("row lengths do not match");o=i,s++}l++}else if(e.substring(l,l+t.length)===t)l+=t.length,r[i]=!0,i++;else{if(e.substring(l,l+n.length)!==n)throw new d("illegal character encountered: "+e.substring(l));l+=n.length,r[i]=!1,i++}if(i>o){if(-1===a)a=i-o;else if(i-o!==a)throw new d("row lengths do not match");s++}const c=new R(a,s);for(let u=0;u<i;u++)r[u]&&c.set(Math.floor(u%a),Math.floor(u/a));return c}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[n]>>>(31&e)&1)}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new d("input matrix dimensions do not match");const t=new S(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits;for(let i=0,o=this.height;i<o;i++){const o=i*n,a=e.getRow(i,t).getBitArray();for(let e=0;e<n;e++)r[o+e]^=a[e]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,r){if(t<0||e<0)throw new d("Left and top must be nonnegative");if(r<1||n<1)throw new d("Height and width must be at least 1");const i=e+n,o=t+r;if(o>this.height||i>this.width)throw new d("The region must fit inside the matrix");const a=this.rowSize,s=this.bits;for(let l=t;l<o;l++){const t=l*a;for(let n=e;n<i;n++)s[t+Math.floor(n/32)]|=1<<(31&n)&4294967295}}getRow(e,t){null===t||void 0===t||t.getSize()<this.width?t=new S(this.width):t.clear();const n=this.rowSize,r=this.bits,i=e*n;for(let o=0;o<n;o++)t.setBulk(32*o,r[i+o]);return t}setRow(e,t){g.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new S(e),r=new S(e);for(let i=0,o=Math.floor((t+1)/2);i<o;i++)n=this.getRow(i,n),r=this.getRow(t-1-i,r),n.reverse(),r.reverse(),this.setRow(i,r),this.setRow(t-1-i,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,r=this.bits;let i=e,o=t,a=-1,s=-1;for(let l=0;l<t;l++)for(let e=0;e<n;e++){const t=r[l*n+e];if(0!==t){if(l<o&&(o=l),l>s&&(s=l),32*e<i){let n=0;for(;0===(t<<31-n&4294967295);)n++;32*e+n<i&&(i=32*e+n)}if(32*e+31>a){let n=31;for(;t>>>n===0;)n--;32*e+n>a&&(a=32*e+n)}}}return a<i||s<o?null:Int32Array.from([i,o,a-i+1,s-o+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&0===t[n];)n++;if(n===t.length)return null;const r=n/e;let i=n%e*32;const o=t[n];let a=0;for(;0===(o<<31-a&4294967295);)a++;return i+=a,Int32Array.from([i,r])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&0===t[n];)n--;if(n<0)return null;const r=Math.floor(n/e);let i=32*Math.floor(n%e);const o=t[n];let a=31;for(;o>>>a===0;)a--;return i+=a,Int32Array.from([i,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof R))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&y.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+y.hashCode(this.bits),e}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"X ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return this.buildToString(e,t,n)}buildToString(e,t,n){let r=new N;for(let i=0,o=this.height;i<o;i++){for(let n=0,o=this.width;n<o;n++)r.append(this.get(n,i)?e:t);r.append(n)}return r.toString()}clone(){return new R(this.width,this.height,this.rowSize,this.bits.slice())}}class D extends c{static getNotFoundInstance(){return new D}}D.kind="NotFoundException";class O extends p{constructor(e){super(e),this.luminances=O.EMPTY,this.buckets=new Int32Array(O.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),r=n.getWidth();void 0===t||null===t||t.getSize()<r?t=new S(r):t.clear(),this.initArrays(r);const i=n.getRow(e,this.luminances),o=this.buckets;for(let s=0;s<r;s++)o[(255&i[s])>>O.LUMINANCE_SHIFT]++;const a=O.estimateBlackPoint(o);if(r<3)for(let s=0;s<r;s++)(255&i[s])<a&&t.set(s);else{let e=255&i[0],n=255&i[1];for(let o=1;o<r-1;o++){const r=255&i[o+1];(4*n-e-r)/2<a&&t.set(o),e=n,n=r}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),r=new R(t,n);this.initArrays(t);const i=this.buckets;for(let s=1;s<5;s++){const r=Math.floor(n*s/5),o=e.getRow(r,this.luminances),a=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<a;e++)i[(255&o[e])>>O.LUMINANCE_SHIFT]++}const o=O.estimateBlackPoint(i),a=e.getMatrix();for(let s=0;s<n;s++){const e=s*t;for(let n=0;n<t;n++)(255&a[e+n])<o&&r.set(n,s)}return r}createBinarizer(e){return new O(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<O.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,r=0,i=0;for(let c=0;c<t;c++)e[c]>i&&(r=c,i=e[c]),e[c]>n&&(n=e[c]);let o=0,a=0;for(let c=0;c<t;c++){const t=c-r,n=e[c]*t*t;n>a&&(o=c,a=n)}if(r>o){const e=r;r=o,o=e}if(o-r<=t/16)throw new D;let s=o-1,l=-1;for(let c=o-1;c>r;c--){const t=c-r,i=t*t*(o-c)*(n-e[c]);i>l&&(s=c,l=i)}return s<<O.LUMINANCE_SHIFT}}O.LUMINANCE_BITS=5,O.LUMINANCE_SHIFT=8-O.LUMINANCE_BITS,O.LUMINANCE_BUCKETS=1<<O.LUMINANCE_BITS,O.EMPTY=Uint8ClampedArray.from([0]);class M extends O{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=M.MINIMUM_DIMENSION&&n>=M.MINIMUM_DIMENSION){const r=e.getMatrix();let i=t>>M.BLOCK_SIZE_POWER;0!==(t&M.BLOCK_SIZE_MASK)&&i++;let o=n>>M.BLOCK_SIZE_POWER;0!==(n&M.BLOCK_SIZE_MASK)&&o++;const a=M.calculateBlackPoints(r,i,o,t,n),s=new R(t,n);M.calculateThresholdForBlock(r,i,o,t,n,a,s),this.matrix=s}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new M(e)}static calculateThresholdForBlock(e,t,n,r,i,o,a){const s=i-M.BLOCK_SIZE,l=r-M.BLOCK_SIZE;for(let c=0;c<n;c++){let i=c<<M.BLOCK_SIZE_POWER;i>s&&(i=s);const u=M.cap(c,2,n-3);for(let n=0;n<t;n++){let s=n<<M.BLOCK_SIZE_POWER;s>l&&(s=l);const c=M.cap(n,2,t-3);let d=0;for(let e=-2;e<=2;e++){const t=o[u+e];d+=t[c-2]+t[c-1]+t[c]+t[c+1]+t[c+2]}const h=d/25;M.thresholdBlock(e,s,i,h,r,a)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,r,i,o){for(let a=0,s=n*i+t;a<M.BLOCK_SIZE;a++,s+=i)for(let i=0;i<M.BLOCK_SIZE;i++)(255&e[s+i])<=r&&o.set(t+i,n+a)}static calculateBlackPoints(e,t,n,r,i){const o=i-M.BLOCK_SIZE,a=r-M.BLOCK_SIZE,s=new Array(n);for(let l=0;l<n;l++){s[l]=new Int32Array(t);let n=l<<M.BLOCK_SIZE_POWER;n>o&&(n=o);for(let i=0;i<t;i++){let t=i<<M.BLOCK_SIZE_POWER;t>a&&(t=a);let o=0,c=255,u=0;for(let i=0,a=n*r+t;i<M.BLOCK_SIZE;i++,a+=r){for(let t=0;t<M.BLOCK_SIZE;t++){const n=255&e[a+t];o+=n,n<c&&(c=n),n>u&&(u=n)}if(u-c>M.MIN_DYNAMIC_RANGE)for(i++,a+=r;i<M.BLOCK_SIZE;i++,a+=r)for(let t=0;t<M.BLOCK_SIZE;t++)o+=255&e[a+t]}let d=o>>2*M.BLOCK_SIZE_POWER;if(u-c<=M.MIN_DYNAMIC_RANGE&&(d=c/2,l>0&&i>0)){const e=(s[l-1][i]+2*s[l][i-1]+s[l-1][i-1])/4;c<e&&(d=e)}s[l][i]=d}}return s}}M.BLOCK_SIZE_POWER=3,M.BLOCK_SIZE=1<<M.BLOCK_SIZE_POWER,M.BLOCK_SIZE_MASK=M.BLOCK_SIZE-1,M.MINIMUM_DIMENSION=5*M.BLOCK_SIZE,M.MIN_DYNAMIC_RANGE=24;class k{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,r){throw new _("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new N;for(let n=0;n<this.height;n++){const r=this.getRow(n,e);for(let e=0;e<this.width;e++){const n=255&r[e];let i;i=n<64?"#":n<128?"+":n<192?".":" ",t.append(i)}t.append("\n")}return t.toString()}}class x extends k{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),r=this.getWidth();for(let i=0;i<r;i++)n[i]=255-(255&n[i]);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let r=0;r<t;r++)n[r]=255-(255&e[r]);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,r){return new x(this.delegate.crop(e,t,n,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new x(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new x(this.delegate.rotateCounterClockwise45())}}class P extends k{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=P.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return P.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const r=new Uint8ClampedArray(t*n);for(let i=0,o=0,a=e.length;i<a;i+=4,o++){let t;t=0===e[i+3]?255:306*e[i]+601*e[i+1]+117*e[i+2]+512>>10,r[o]=t}return r}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth(),r=e*n;return null===t?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,r){return super.crop(e,t,n,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),r=e*P.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(r))*i+Math.abs(Math.sin(r))*o),s=Math.ceil(Math.abs(Math.sin(r))*i+Math.abs(Math.cos(r))*o);return t.width=a,t.height=s,n.translate(a/2,s/2),n.rotate(r),n.drawImage(this.canvas,i/-2,o/-2),this.buffer=P.makeBufferFromCanvasImageData(t),this}invert(){return new x(this)}}P.DEGREE_TO_RADIANS=Math.PI/180;class L{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var B,F=(globalThis||n.g||self||window?(globalThis||n.g||self||window||void 0).__awaiter:void 0)||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class j{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2?arguments[2]:void 0;this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!==typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return F(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const e="video"===n.kind?"videoinput":n.kind;if("videoinput"!==e)continue;const r={deviceId:n.deviceId||n.id,label:n.label||`Video device ${t.length+1}`,kind:e,groupId:n.groupId};t.push(r)}return t}))}getVideoInputDevices(){return F(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((e=>new L(e.deviceId,e.label)))}))}findDeviceById(e){return F(this,void 0,void 0,(function*(){const t=yield this.listVideoInputDevices();return t?t.find((t=>t.deviceId===e)):null}))}decodeFromInputVideoDevice(e,t){return F(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(e,t)}))}decodeOnceFromVideoDevice(e,t){return F(this,void 0,void 0,(function*(){let n;this.reset(),n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const r={video:n};return yield this.decodeOnceFromConstraints(r,t)}))}decodeOnceFromConstraints(e,t){return F(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)}))}decodeOnceFromStream(e,t){return F(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)}))}decodeFromInputVideoDeviceContinuously(e,t,n){return F(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(e,t,n)}))}decodeFromVideoDevice(e,t,n){return F(this,void 0,void 0,(function*(){let r;r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const i={video:r};return yield this.decodeFromConstraints(i,t,n)}))}decodeFromConstraints(e,t,n){return F(this,void 0,void 0,(function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(r,t,n)}))}decodeFromStream(e,t,n){return F(this,void 0,void 0,(function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(r,n)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return F(this,void 0,void 0,(function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n}))}playVideoOnLoadAsync(e){return new Promise(((t,n)=>this.playVideoOnLoad(e,(()=>t()))))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return F(this,void 0,void 0,(function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(t){console.warn("It was not possible to play the video.")}}))}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new u(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new u(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new u("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(void 0===e&&void 0===t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new u("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let n;return this.imageElement=t,n=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new u("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new u("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r}_decodeOnLoadImage(e){return new Promise(((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)}))}_decodeOnLoadVideo(e){return F(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)}))}_decodeOnLoadVideoContinuously(e,t){return F(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)}))}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return"undefined"===typeof e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"===typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._stopAsyncDecode=!1;const r=(i,o)=>{if(this._stopAsyncDecode)return o(new D("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{i(this.decode(e))}catch(a){if(t&&a instanceof D||(a instanceof f||a instanceof v)&&n)return setTimeout(r,this._timeBetweenDecodingAttempts,i,o);o(a)}};return new Promise(((e,t)=>r(e,t)))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const r=this.decode(e);t(r,null),setTimeout(n,this.timeBetweenScansMillis)}catch(r){t(null,r),(r instanceof f||r instanceof v||r instanceof D)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.captureCanvasContext;t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new P(t),r=new M(n);return new h(r)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,r;return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=r+"px",t.width=n,t.height=r,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach((e=>e.stop())),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class U{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?0:8*t.length,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:g.currentTimeMillis();this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=i,this.timestamp=o,this.text=e,this.rawBytes=t,this.numBits=void 0===n||null===n?null===t||void 0===t?0:8*t.length:n,this.resultPoints=r,this.format=i,this.resultMetadata=null,this.timestamp=void 0===o||null===o?g.currentTimeMillis():o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const n=new Array(t.length+e.length);g.arraycopy(t,0,n,0,t.length),g.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(B||(B={}));var z,H=B;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(z||(z={}));var V,W,G,Y,X,q,$=z;class Q{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=void 0===e||null===e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Z{exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class K{constructor(e,t){if(0===t.length)throw new d;this.field=e;const n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-e),g.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let n;if(1===e){n=0;for(let e=0,r=t.length;e!==r;e++){const r=t[e];n=Z.addOrSubtract(n,r)}return n}n=t[0];const r=t.length,i=this.field;for(let o=1;o<r;o++)n=Z.addOrSubtract(i.multiply(e,n),t[o]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const e=t;t=n,n=e}let r=new Int32Array(n.length);const i=n.length-t.length;g.arraycopy(n,0,r,0,i);for(let o=i;o<n.length;o++)r[o]=Z.addOrSubtract(t[o-i],n[o]);return new K(this.field,r)}multiply(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,o=new Int32Array(n+i-1),a=this.field;for(let s=0;s<n;s++){const e=t[s];for(let t=0;t<i;t++)o[s+t]=Z.addOrSubtract(o[s+t],a.multiply(e,r[t]))}return new K(a,o)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,n=this.field,r=new Int32Array(t),i=this.coefficients;for(let o=0;o<t;o++)r[o]=n.multiply(i[o],e);return new K(n,r)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return this.field.getZero();const n=this.coefficients,r=n.length,i=new Int32Array(r+e),o=this.field;for(let a=0;a<r;a++)i[a]=o.multiply(n[a],t);return new K(o,i)}divide(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new d("Divide by 0");const t=this.field;let n=t.getZero(),r=this;const i=e.getCoefficient(e.getDegree()),o=t.inverse(i);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){const i=r.getDegree()-e.getDegree(),a=t.multiply(r.getCoefficient(r.getDegree()),o),s=e.multiplyByMonomial(i,a),l=t.buildMonomial(i,a);n=n.addOrSubtract(l),r=r.addOrSubtract(s)}return[n,r]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){const t=this.field.log(n);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class J extends c{}J.kind="ArithmeticException";class ee extends Z{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const r=new Int32Array(t);let i=1;for(let a=0;a<t;a++)r[a]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=r;const o=new Int32Array(t);for(let a=0;a<t-1;a++)o[r[a]]=a;this.logTable=o,this.zero=new K(this,Int32Array.from([0])),this.one=new K(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new K(this,n)}inverse(e){if(0===e)throw new J;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+E.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ee.AZTEC_DATA_12=new ee(4201,4096,1),ee.AZTEC_DATA_10=new ee(1033,1024,1),ee.AZTEC_DATA_6=new ee(67,64,1),ee.AZTEC_PARAM=new ee(19,16,1),ee.QR_CODE_FIELD_256=new ee(285,256,0),ee.DATA_MATRIX_FIELD_256=new ee(301,256,1),ee.AZTEC_DATA_8=ee.DATA_MATRIX_FIELD_256,ee.MAXICODE_FIELD_64=ee.AZTEC_DATA_6;class te extends c{}te.kind="ReedSolomonException";class ne extends c{}ne.kind="IllegalStateException";class re{constructor(e){this.field=e}decode(e,t){const n=this.field,r=new K(n,e),i=new Int32Array(t);let o=!0;for(let h=0;h<t;h++){const e=r.evaluateAt(n.exp(h+n.getGeneratorBase()));i[i.length-1-h]=e,0!==e&&(o=!1)}if(o)return;const a=new K(n,i),s=this.runEuclideanAlgorithm(n.buildMonomial(t,1),a,t),l=s[0],c=s[1],u=this.findErrorLocations(l),d=this.findErrorMagnitudes(c,u);for(let h=0;h<u.length;h++){const t=e.length-1-n.log(u[h]);if(t<0)throw new te("Bad error location");e[t]=ee.addOrSubtract(e[t],d[h])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const n=e;e=t,t=n}const r=this.field;let i=e,o=t,a=r.getZero(),s=r.getOne();for(;o.getDegree()>=(n/2|0);){let e=i,t=a;if(i=o,a=s,i.isZero())throw new te("r_{i-1} was zero");o=e;let n=r.getZero();const l=i.getCoefficient(i.getDegree()),c=r.inverse(l);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){const e=o.getDegree()-i.getDegree(),t=r.multiply(o.getCoefficient(o.getDegree()),c);n=n.addOrSubtract(r.buildMonomial(e,t)),o=o.addOrSubtract(i.multiplyByMonomial(e,t))}if(s=n.multiply(a).addOrSubtract(t),o.getDegree()>=i.getDegree())throw new ne("Division algorithm failed to reduce polynomial?")}const l=s.getCoefficient(0);if(0===l)throw new te("sigmaTilde(0) was zero");const c=r.inverse(l);return[s.multiplyScalar(c),o.multiplyScalar(c)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let r=0;const i=this.field;for(let o=1;o<i.getSize()&&r<t;o++)0===e.evaluateAt(o)&&(n[r]=i.inverse(o),r++);if(r!==t)throw new te("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,r=new Int32Array(n),i=this.field;for(let o=0;o<n;o++){const a=i.inverse(t[o]);let s=1;for(let e=0;e<n;e++)if(o!==e){const n=i.multiply(t[e],a),r=0===(1&n)?1|n:-2&n;s=i.multiply(s,r)}r[o]=i.multiply(e.evaluateAt(a),i.inverse(s)),0!==i.getGeneratorBase()&&(r[o]=i.multiply(r[o],a))}return r}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(V||(V={}));class ie{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),r=this.correctBits(n),i=ie.convertBoolArrayToByteArray(r),o=ie.getEncodedData(r),a=new Q(i,o,null,null);return a.setNumBits(r.length),a}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=V.UPPER,r=V.UPPER,i="",o=0;for(;o<t;)if(r===V.BINARY){if(t-o<5)break;let a=ie.readCode(e,o,5);if(o+=5,0===a){if(t-o<11)break;a=ie.readCode(e,o,11)+31,o+=11}for(let n=0;n<a;n++){if(t-o<8){o=t;break}const n=ie.readCode(e,o,8);i+=I.castAsNonUtf8Char(n),o+=8}r=n}else{let a=r===V.DIGIT?4:5;if(t-o<a)break;let s=ie.readCode(e,o,a);o+=a;let l=ie.getCharacter(r,s);l.startsWith("CTRL_")?(n=r,r=ie.getTable(l.charAt(5)),"L"===l.charAt(6)&&(n=r)):(i+=l,r=n)}return i}static getTable(e){switch(e){case"L":return V.LOWER;case"P":return V.PUNCT;case"M":return V.MIXED;case"D":return V.DIGIT;case"B":return V.BINARY;default:return V.UPPER}}static getCharacter(e,t){switch(e){case V.UPPER:return ie.UPPER_TABLE[t];case V.LOWER:return ie.LOWER_TABLE[t];case V.MIXED:return ie.MIXED_TABLE[t];case V.PUNCT:return ie.PUNCT_TABLE[t];case V.DIGIT:return ie.DIGIT_TABLE[t];default:throw new ne("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=ee.AZTEC_DATA_10):(n=12,t=ee.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),i=e.length/n;if(i<r)throw new v;let o=e.length%n,a=new Int32Array(i);for(let h=0;h<i;h++,o+=n)a[h]=ie.readCode(e,o,n);try{new re(t).decode(a,i-r)}catch(d){throw new v(d)}let s=(1<<n)-1,l=0;for(let h=0;h<r;h++){let e=a[h];if(0===e||e===s)throw new v;1!==e&&e!==s-1||l++}let c=new Array(r*n-l),u=0;for(let h=0;h<r;h++){let e=a[h];if(1===e||e===s-1)c.fill(e>1,u,u+n-1),u+=n-1;else for(let t=n-1;t>=0;--t)c[u++]=0!==(e&1<<t)}return c}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+4*n,i=new Int32Array(r),o=new Array(this.totalBitsInLayer(n,t));if(t)for(let a=0;a<i.length;a++)i[a]=a;else{let e=r+1+2*E.truncDivision(E.truncDivision(r,2)-1,15),t=r/2,n=E.truncDivision(e,2);for(let r=0;r<t;r++){let e=r+E.truncDivision(r,15);i[t-r-1]=n-e-1,i[t+r]=n+e+1}}for(let a=0,s=0;a<n;a++){let l=4*(n-a)+(t?9:12),c=2*a,u=r-1-c;for(let t=0;t<l;t++){let n=2*t;for(let r=0;r<2;r++)o[s+n+r]=e.get(i[c+r],i[c+t]),o[s+2*l+n+r]=e.get(i[c+t],i[u-r]),o[s+4*l+n+r]=e.get(i[u-r],i[u-t]),o[s+6*l+n+r]=e.get(i[u-t],i[c+r])}s+=8*l}return o}static readCode(e,t,n){let r=0;for(let i=t;i<t+n;i++)r<<=1,e[i]&&(r|=1);return r}static readByte(e,t){let n=e.length-t;return n>=8?ie.readCode(e,t,8):ie.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=ie.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ie.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ie.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ie.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ie.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ie.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class oe{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,r){const i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}static sum(e){let t=0;for(let n=0,r=e.length;n!==r;n++)t+=e[n];return t}}class ae{static floatToIntBits(e){return e}}ae.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof se){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*ae.floatToIntBits(this.x)+ae.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),r=this.distance(e[0],e[2]);let i,o,a;if(n>=t&&n>=r?(o=e[0],i=e[1],a=e[2]):r>=n&&r>=t?(o=e[1],i=e[0],a=e[2]):(o=e[2],i=e[0],a=e[1]),this.crossProductZ(i,o,a)<0){const e=i;i=a,a=e}e[0]=i,e[1]=o,e[2]=a}static distance(e,t){return oe.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const r=t.x,i=t.y;return(n.x-r)*(e.y-i)-(n.y-i)*(e.x-r)}}class le{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ce extends le{constructor(e,t,n,r,i){super(e,t),this.compact=n,this.nbDatablocks=r,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ue{constructor(e,t,n,r){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),void 0!==t&&null!==t||(t=ue.INIT_SIZE),void 0!==n&&null!==n||(n=e.getWidth()/2|0),void 0!==r&&null!==r||(r=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=r-i,this.downInit=r+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new D}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,i=!1,o=!0,a=!1,s=!1,l=!1,c=!1,u=!1;const d=this.width,h=this.height;for(;o;){o=!1;let f=!0;for(;(f||!s)&&t<d;)f=this.containsBlackPoint(n,r,t,!1),f?(t++,o=!0,s=!0):s||t++;if(t>=d){i=!0;break}let p=!0;for(;(p||!l)&&r<h;)p=this.containsBlackPoint(e,t,r,!0),p?(r++,o=!0,l=!0):l||r++;if(r>=h){i=!0;break}let g=!0;for(;(g||!c)&&e>=0;)g=this.containsBlackPoint(n,r,e,!1),g?(e--,o=!0,c=!0):c||e--;if(e<0){i=!0;break}let m=!0;for(;(m||!u)&&n>=0;)m=this.containsBlackPoint(e,t,n,!0),m?(n--,o=!0,u=!0):u||n--;if(n<0){i=!0;break}o&&(a=!0)}if(!i&&a){const i=t-e;let o=null;for(let t=1;null===o&&t<i;t++)o=this.getBlackPointOnSegment(e,r-t,e+t,r);if(null==o)throw new D;let a=null;for(let t=1;null===a&&t<i;t++)a=this.getBlackPointOnSegment(e,n+t,e+t,n);if(null==a)throw new D;let s=null;for(let e=1;null===s&&e<i;e++)s=this.getBlackPointOnSegment(t,n+e,t-e,n);if(null==s)throw new D;let l=null;for(let e=1;null===l&&e<i;e++)l=this.getBlackPointOnSegment(t,r-e,t-e,r);if(null==l)throw new D;return this.centerEdges(l,o,s,a)}throw new D}getBlackPointOnSegment(e,t,n,r){const i=oe.round(oe.distance(e,t,n,r)),o=(n-e)/i,a=(r-t)/i,s=this.image;for(let l=0;l<i;l++){const n=oe.round(e+l*o),r=oe.round(t+l*a);if(s.get(n,r))return new se(n,r)}return null}centerEdges(e,t,n,r){const i=e.getX(),o=e.getY(),a=t.getX(),s=t.getY(),l=n.getX(),c=n.getY(),u=r.getX(),d=r.getY(),h=ue.CORR;return i<this.width/2?[new se(u-h,d+h),new se(a+h,s+h),new se(l-h,c-h),new se(i+h,o-h)]:[new se(u+h,d+h),new se(a+h,s-h),new se(l-h,c+h),new se(i-h,o-h)]}containsBlackPoint(e,t,n,r){const i=this.image;if(r){for(let o=e;o<=t;o++)if(i.get(o,n))return!0}else for(let o=e;o<=t;o++)if(i.get(n,o))return!0;return!1}}ue.INIT_SIZE=10,ue.CORR=1;class de{static checkAndNudgePoints(e,t){const n=e.getWidth(),r=e.getHeight();let i=!0;for(let o=0;o<t.length&&i;o+=2){const e=Math.floor(t[o]),a=Math.floor(t[o+1]);if(e<-1||e>n||a<-1||a>r)throw new D;i=!1,-1===e?(t[o]=0,i=!0):e===n&&(t[o]=n-1,i=!0),-1===a?(t[o+1]=0,i=!0):a===r&&(t[o+1]=r-1,i=!0)}i=!0;for(let o=t.length-2;o>=0&&i;o-=2){const e=Math.floor(t[o]),a=Math.floor(t[o+1]);if(e<-1||e>n||a<-1||a>r)throw new D;i=!1,-1===e?(t[o]=0,i=!0):e===n&&(t[o]=n-1,i=!0),-1===a?(t[o+1]=0,i=!0):a===r&&(t[o+1]=r-1,i=!0)}}}class he{constructor(e,t,n,r,i,o,a,s,l){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=i,this.a32=o,this.a13=a,this.a23=s,this.a33=l}static quadrilateralToQuadrilateral(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,g){const m=he.quadrilateralToSquare(e,t,n,r,i,o,a,s);return he.squareToQuadrilateral(l,c,u,d,h,f,p,g).times(m)}transformPoints(e){const t=e.length,n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33;for(let d=0;d<t;d+=2){const t=e[d],h=e[d+1],f=i*t+s*h+u;e[d]=(n*t+o*h+l)/f,e[d+1]=(r*t+a*h+c)/f}}transformPointsWithValues(e,t){const n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33,d=e.length;for(let h=0;h<d;h++){const d=e[h],f=t[h],p=i*d+s*f+u;e[h]=(n*d+o*f+l)/p,t[h]=(r*d+a*f+c)/p}}static squareToQuadrilateral(e,t,n,r,i,o,a,s){const l=e-n+i-a,c=t-r+o-s;if(0===l&&0===c)return new he(n-e,i-n,e,r-t,o-r,t,0,0,1);{const u=n-i,d=a-i,h=r-o,f=s-o,p=u*f-d*h,g=(l*f-d*c)/p,m=(u*c-l*h)/p;return new he(n-e+g*n,a-e+m*a,e,r-t+g*r,s-t+m*s,t,g,m,1)}}static quadrilateralToSquare(e,t,n,r,i,o,a,s){return he.squareToQuadrilateral(e,t,n,r,i,o,a,s).buildAdjoint()}buildAdjoint(){return new he(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new he(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class fe extends de{sampleGrid(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m,w,y){const E=he.quadrilateralToQuadrilateral(r,i,o,a,s,l,c,u,d,h,f,p,g,m,w,y);return this.sampleGridWithTransform(e,t,n,E)}sampleGridWithTransform(e,t,n,r){if(t<=0||n<=0)throw new D;const i=new R(t,n),o=new Float32Array(2*t);for(let s=0;s<n;s++){const t=o.length,n=s+.5;for(let e=0;e<t;e+=2)o[e]=e/2+.5,o[e+1]=n;r.transformPoints(o),de.checkAndNudgePoints(e,o);try{for(let n=0;n<t;n+=2)e.get(Math.floor(o[n]),Math.floor(o[n+1]))&&i.set(n/2,s)}catch(a){throw new D}}return i}}class pe{static setGridSampler(e){pe.gridSampler=e}static getInstance(){return pe.gridSampler}}pe.gridSampler=new fe;class ge{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class me{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let e=n[0];n[0]=n[2],n[2]=e}this.extractParameters(n);let r=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),i=this.getMatrixCornerPoints(n);return new ce(r,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new D;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let r=0;for(let o=0;o<4;o++){let e=n[(this.shift+o)%4];this.compact?(r<<=7,r+=e>>1&127):(r<<=10,r+=(e>>2&992)+(e>>1&31))}let i=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(i>>6),this.nbDataBlocks=1+(63&i)):(this.nbLayers=1+(i>>11),this.nbDataBlocks=1+(2047&i))}getRotation(e,t){let n=0;e.forEach(((e,r,i)=>{n=(e>>t-2<<1)+(1&e)+(n<<3)})),n=((1&n)<<11)+(n>>1);for(let r=0;r<4;r++)if(E.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new D}getCorrectedParameterData(e,t){let n,r;t?(n=7,r=2):(n=10,r=4);let i=n-r,o=new Int32Array(n);for(let l=n-1;l>=0;--l)o[l]=15&e,e>>=4;try{new re(ee.AZTEC_PARAM).decode(o,i)}catch(s){throw new D}let a=0;for(let l=0;l<r;l++)a=(a<<4)+o[l];return a}getBullsEyeCorners(e){let t=e,n=e,r=e,i=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,o,1,-1),a=this.getFirstDifferent(n,o,1,1),s=this.getFirstDifferent(r,o,-1,1),l=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){let n=this.distancePoint(l,e)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(n<.75||n>1.25||!this.isWhiteOrBlackRectangle(e,a,s,l))break}t=e,n=a,r=s,i=l,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new D;this.compact=5===this.nbCenterLayers;let a=new se(t.getX()+.5,t.getY()-.5),s=new se(n.getX()+.5,n.getY()+.5),l=new se(r.getX()-.5,r.getY()+.5),c=new se(i.getX()-.5,i.getY()-.5);return this.expandSquare([a,s,l,c],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,r;try{let i=new ue(this.image).detect();e=i[0],t=i[1],n=i[2],r=i[3]}catch(a){let i=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new ge(i+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ge(i+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ge(i-7,o+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new ge(i-7,o-7),!1,-1,-1).toResultPoint()}let i=oe.round((e.getX()+r.getX()+t.getX()+n.getX())/4),o=oe.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{let a=new ue(this.image,15,i,o).detect();e=a[0],t=a[1],n=a[2],r=a[3]}catch(a){e=this.getFirstDifferent(new ge(i+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ge(i+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ge(i-7,o+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new ge(i-7,o-7),!1,-1,-1).toResultPoint()}return i=oe.round((e.getX()+r.getX()+t.getX()+n.getX())/4),o=oe.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new ge(i,o)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,r,i){let o=pe.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,l=a/2+this.nbCenterLayers;return o.sampleGrid(e,a,a,s,s,l,s,l,l,s,l,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY())}sampleLine(e,t,n){let r=0,i=this.distanceResultPoint(e,t),o=i/n,a=e.getX(),s=e.getY(),l=o*(t.getX()-e.getX())/i,c=o*(t.getY()-e.getY())/i;for(let u=0;u<n;u++)this.image.get(oe.round(a+u*l),oe.round(s+u*c))&&(r|=1<<n-u-1);return r}isWhiteOrBlackRectangle(e,t,n,r){let i=3;e=new ge(e.getX()-i,e.getY()+i),t=new ge(t.getX()-i,t.getY()-i),n=new ge(n.getX()+i,n.getY()-i),r=new ge(r.getX()+i,r.getY()+i);let o=this.getColor(r,e);if(0===o)return!1;let a=this.getColor(e,t);return a===o&&(a=this.getColor(t,n),a===o&&(a=this.getColor(n,r),a===o))}getColor(e,t){let n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,i=(t.getY()-e.getY())/n,o=0,a=e.getX(),s=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n);for(let d=0;d<c;d++)a+=r,s+=i,this.image.get(oe.round(a),oe.round(s))!==l&&o++;let u=o/n;return u>.1&&u<.9?0:u<=.1===l?1:-1}getFirstDifferent(e,t,n,r){let i=e.getX()+n,o=e.getY()+r;for(;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=n,o+=r;for(i-=n,o-=r;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=n;for(i-=n;this.isValid(i,o)&&this.image.get(i,o)===t;)o+=r;return o-=r,new ge(i,o)}expandSquare(e,t,n){let r=n/(2*t),i=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,l=new se(a+r*i,s+r*o),c=new se(a-r*i,s-r*o);return i=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[l,new se(a+r*i,s+r*o),c,new se(a-r*i,s-r*o)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=oe.round(e.getX()),n=oe.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return oe.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return oe.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(E.truncDivision(this.nbLayers-4,8)+1)+15}}class we{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=new me(e.getBlackMatrix()),i=null,o=null;try{let e=r.detectMirror(!1);i=e.getPoints(),this.reportFoundResultPoints(t,i),o=(new ie).decode(e)}catch(c){n=c}if(null==o)try{let e=r.detectMirror(!0);i=e.getPoints(),this.reportFoundResultPoints(t,i),o=(new ie).decode(e)}catch(c){if(null!=n)throw n;throw c}let a=new U(o.getText(),o.getRawBytes(),o.getNumBits(),i,H.AZTEC,g.currentTimeMillis()),s=o.getByteSegments();null!=s&&a.putMetadata($.BYTE_SEGMENTS,s);let l=o.getECLevel();return null!=l&&a.putMetadata($.ERROR_CORRECTION_LEVEL,l),a}reportFoundResultPoints(e,t){if(null!=e){let n=e.get(b.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach(((e,t,r)=>{n.foundPossibleResultPoint(e)}))}}reset(){}}class ye extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new we,e)}}class Ee{decode(e,t){try{return this.doDecode(e,t)}catch(n){if(t&&!0===t.get(b.TRY_HARDER)&&e.isRotateSupported()){const n=e.rotateCounterClockwise(),r=this.doDecode(n,t),i=r.getResultMetadata();let o=270;null!==i&&!0===i.get($.ORIENTATION)&&(o+=i.get($.ORIENTATION)%360),r.putMetadata($.ORIENTATION,o);const a=r.getResultPoints();if(null!==a){const e=n.getHeight();for(let t=0;t<a.length;t++)a[t]=new se(e-a[t].getY()-1,a[t].getX())}return r}throw new D}}reset(){}doDecode(e,t){const n=e.getWidth(),r=e.getHeight();let i=new S(n);const o=t&&!0===t.get(b.TRY_HARDER),a=Math.max(1,r>>(o?8:5));let s;s=o?r:15;const l=Math.trunc(r/2);for(let d=0;d<s;d++){const o=Math.trunc((d+1)/2),s=l+a*(0===(1&d)?o:-o);if(s<0||s>=r)break;try{i=e.getBlackRow(s,i)}catch(c){continue}for(let e=0;e<2;e++){if(1===e&&(i.reverse(),t&&!0===t.get(b.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach(((t,n)=>e.set(n,t))),e.delete(b.NEED_RESULT_POINT_CALLBACK),t=e}try{const r=this.decodeRow(s,i,t);if(1===e){r.putMetadata($.ORIENTATION,180);const e=r.getResultPoints();null!==e&&(e[0]=new se(n-e[0].getX()-1,e[0].getY()),e[1]=new se(n-e[1].getX()-1,e[1].getY()))}return r}catch(u){}}}throw new D}static recordPattern(e,t,n){const r=n.length;for(let l=0;l<r;l++)n[l]=0;const i=e.getSize();if(t>=i)throw new D;let o=!e.get(t),a=0,s=t;for(;s<i;){if(e.get(s)!==o)n[a]++;else{if(++a===r)break;n[a]=1,o=!o}s++}if(a!==r&&(a!==r-1||s!==i))throw new D}static recordPatternInReverse(e,t,n){let r=n.length,i=e.get(t);for(;t>0&&r>=0;)e.get(--t)!==i&&(r--,i=!i);if(r>=0)throw new D;Ee.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const r=e.length;let i=0,o=0;for(let l=0;l<r;l++)i+=e[l],o+=t[l];if(i<o)return Number.POSITIVE_INFINITY;const a=i/o;n*=a;let s=0;for(let l=0;l<r;l++){const r=e[l],i=t[l]*a,o=r>i?r-i:i-r;if(o>n)return Number.POSITIVE_INFINITY;s+=o}return s/i}}class Se extends Ee{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let r=0,i=Int32Array.from([0,0,0,0,0,0]),o=n,a=!1;const s=6;for(let l=n;l<t;l++)if(e.get(l)!==a)i[r]++;else{if(r===s-1){let t=Se.MAX_AVG_VARIANCE,n=-1;for(let e=Se.CODE_START_A;e<=Se.CODE_START_C;e++){const r=Ee.patternMatchVariance(i,Se.CODE_PATTERNS[e],Se.MAX_INDIVIDUAL_VARIANCE);r<t&&(t=r,n=e)}if(n>=0&&e.isRange(Math.max(0,o-(l-o)/2),o,!1))return Int32Array.from([o,l,n]);o+=i[0]+i[1],i=i.slice(2,i.length-1),i[r-1]=0,i[r]=0,r--}else r++;i[r]=1,a=!a}throw new D}static decodeCode(e,t,n){Ee.recordPattern(e,n,t);let r=Se.MAX_AVG_VARIANCE,i=-1;for(let o=0;o<Se.CODE_PATTERNS.length;o++){const e=Se.CODE_PATTERNS[o],n=this.patternMatchVariance(t,e,Se.MAX_INDIVIDUAL_VARIANCE);n<r&&(r=n,i=o)}if(i>=0)return i;throw new D}decodeRow(e,t,n){const r=n&&!0===n.get(b.ASSUME_GS1),i=Se.findStartPattern(t),o=i[2];let a=0;const s=new Uint8Array(20);let l;switch(s[a++]=o,o){case Se.CODE_START_A:l=Se.CODE_CODE_A;break;case Se.CODE_START_B:l=Se.CODE_CODE_B;break;case Se.CODE_START_C:l=Se.CODE_CODE_C;break;default:throw new v}let c=!1,u=!1,d="",h=i[0],p=i[1];const g=Int32Array.from([0,0,0,0,0,0]);let m=0,w=0,y=o,E=0,S=!0,C=!1,A=!1;for(;!c;){const e=u;switch(u=!1,m=w,w=Se.decodeCode(t,g,p),s[a++]=w,w!==Se.CODE_STOP&&(S=!0),w!==Se.CODE_STOP&&(E++,y+=E*w),h=p,p+=g.reduce(((e,t)=>e+t),0),w){case Se.CODE_START_A:case Se.CODE_START_B:case Se.CODE_START_C:throw new v}switch(l){case Se.CODE_CODE_A:if(w<64)d+=A===C?String.fromCharCode(" ".charCodeAt(0)+w):String.fromCharCode(" ".charCodeAt(0)+w+128),A=!1;else if(w<96)d+=A===C?String.fromCharCode(w-64):String.fromCharCode(w+64),A=!1;else switch(w!==Se.CODE_STOP&&(S=!1),w){case Se.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_A:!C&&A?(C=!0,A=!1):C&&A?(C=!1,A=!1):A=!0;break;case Se.CODE_SHIFT:u=!0,l=Se.CODE_CODE_B;break;case Se.CODE_CODE_B:l=Se.CODE_CODE_B;break;case Se.CODE_CODE_C:l=Se.CODE_CODE_C;break;case Se.CODE_STOP:c=!0}break;case Se.CODE_CODE_B:if(w<96)d+=A===C?String.fromCharCode(" ".charCodeAt(0)+w):String.fromCharCode(" ".charCodeAt(0)+w+128),A=!1;else switch(w!==Se.CODE_STOP&&(S=!1),w){case Se.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_B:!C&&A?(C=!0,A=!1):C&&A?(C=!1,A=!1):A=!0;break;case Se.CODE_SHIFT:u=!0,l=Se.CODE_CODE_A;break;case Se.CODE_CODE_A:l=Se.CODE_CODE_A;break;case Se.CODE_CODE_C:l=Se.CODE_CODE_C;break;case Se.CODE_STOP:c=!0}break;case Se.CODE_CODE_C:if(w<100)w<10&&(d+="0"),d+=w;else switch(w!==Se.CODE_STOP&&(S=!1),w){case Se.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Se.CODE_CODE_A:l=Se.CODE_CODE_A;break;case Se.CODE_CODE_B:l=Se.CODE_CODE_B;break;case Se.CODE_STOP:c=!0}}e&&(l=l===Se.CODE_CODE_A?Se.CODE_CODE_B:Se.CODE_CODE_A)}const _=p-h;if(p=t.getNextUnset(p),!t.isRange(p,Math.min(t.getSize(),p+(p-h)/2),!1))throw new D;if(y-=E*m,y%103!==m)throw new f;const T=d.length;if(0===T)throw new D;T>0&&S&&(d=l===Se.CODE_CODE_C?d.substring(0,T-2):d.substring(0,T-1));const I=(i[1]+i[0])/2,N=h+_/2,R=s.length,O=new Uint8Array(R);for(let f=0;f<R;f++)O[f]=s[f];const M=[new se(I,e),new se(N,e)];return new U(d,O,0,M,H.CODE_128,(new Date).getTime())}}Se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Se.MAX_AVG_VARIANCE=.25,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.CODE_SHIFT=98,Se.CODE_CODE_C=99,Se.CODE_CODE_B=100,Se.CODE_CODE_A=101,Se.CODE_FNC_1=102,Se.CODE_FNC_2=97,Se.CODE_FNC_3=96,Se.CODE_FNC_4_A=101,Se.CODE_FNC_4_B=100,Se.CODE_START_A=103,Se.CODE_START_B=104,Se.CODE_START_C=105,Se.CODE_STOP=106;class Ce extends Ee{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let r=this.counters;r.fill(0),this.decodeRowResult="";let i,o,a=Ce.findAsteriskPattern(t,r),s=t.getNextSet(a[1]),l=t.getSize();do{Ce.recordPattern(t,s,r);let e=Ce.toNarrowWidePattern(r);if(e<0)throw new D;i=Ce.patternToChar(e),this.decodeRowResult+=i,o=s;for(let t of r)s+=t;s=t.getNextSet(s)}while("*"!==i);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let c,u=0;for(let f of r)u+=f;if(s!==l&&2*(s-o-u)<u)throw new D;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let n=0;n<e;n++)t+=Ce.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(n));if(this.decodeRowResult.charAt(e)!==Ce.ALPHABET_STRING.charAt(t%43))throw new f;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new D;c=this.extendedMode?Ce.decodeExtended(this.decodeRowResult):this.decodeRowResult;let d=(a[1]+a[0])/2,h=o+u/2;return new U(c,null,0,[new se(d,e),new se(h,e)],H.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),r=e.getNextSet(0),i=0,o=r,a=!1,s=t.length;for(let l=r;l<n;l++)if(e.get(l)!==a)t[i]++;else{if(i===s-1){if(this.toNarrowWidePattern(t)===Ce.ASTERISK_ENCODING&&e.isRange(Math.max(0,o-Math.floor((l-o)/2)),o,!1))return[o,l];o+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,a=!a}throw new D}static toNarrowWidePattern(e){let t,n=e.length,r=0;do{let i=2147483647;for(let t of e)t<i&&t>r&&(i=t);r=i,t=0;let o=0,a=0;for(let s=0;s<n;s++){let i=e[s];i>r&&(a|=1<<n-1-s,t++,o+=i)}if(3===t){for(let i=0;i<n&&t>0;i++){let n=e[i];if(n>r&&(t--,2*n>=o))return-1}return a}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<Ce.CHARACTER_ENCODINGS.length;t++)if(Ce.CHARACTER_ENCODINGS[t]===e)return Ce.ALPHABET_STRING.charAt(t);if(e===Ce.ASTERISK_ENCODING)return"*";throw new D}static decodeExtended(e){let t=e.length,n="";for(let r=0;r<t;r++){let t=e.charAt(r);if("+"===t||"$"===t||"%"===t||"/"===t){let i=e.charAt(r+1),o="\0";switch(t){case"+":if(!(i>="A"&&i<="Z"))throw new v;o=String.fromCharCode(i.charCodeAt(0)+32);break;case"$":if(!(i>="A"&&i<="Z"))throw new v;o=String.fromCharCode(i.charCodeAt(0)-64);break;case"%":if(i>="A"&&i<="E")o=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")o=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")o=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")o=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)o="\0";else if("V"===i)o="@";else if("W"===i)o="`";else{if("X"!==i&&"Y"!==i&&"Z"!==i)throw new v;o="\x7f"}break;case"/":if(i>="A"&&i<="O")o=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new v;o=":"}}n+=o,r++}else n+=t}return n}}Ce.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ce.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ce.ASTERISK_ENCODING=148;class be extends Ee{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let r=this.decodeStart(t),i=this.decodeEnd(t),o=new N;be.decodeMiddle(t,r[1],i[0],o);let a=o.toString(),s=null;null!=n&&(s=n.get(b.ALLOWED_LENGTHS)),null==s&&(s=be.DEFAULT_ALLOWED_LENGTHS);let l=a.length,c=!1,u=0;for(let h of s){if(l===h){c=!0;break}h>u&&(u=h)}if(!c&&l>u&&(c=!0),!c)throw new v;const d=[new se(r[1],e),new se(i[0],e)];return new U(a,null,0,d,H.ITF,(new Date).getTime())}static decodeMiddle(e,t,n,r){let i=new Int32Array(10),o=new Int32Array(5),a=new Int32Array(5);for(i.fill(0),o.fill(0),a.fill(0);t<n;){Ee.recordPattern(e,t,i);for(let e=0;e<5;e++){let t=2*e;o[e]=i[t],a[e]=i[t+1]}let n=be.decodeDigit(o);r.append(n.toString()),n=this.decodeDigit(a),r.append(n.toString()),i.forEach((function(e){t+=e}))}}decodeStart(e){let t=be.skipWhiteSpace(e),n=be.findGuardPattern(e,t,be.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=10*this.narrowLineWidth;n=n<t?n:t;for(let r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(0!==n)throw new D}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new D;return n}decodeEnd(e){e.reverse();try{let n,r=be.skipWhiteSpace(e);try{n=be.findGuardPattern(e,r,be.END_PATTERN_REVERSED[0])}catch(t){t instanceof D&&(n=be.findGuardPattern(e,r,be.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let i=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-i,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let r=n.length,i=new Int32Array(r),o=e.getSize(),a=!1,s=0,l=t;i.fill(0);for(let c=t;c<o;c++)if(e.get(c)!==a)i[s]++;else{if(s===r-1){if(Ee.patternMatchVariance(i,n,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE)return[l,c];l+=i[0]+i[1],g.arraycopy(i,2,i,0,s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,a=!a}throw new D}static decodeDigit(e){let t=be.MAX_AVG_VARIANCE,n=-1,r=be.PATTERNS.length;for(let i=0;i<r;i++){let r=be.PATTERNS[i],o=Ee.patternMatchVariance(e,r,be.MAX_INDIVIDUAL_VARIANCE);o<t?(t=o,n=i):o===t&&(n=-1)}if(n>=0)return n%10;throw new D}}be.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],be.MAX_AVG_VARIANCE=.38,be.MAX_INDIVIDUAL_VARIANCE=.5,be.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],be.START_PATTERN=Int32Array.from([1,1,1,1]),be.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ve extends Ee{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,n=!1,r=0,i=Int32Array.from([0,0,0]);for(;!n;){i=Int32Array.from([0,0,0]),t=ve.findGuardPattern(e,r,!1,this.START_END_PATTERN,i);let o=t[0];r=t[1];let a=o-(r-o);a>=0&&(n=e.isRange(a,o,!1))}return t}static checkChecksum(e){return ve.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return ve.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new v;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new v;n+=t}return(1e3-n)%10}static decodeEnd(e,t){return ve.findGuardPattern(e,t,!1,ve.START_END_PATTERN,new Int32Array(ve.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))}static findGuardPattern(e,t,n,r,i){let o=e.getSize(),a=0,s=t=n?e.getNextUnset(t):e.getNextSet(t),l=r.length,c=n;for(let u=t;u<o;u++)if(e.get(u)!==c)i[a]++;else{if(a===l-1){if(Ee.patternMatchVariance(i,r,ve.MAX_INDIVIDUAL_VARIANCE)<ve.MAX_AVG_VARIANCE)return Int32Array.from([s,u]);s+=i[0]+i[1];let e=i.slice(2,i.length-1);for(let t=0;t<a-1;t++)i[t]=e[t];i[a-1]=0,i[a]=0,a--}else a++;i[a]=1,c=!c}throw new D}static decodeDigit(e,t,n,r){this.recordPattern(e,n,t);let i=this.MAX_AVG_VARIANCE,o=-1,a=r.length;for(let s=0;s<a;s++){let e=r[s],n=Ee.patternMatchVariance(t,e,ve.MAX_INDIVIDUAL_VARIANCE);n<i&&(i=n,o=s)}if(o>=0)return o;throw new D}}ve.MAX_AVG_VARIANCE=.48,ve.MAX_INDIVIDUAL_VARIANCE=.7,ve.START_END_PATTERN=Int32Array.from([1,1,1]),ve.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ve.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ve.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ae{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,r),o=r.toString(),a=Ae.parseExtensionString(o),s=[new se((n[0]+n[1])/2,e),new se(i,e)],l=new U(o,null,0,s,H.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&l.putAllMetadata(a),l}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),o=t[1],a=0;for(let l=0;l<5&&o<i;l++){let t=ve.decodeDigit(e,r,o,ve.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)o+=e;t>=10&&(a|=1<<4-l),4!==l&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(5!==n.length)throw new D;let s=this.determineCheckDigit(a);if(Ae.extensionChecksum(n.toString())!==s)throw new D;return o}static extensionChecksum(e){let t=e.length,n=0;for(let r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new D}static parseExtensionString(e){if(5!==e.length)return null;let t=Ae.parseExtension5String(e);return null==t?null:new Map([[$.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let n=parseInt(e.substring(1)),r=n%100;return t+(n/100).toString()+"."+(r<10?"0"+r:r.toString())}}class _e{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,r),o=r.toString(),a=_e.parseExtensionString(o),s=[new se((n[0]+n[1])/2,e),new se(i,e)],l=new U(o,null,0,s,H.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&l.putAllMetadata(a),l}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),o=t[1],a=0;for(let s=0;s<2&&o<i;s++){let t=ve.decodeDigit(e,r,o,ve.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)o+=e;t>=10&&(a|=1<<1-s),1!==s&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(2!==n.length)throw new D;if(parseInt(n.toString())%4!==a)throw new D;return o}static parseExtensionString(e){return 2!==e.length?null:new Map([[$.ISSUE_NUMBER,parseInt(e)]])}}class Te{static decodeRow(e,t,n){let r=ve.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Ae).decodeRow(e,t,r)}catch(i){return(new _e).decodeRow(e,t,r)}}}Te.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ie extends ve{constructor(){super(),this.decodeRowStringBuffer="",Ie.L_AND_G_PATTERNS=Ie.L_PATTERNS.map((e=>Int32Array.from(e)));for(let e=10;e<20;e++){let t=Ie.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[t.length-e-1];Ie.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let r=Ie.findStartGuardPattern(t),i=null==n?null:n.get(b.NEED_RESULT_POINT_CALLBACK);if(null!=i){const t=new se((r[0]+r[1])/2,e);i.foundPossibleResultPoint(t)}let o=this.decodeMiddle(t,r,this.decodeRowStringBuffer),a=o.rowOffset,s=o.resultString;if(null!=i){const t=new se(a,e);i.foundPossibleResultPoint(t)}let l=this.decodeEnd(t,a);if(null!=i){const t=new se((l[0]+l[1])/2,e);i.foundPossibleResultPoint(t)}let c=l[1],u=c+(c-l[0]);if(u>=t.getSize()||!t.isRange(c,u,!1))throw new D;let d=s.toString();if(d.length<8)throw new v;if(!Ie.checkChecksum(d))throw new f;let h=(r[1]+r[0])/2,p=(l[1]+l[0])/2,g=this.getBarcodeFormat(),m=[new se(h,e),new se(p,e)],w=new U(d,null,0,m,g,(new Date).getTime()),y=0;try{let n=Te.decodeRow(e,t,l[1]);w.putMetadata($.UPC_EAN_EXTENSION,n.getText()),w.putAllMetadata(n.getResultMetadata()),w.addResultPoints(n.getResultPoints()),y=n.getText().length}catch(S){}let E=null==n?null:n.get(b.ALLOWED_EAN_EXTENSIONS);if(null!=E){let e=!1;for(let t in E)if(y.toString()===t){e=!0;break}if(!e)throw new D}return w}decodeEnd(e,t){return Ie.findGuardPattern(e,t,!1,Ie.START_END_PATTERN,new Int32Array(Ie.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ie.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return Ie.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new v;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new v;n+=t}return(1e3-n)%10}}class Ne extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),o=t[1],a=0;for(let s=0;s<6&&o<i;s++){let t=Ie.decodeDigit(e,r,o,Ie.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)o+=e;t>=10&&(a|=1<<5-s)}n=Ne.determineFirstDigit(n,a),o=Ie.findGuardPattern(e,o,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let s=0;s<6&&o<i;s++){let t=Ie.decodeDigit(e,r,o,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)o+=e}return{rowOffset:o,resultString:n}}getBarcodeFormat(){return H.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new D}}Ne.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Re extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),o=t[1];for(let a=0;a<4&&o<i;a++){let t=Ie.decodeDigit(e,r,o,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)o+=e}o=Ie.findGuardPattern(e,o,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let a=0;a<4&&o<i;a++){let t=Ie.decodeDigit(e,r,o,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)o+=e}return{rowOffset:o,resultString:n}}getBarcodeFormat(){return H.EAN_8}}class De extends Ie{constructor(){super(...arguments),this.ean13Reader=new Ne}getBarcodeFormat(){return H.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let n=new U(t.substring(1),null,null,e.getResultPoints(),H.UPC_A);return null!=e.getResultMetadata()&&n.putAllMetadata(e.getResultMetadata()),n}throw new D}reset(){this.ean13Reader.reset()}}class Oe extends Ie{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters.map((e=>e));r[0]=0,r[1]=0,r[2]=0,r[3]=0;const i=e.getSize();let o=t[1],a=0;for(let s=0;s<6&&o<i;s++){const t=Oe.decodeDigit(e,r,o,Oe.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)o+=e;t>=10&&(a|=1<<5-s)}return{rowOffset:o,resultString:Oe.determineNumSysAndCheckDigit(n,a)}}decodeEnd(e,t){return Oe.findGuardPatternWithoutCounters(e,t,!0,Oe.MIDDLE_END_PATTERN)}checkChecksum(e){return Ie.checkChecksum(Oe.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return String.fromCharCode("0".charCodeAt(0)+n)+e+String.fromCharCode("0".charCodeAt(0)+r);throw D.getNotFoundInstance()}getBarcodeFormat(){return H.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map((e=>e.charCodeAt(0))),n=new N;n.append(e.charAt(0));let r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r)}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}Oe.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Oe.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Me extends Ee{constructor(e){super();let n=null==e?null:e.get(b.POSSIBLE_FORMATS),r=[];t(n)?(r.push(new Ne),r.push(new De),r.push(new Re),r.push(new Oe)):(n.indexOf(H.EAN_13)>-1&&r.push(new Ne),n.indexOf(H.UPC_A)>-1&&r.push(new De),n.indexOf(H.EAN_8)>-1&&r.push(new Re),n.indexOf(H.UPC_E)>-1&&r.push(new Oe)),this.readers=r}decodeRow(e,t,n){for(let i of this.readers)try{const r=i.decodeRow(e,t,n),o=r.getBarcodeFormat()===H.EAN_13&&"0"===r.getText().charAt(0),a=null==n?null:n.get(b.POSSIBLE_FORMATS),s=null==a||a.includes(H.UPC_A);if(o&&s){const e=r.getRawBytes(),t=new U(r.getText().substring(1),e,e?e.length:null,r.getResultPoints(),H.UPC_A);return t.putAllMetadata(r.getResultMetadata()),t}return r}catch(r){}throw new D}reset(){for(let e of this.readers)e.reset()}}class ke extends Ee{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(Ee.patternMatchVariance(e,t[n],ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return n;throw new D}static count(e){return oe.sum(new Int32Array(e))}static increment(e,t){let n=0,r=t[0];for(let i=1;i<e.length;i++)t[i]>r&&(r=t[i],n=i);e[n]++}static decrement(e,t){let n=0,r=t[0];for(let i=1;i<e.length;i++)t[i]<r&&(r=t[i],n=i);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t/(t+e[2]+e[3]);if(n>=ke.MIN_FINDER_PATTERN_RATIO&&n<=ke.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;for(let r of e)r>n&&(n=r),r<t&&(t=r);return n<10*t}return!1}}ke.MAX_AVG_VARIANCE=.2,ke.MAX_INDIVIDUAL_VARIANCE=.45,ke.MIN_FINDER_PATTERN_RATIO=9.5/12,ke.MAX_FINDER_PATTERN_RATIO=12.5/14;class xe{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof xe))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Pe{constructor(e,t,n,r,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new se(n,i)),this.resultPoints.push(new se(r,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Pe))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Le{constructor(){}static getRSSvalue(e,t,n){let r=0;for(let s of e)r+=s;let i=0,o=0,a=e.length;for(let s=0;s<a-1;s++){let l;for(l=1,o|=1<<s;l<e[s];l++,o&=~(1<<s)){let e=Le.combins(r-l-1,a-s-2);if(n&&0===o&&r-l-(a-s-1)>=a-s-1&&(e-=Le.combins(r-l-(a-s),a-s-2)),a-s-1>1){let n=0;for(let e=r-l-(a-s-2);e>t;e--)n+=Le.combins(r-l-e-1,a-s-3);e-=n*(a-1-s)}else r-l>t&&e--;i+=e}r-=l}return i}static combins(e,t){let n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);let i=1,o=1;for(let a=e;a>n;a--)i*=a,o<=r&&(i/=o,o++);for(;o<=r;)i/=o,o++;return i}}class Be{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let n=new S(12*t),r=0,i=e[0].getRightChar().getValue();for(let o=11;o>=0;--o)0!=(i&1<<o)&&n.set(r),r++;for(let o=1;o<e.length;++o){let t=e[o],i=t.getLeftChar().getValue();for(let e=11;e>=0;--e)0!=(i&1<<e)&&n.set(r),r++;if(null!=t.getRightChar()){let e=t.getRightChar().getValue();for(let t=11;t>=0;--t)0!=(e&1<<t)&&n.set(r),r++}}return n}}class Fe{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class je{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ue extends je{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Ue.FNC1}}Ue.FNC1="$";class ze extends je{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class He extends je{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new v;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===He.FNC1}isSecondDigitFNC1(){return this.secondDigit===He.FNC1}isAnyFNC1(){return this.firstDigit===He.FNC1||this.secondDigit===He.FNC1}}He.FNC1=10;class Ve{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new D;let t=e.substring(0,2);for(let i of Ve.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(2,i[2],e):Ve.processFixedAI(2,i[1],e);if(e.length<3)throw new D;let n=e.substring(0,3);for(let i of Ve.THREE_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(3,i[2],e):Ve.processFixedAI(3,i[1],e);for(let i of Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,i[2],e):Ve.processFixedAI(4,i[1],e);if(e.length<4)throw new D;let r=e.substring(0,4);for(let i of Ve.FOUR_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,i[2],e):Ve.processFixedAI(4,i[1],e);throw new D}static processFixedAI(e,t,n){if(n.length<e)throw new D;let r=n.substring(0,e);if(n.length<e+t)throw new D;let i=n.substring(e,e+t),o=n.substring(e+t),a="("+r+")"+i,s=Ve.parseFieldsInGeneralPurpose(o);return null==s?a:a+s}static processVariableAI(e,t,n){let r,i=n.substring(0,e);r=n.length<e+t?n.length:e+t;let o=n.substring(e,r),a=n.substring(r),s="("+i+")"+o,l=Ve.parseFieldsInGeneralPurpose(a);return null==l?s:s+l}}Ve.VARIABLE_LENGTH=[],Ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ve.VARIABLE_LENGTH,20],["22",Ve.VARIABLE_LENGTH,29],["30",Ve.VARIABLE_LENGTH,8],["37",Ve.VARIABLE_LENGTH,8],["90",Ve.VARIABLE_LENGTH,30],["91",Ve.VARIABLE_LENGTH,30],["92",Ve.VARIABLE_LENGTH,30],["93",Ve.VARIABLE_LENGTH,30],["94",Ve.VARIABLE_LENGTH,30],["95",Ve.VARIABLE_LENGTH,30],["96",Ve.VARIABLE_LENGTH,30],["97",Ve.VARIABLE_LENGTH,3],["98",Ve.VARIABLE_LENGTH,30],["99",Ve.VARIABLE_LENGTH,30]],Ve.THREE_DIGIT_DATA_LENGTH=[["240",Ve.VARIABLE_LENGTH,30],["241",Ve.VARIABLE_LENGTH,30],["242",Ve.VARIABLE_LENGTH,6],["250",Ve.VARIABLE_LENGTH,30],["251",Ve.VARIABLE_LENGTH,30],["253",Ve.VARIABLE_LENGTH,17],["254",Ve.VARIABLE_LENGTH,20],["400",Ve.VARIABLE_LENGTH,30],["401",Ve.VARIABLE_LENGTH,30],["402",17],["403",Ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ve.VARIABLE_LENGTH,20],["421",Ve.VARIABLE_LENGTH,15],["422",3],["423",Ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ve.VARIABLE_LENGTH,15],["391",Ve.VARIABLE_LENGTH,18],["392",Ve.VARIABLE_LENGTH,15],["393",Ve.VARIABLE_LENGTH,18],["703",Ve.VARIABLE_LENGTH,30]],Ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ve.VARIABLE_LENGTH,20],["8003",Ve.VARIABLE_LENGTH,30],["8004",Ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ve.VARIABLE_LENGTH,30],["8008",Ve.VARIABLE_LENGTH,12],["8018",18],["8020",Ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ve.VARIABLE_LENGTH,70],["8200",Ve.VARIABLE_LENGTH,70]];class We{constructor(e){this.buffer=new N,this.information=e}decodeAllCodes(e,t){let n=t,r=null;for(;;){let t=this.decodeGeneralPurposeField(n,r),i=Ve.parseFieldsInGeneralPurpose(t.getNewString());if(null!=i&&e.append(i),r=t.isRemaining()?""+t.getRemainingValue():null,n===t.getNewPosition())break;n=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new He(this.information.getSize(),0===t?He.FNC1:t-1,He.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new He(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return We.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let r=0;for(let i=0;i<n;++i)e.get(t+i)&&(r|=1<<n-i-1);return r}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return null!=n&&n.isRemaining()?new ze(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ze(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),n===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new ze(this.current.getPosition(),this.buffer.toString()):new ze(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Fe(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Fe(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Fe(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new Fe(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fe(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let n,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Ue(e+7,""+(r+1));if(r>=90&&r<116)return new Ue(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new v}return new Ue(e+8,n)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let n,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Ue(e+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new ne("Decoding invalid alphanumeric value: "+r)}return new Ue(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Ge{constructor(e){this.information=e,this.generalDecoder=new We(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ye extends Ge{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let r=0;r<4;++r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);n/100===0&&e.append("0"),n/10===0&&e.append("0"),e.append(n)}Ye.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let r=0;r<13;r++){let i=e.charAt(r+t).charCodeAt(0)-"0".charCodeAt(0);n+=0===(1&r)?3*i:i}n=10-n%10,10===n&&(n=0),e.append(n)}}Ye.GTIN_SIZE=40;class Xe extends Ye{constructor(e){super(e)}parseInformation(){let e=new N;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(Xe.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,Xe.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Xe.HEADER_SIZE+44)}}Xe.HEADER_SIZE=4;class qe extends Ge{constructor(e){super(e)}parseInformation(){let e=new N;return this.getGeneralDecoder().decodeAllCodes(e,qe.HEADER_SIZE)}}qe.HEADER_SIZE=5;class $e extends Ye{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);let i=this.checkWeight(r),o=1e5;for(let a=0;a<5;++a)i/o===0&&e.append("0"),o/=10;e.append(i)}}class Qe extends $e{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Qe.HEADER_SIZE+$e.GTIN_SIZE+Qe.WEIGHT_SIZE)throw new D;let e=new N;return this.encodeCompressedGtin(e,Qe.HEADER_SIZE),this.encodeCompressedWeight(e,Qe.HEADER_SIZE+$e.GTIN_SIZE,Qe.WEIGHT_SIZE),e.toString()}}Qe.HEADER_SIZE=5,Qe.WEIGHT_SIZE=15;class Ze extends Qe{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ke extends Qe{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Je extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Je.HEADER_SIZE+Ye.GTIN_SIZE)throw new D;let e=new N;this.encodeCompressedGtin(e,Je.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE+Ye.GTIN_SIZE,Je.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(Je.HEADER_SIZE+Ye.GTIN_SIZE+Je.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}Je.HEADER_SIZE=8,Je.LAST_DIGIT_SIZE=2;class et extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<et.HEADER_SIZE+Ye.GTIN_SIZE)throw new D;let e=new N;this.encodeCompressedGtin(e,et.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+Ye.GTIN_SIZE,et.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+Ye.GTIN_SIZE+et.LAST_DIGIT_SIZE,et.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let r=this.getGeneralDecoder().decodeGeneralPurposeField(et.HEADER_SIZE+Ye.GTIN_SIZE+et.LAST_DIGIT_SIZE+et.FIRST_THREE_DIGITS_SIZE,null);return e.append(r.getNewString()),e.toString()}}et.HEADER_SIZE=8,et.LAST_DIGIT_SIZE=2,et.FIRST_THREE_DIGITS_SIZE=10;class tt extends $e{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new D;let e=new N;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(38400==n)return;e.append("("),e.append(this.dateCode),e.append(")");let r=n%32;n/=32;let i=n%12+1;n/=12;let o=n;o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i),r/10==0&&e.append("0"),e.append(r)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function nt(e){try{if(e.get(1))return new Xe(e);if(!e.get(2))return new qe(e);switch(We.extractNumericValueFromBitArray(e,1,4)){case 4:return new Ze(e);case 5:return new Ke(e)}switch(We.extractNumericValueFromBitArray(e,1,5)){case 12:return new Je(e);case 13:return new et(e)}switch(We.extractNumericValueFromBitArray(e,1,7)){case 56:return new tt(e,"310","11");case 57:return new tt(e,"320","11");case 58:return new tt(e,"310","13");case 59:return new tt(e,"320","13");case 60:return new tt(e,"310","15");case 61:return new tt(e,"320","15");case 62:return new tt(e,"310","17");case 63:return new tt(e,"320","17")}}catch(t){throw console.log(t),new ne("unknown decoder: "+e)}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;class rt{constructor(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof rt&&rt.equalsOrNull(e.leftchar,t.leftchar)&&rt.equalsOrNull(e.rightchar,t.rightchar)&&rt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:rt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class it{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof it&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach(((e,r)=>{t.forEach((t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)}))})),n}}class ot extends ke{constructor(e){super(...arguments),this.pairs=new Array(ot.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return ot.constructResult(this.decodeRow2pairs(e,t))}catch(r){this.verbose&&console.log(r)}return this.pairs.length=0,this.startFromEven=!0,ot.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n,r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof D){if(!this.pairs.length)throw new D;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new D}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let n of e)this.pairs.push(n.getPairs());if(this.pairs.push(t.getPairs()),!ot.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(t);try{return this.checkRows(i,r+1)}catch(n){this.verbose&&console.log(n)}}throw new D}static isValidSequence(e){for(let t of ot.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let r=0;r<e.length;r++)if(e[r].getFinderPattern().getValue()!=t[r]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,r=!1,i=!1;for(;n<this.rows.length;){let t=this.rows[n];if(t.getRowNumber()>e){i=t.isEquivalent(this.pairs);break}r=t.isEquivalent(this.pairs),n++}i||r||ot.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new it(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length)for(let t of n.getPairs())for(let n of e)if(rt.equals(t,n))break}static isPartialRow(e,t){for(let n of t){let t=!0;for(let r of e){let e=!1;for(let t of n.getPairs())if(r.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=nt(Be.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),r=e[e.length-1].getFinderPattern().getResultPoints(),i=[n[0],n[1],r[0],r[1]];return new U(t,null,null,i,H.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null==n)return!1;let r=n.getChecksumPortion(),i=2;for(let o=1;o<this.pairs.size();++o){let e=this.pairs.get(o);r+=e.getLeftChar().getChecksumPortion(),i++;let t=e.getRightChar();null!=t&&(r+=t.getChecksumPortion(),i++)}return r%=211,211*(i-4)+r==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let r,i=t.length%2==0;this.startFromEven&&(i=!i);let o=!0,a=-1;do{this.findNextPair(e,t,a),r=this.parseFoundFinderPattern(e,n,i),null==r?a=ot.getNextSecondBar(e,this.startEnd[0]):o=!1}while(o);let s,l=this.decodeDataCharacter(e,r,i,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new D;try{s=this.decodeDataCharacter(e,r,i,!1)}catch(c){s=null,this.verbose&&console.log(c)}return new rt(l,s,r,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i,o=e.getSize();i=n>=0?n:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let a=t.length%2!=0;this.startFromEven&&(a=!a);let s=!1;for(;i<o&&(s=!e.get(i),s);)i++;let l=0,c=i;for(let u=i;u<o;u++)if(e.get(u)!=s)r[l]++;else{if(3==l){if(a&&ot.reverseCounters(r),ot.isFinderPattern(r))return this.startEnd[0]=c,void(this.startEnd[1]=u);a&&ot.reverseCounters(r),c+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,l--}else l++;r[l]=1,s=!s}throw new D}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}}parseFoundFinderPattern(e,t,n){let r,i,o;if(n){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,r=this.startEnd[0]-t,i=t,o=this.startEnd[1]}else i=this.startEnd[0],o=e.getNextUnset(this.startEnd[1]+1),r=o-this.startEnd[1];let a,s=this.getDecodeFinderCounters();g.arraycopy(s,0,s,1,s.length-1),s[0]=r;try{a=this.parseFinderValue(s,ot.FINDER_PATTERNS)}catch(l){return null}return new Pe(a,[i,o],i,o,t)}decodeDataCharacter(e,t,n,r){let i=this.getDataCharacterCounters();for(let A=0;A<i.length;A++)i[A]=0;if(r)ot.recordPatternInReverse(e,t.getStartEnd()[0],i);else{ot.recordPattern(e,t.getStartEnd()[1],i);for(let e=0,t=i.length-1;e<t;e++,t--){let n=i[e];i[e]=i[t],i[t]=n}}let o=17,a=oe.sum(new Int32Array(i))/o,s=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(a-s)/s>.3)throw new D;let l=this.getOddCounts(),c=this.getEvenCounts(),u=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let A=0;A<i.length;A++){let e=1*i[A]/a,t=e+.5;if(t<1){if(e<.3)throw new D;t=1}else if(t>8){if(e>8.7)throw new D;t=8}let n=A/2;0==(1&A)?(l[n]=t,u[n]=e-t):(c[n]=t,d[n]=e-t)}this.adjustOddEvenCounts(o);let h=4*t.getValue()+(n?0:2)+(r?0:1)-1,f=0,p=0;for(let A=l.length-1;A>=0;A--){if(ot.isNotA1left(t,n,r)){let e=ot.WEIGHTS[h][2*A];p+=l[A]*e}f+=l[A]}let g=0;for(let A=c.length-1;A>=0;A--)if(ot.isNotA1left(t,n,r)){let e=ot.WEIGHTS[h][2*A+1];g+=c[A]*e}let m=p+g;if(0!=(1&f)||f>13||f<4)throw new D;let w=(13-f)/2,y=ot.SYMBOL_WIDEST[w],E=9-y,S=Le.getRSSvalue(l,y,!0),C=Le.getRSSvalue(c,E,!1),b=ot.EVEN_TOTAL_SUBSET[w],v=ot.GSUM[w];return new xe(S*b+C+v,m)}static isNotA1left(e,t,n){return!(0==e.getValue()&&t&&n)}adjustOddEvenCounts(e){let t=oe.sum(new Int32Array(this.getOddCounts())),n=oe.sum(new Int32Array(this.getEvenCounts())),r=!1,i=!1;t>13?i=!0:t<4&&(r=!0);let o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);let s=t+n-e,l=1==(1&t),c=0==(1&n);if(1==s)if(l){if(c)throw new D;i=!0}else{if(!c)throw new D;a=!0}else if(-1==s)if(l){if(c)throw new D;r=!0}else{if(!c)throw new D;o=!0}else{if(0!=s)throw new D;if(l){if(!c)throw new D;t<n?(r=!0,a=!0):(i=!0,o=!0)}else if(c)throw new D}if(r){if(i)throw new D;ot.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&ot.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(a)throw new D;ot.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&ot.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.SYMBOL_WIDEST=[7,5,4,3,1],ot.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ot.GSUM=[0,348,1388,2948,3988],ot.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ot.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ot.FINDER_PAT_A=0,ot.FINDER_PAT_B=1,ot.FINDER_PAT_C=2,ot.FINDER_PAT_D=3,ot.FINDER_PAT_E=4,ot.FINDER_PAT_F=5,ot.FINDER_PATTERN_SEQUENCES=[[ot.FINDER_PAT_A,ot.FINDER_PAT_A],[ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B],[ot.FINDER_PAT_A,ot.FINDER_PAT_C,ot.FINDER_PAT_B,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_C],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F]],ot.MAX_PAIRS=11;class at extends xe{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class st extends ke{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const r=this.decodePair(t,!1,e,n);st.addOrTally(this.possibleLeftPairs,r),t.reverse();let i=this.decodePair(t,!0,e,n);st.addOrTally(this.possibleRightPairs,i),t.reverse();for(let o of this.possibleLeftPairs)if(o.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&st.checkChecksum(o,e))return st.constructResult(o,e);throw new D}static addOrTally(e,t){if(null==t)return;let n=!1;for(let r of e)if(r.getValue()===t.getValue()){r.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),i=new N;for(let l=13-r.length;l>0;l--)i.append("0");i.append(r);let o=0;for(let l=0;l<13;l++){let e=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);o+=0===(1&l)?3*e:e}o=10-o%10,10===o&&(o=0),i.append(o.toString());let a=e.getFinderPattern().getResultPoints(),s=t.getFinderPattern().getResultPoints();return new U(i.toString(),null,0,[a[0],a[1],s[0],s[1]],H.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}decodePair(e,t,n,r){try{let i=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,n,t,i),a=null==r?null:r.get(b.NEED_RESULT_POINT_CALLBACK);if(null!=a){let r=(i[0]+i[1])/2;t&&(r=e.getSize()-1-r),a.foundPossibleResultPoint(new se(r,n))}let s=this.decodeDataCharacter(e,o,!0),l=this.decodeDataCharacter(e,o,!1);return new at(1597*s.getValue()+l.getValue(),s.getChecksumPortion()+4*l.getChecksumPortion(),o)}catch(i){return null}}decodeDataCharacter(e,t,n){let r=this.getDataCharacterCounters();for(let g=0;g<r.length;g++)r[g]=0;if(n)Ee.recordPatternInReverse(e,t.getStartEnd()[0],r);else{Ee.recordPattern(e,t.getStartEnd()[1]+1,r);for(let e=0,t=r.length-1;e<t;e++,t--){let n=r[e];r[e]=r[t],r[t]=n}}let i=n?16:15,o=oe.sum(new Int32Array(r))/i,a=this.getOddCounts(),s=this.getEvenCounts(),l=this.getOddRoundingErrors(),c=this.getEvenRoundingErrors();for(let g=0;g<r.length;g++){let e=r[g]/o,t=Math.floor(e+.5);t<1?t=1:t>8&&(t=8);let n=Math.floor(g/2);0===(1&g)?(a[n]=t,l[n]=e-t):(s[n]=t,c[n]=e-t)}this.adjustOddEvenCounts(n,i);let u=0,d=0;for(let g=a.length-1;g>=0;g--)d*=9,d+=a[g],u+=a[g];let h=0,f=0;for(let g=s.length-1;g>=0;g--)h*=9,h+=s[g],f+=s[g];let p=d+3*h;if(n){if(0!==(1&u)||u>12||u<4)throw new D;let e=(12-u)/2,t=st.OUTSIDE_ODD_WIDEST[e],n=9-t,r=Le.getRSSvalue(a,t,!1),i=Le.getRSSvalue(s,n,!0),o=st.OUTSIDE_EVEN_TOTAL_SUBSET[e],l=st.OUTSIDE_GSUM[e];return new xe(r*o+i+l,p)}{if(0!==(1&f)||f>10||f<4)throw new D;let e=(10-f)/2,t=st.INSIDE_ODD_WIDEST[e],n=9-t,r=Le.getRSSvalue(a,t,!0),i=Le.getRSSvalue(s,n,!1),o=st.INSIDE_ODD_TOTAL_SUBSET[e],l=st.INSIDE_GSUM[e];return new xe(i*o+r+l,p)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=e.getSize(),i=!1,o=0;for(;o<r&&(i=!e.get(o),t!==i);)o++;let a=0,s=o;for(let l=o;l<r;l++)if(e.get(l)!==i)n[a]++;else{if(3===a){if(ke.isFinderPattern(n))return[s,l];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,a--}else a++;n[a]=1,i=!i}throw new D}parseFoundFinderPattern(e,t,n,r){let i=e.get(r[0]),o=r[0]-1;for(;o>=0&&i!==e.get(o);)o--;o++;const a=r[0]-o,s=this.getDecodeFinderCounters(),l=new Int32Array(s.length);g.arraycopy(s,0,l,1,s.length-1),l[0]=a;const c=this.parseFinderValue(l,st.FINDER_PATTERNS);let u=o,d=r[1];return n&&(u=e.getSize()-1-u,d=e.getSize()-1-d),new Pe(c,[o,r[1]],u,d,t)}adjustOddEvenCounts(e,t){let n=oe.sum(new Int32Array(this.getOddCounts())),r=oe.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,a=!1,s=!1;e?(n>12?o=!0:n<4&&(i=!0),r>12?s=!0:r<4&&(a=!0)):(n>11?o=!0:n<5&&(i=!0),r>10?s=!0:r<4&&(a=!0));let l=n+r-t,c=(1&n)===(e?1:0),u=1===(1&r);if(1===l)if(c){if(u)throw new D;o=!0}else{if(!u)throw new D;s=!0}else if(-1===l)if(c){if(u)throw new D;i=!0}else{if(!u)throw new D;a=!0}else{if(0!==l)throw new D;if(c){if(!u)throw new D;n<r?(i=!0,s=!0):(o=!0,a=!0)}else if(u)throw new D}if(i){if(o)throw new D;ke.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&ke.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new D;ke.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&ke.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],st.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],st.OUTSIDE_GSUM=[0,161,961,2015,2715],st.INSIDE_GSUM=[0,336,1036,1516],st.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],st.INSIDE_ODD_WIDEST=[2,4,6,8],st.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class lt extends Ee{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const n=e?e.get(b.POSSIBLE_FORMATS):null,r=e&&void 0!==e.get(b.ASSUME_CODE_39_CHECK_DIGIT);n?((n.includes(H.EAN_13)||n.includes(H.UPC_A)||n.includes(H.EAN_8)||n.includes(H.UPC_E))&&this.readers.push(new Me(e)),n.includes(H.CODE_39)&&this.readers.push(new Ce(r)),n.includes(H.CODE_128)&&this.readers.push(new Se),n.includes(H.ITF)&&this.readers.push(new be),n.includes(H.RSS_14)&&this.readers.push(new st),n.includes(H.RSS_EXPANDED)&&this.readers.push(new ot(this.verbose))):(this.readers.push(new Me(e)),this.readers.push(new Ce),this.readers.push(new Me(e)),this.readers.push(new Se),this.readers.push(new be),this.readers.push(new st),this.readers.push(new ot(this.verbose)))}decodeRow(e,t,n){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,t,n)}catch(r){}throw new D}reset(){this.readers.forEach((e=>e.reset()))}}class ct extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1?arguments[1]:void 0;super(new lt(t),e,t)}}class ut{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,t,n,r,i,o){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=i,this.ecBlocks=o;let a=0;const s=o.getECCodewords(),l=o.getECBlocks();for(let c of l)a+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(0!==(1&e)||0!==(1&t))throw new v;for(let n of ht.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new v}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new ut(5,new dt(1,3))),new ht(2,12,12,10,10,new ut(7,new dt(1,5))),new ht(3,14,14,12,12,new ut(10,new dt(1,8))),new ht(4,16,16,14,14,new ut(12,new dt(1,12))),new ht(5,18,18,16,16,new ut(14,new dt(1,18))),new ht(6,20,20,18,18,new ut(18,new dt(1,22))),new ht(7,22,22,20,20,new ut(20,new dt(1,30))),new ht(8,24,24,22,22,new ut(24,new dt(1,36))),new ht(9,26,26,24,24,new ut(28,new dt(1,44))),new ht(10,32,32,14,14,new ut(36,new dt(1,62))),new ht(11,36,36,16,16,new ut(42,new dt(1,86))),new ht(12,40,40,18,18,new ut(48,new dt(1,114))),new ht(13,44,44,20,20,new ut(56,new dt(1,144))),new ht(14,48,48,22,22,new ut(68,new dt(1,174))),new ht(15,52,52,24,24,new ut(42,new dt(2,102))),new ht(16,64,64,14,14,new ut(56,new dt(2,140))),new ht(17,72,72,16,16,new ut(36,new dt(4,92))),new ht(18,80,80,18,18,new ut(48,new dt(4,114))),new ht(19,88,88,20,20,new ut(56,new dt(4,144))),new ht(20,96,96,22,22,new ut(68,new dt(4,174))),new ht(21,104,104,24,24,new ut(56,new dt(6,136))),new ht(22,120,120,18,18,new ut(68,new dt(6,175))),new ht(23,132,132,20,20,new ut(62,new dt(8,163))),new ht(24,144,144,22,22,new ut(62,new dt(8,156),new dt(2,155))),new ht(25,8,18,6,16,new ut(7,new dt(1,5))),new ht(26,8,32,6,14,new ut(11,new dt(1,10))),new ht(27,12,26,10,24,new ut(14,new dt(1,16))),new ht(28,12,36,10,16,new ut(18,new dt(1,22))),new ht(29,16,36,14,16,new ut(24,new dt(1,32))),new ht(30,16,48,14,22,new ut(28,new dt(1,49)))]}}ht.VERSIONS=ht.buildVersions();class ft{constructor(e){const t=e.getHeight();if(t<8||t>144||0!==(1&t))throw new v;this.version=ft.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new R(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return ht.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,r=0;const i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let a=!1,s=!1,l=!1,c=!1;do{if(n!==i||0!==r||a)if(n!==i-2||0!==r||0===(3&o)||s)if(n!==i+4||2!==r||0!==(7&o)||l)if(n!==i-2||0!==r||4!==(7&o)||c){do{n<i&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,i,o)),n-=2,r+=2}while(n>=0&&r<o);n+=1,r+=3;do{n>=0&&r<o&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,i,o)),n+=2,r-=2}while(n<i&&r>=0);n+=3,r+=1}else e[t++]=255&this.readCorner4(i,o),n-=2,r+=2,c=!0;else e[t++]=255&this.readCorner3(i,o),n-=2,r+=2,l=!0;else e[t++]=255&this.readCorner2(i,o),n-=2,r+=2,s=!0;else e[t++]=255&this.readCorner1(i,o),n-=2,r+=2,a=!0}while(n<i||r<o);if(t!==this.version.getTotalCodewords())throw new v;return e}readModule(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,r){let i=0;return this.readModule(e-2,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e-2,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t,n,r)&&(i|=1),i<<=1,this.readModule(e,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e,t,n,r)&&(i|=1),i}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new d("Dimension of bitMatrix must match the version size");const r=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=t/r|0,a=n/i|0,s=new R(a*i,o*r);for(let l=0;l<o;++l){const t=l*r;for(let n=0;n<a;++n){const o=n*i;for(let a=0;a<r;++a){const c=l*(r+2)+1+a,u=t+a;for(let t=0;t<i;++t){const r=n*(i+2)+1+t;if(e.get(r,c)){const e=o+t;s.set(e,u)}}}}}return s}}class pt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let r=0;const i=n.getECBlocks();for(let d of i)r+=d.getCount();const o=new Array(r);let a=0;for(let d of i)for(let e=0;e<d.getCount();e++){const e=d.getDataCodewords(),t=n.getECCodewords()+e;o[a++]=new pt(e,new Uint8Array(t))}const s=o[0].codewords.length-n.getECCodewords(),l=s-1;let c=0;for(let d=0;d<l;d++)for(let t=0;t<a;t++)o[t].codewords[d]=e[c++];const u=24===t.getVersionNumber(),h=u?8:a;for(let d=0;d<h;d++)o[d].codewords[s-1]=e[c++];const f=o[0].codewords.length;for(let d=s;d<f;d++)for(let t=0;t<a;t++){const n=u?(t+8)%a:t,r=u&&n>7?d-1:d;o[n].codewords[r]=e[c++]}if(c!==e.length)throw new d;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class gt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new d(""+e);let t=0,n=this.bitOffset,r=this.byteOffset;const i=this.bytes;if(n>0){const o=8-n,a=e<o?e:o,s=o-a,l=255>>8-a<<s;t=(i[r]&l)>>s,e-=a,n+=a,8===n&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|255&i[r],r++,e-=8;if(e>0){const o=8-e,a=255>>o<<o;t=t<<e|(i[r]&a)>>o,n+=e}}return this.bitOffset=n,this.byteOffset=r,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(W||(W={}));class mt{static decode(e){const t=new gt(e),n=new N,r=new N,i=new Array;let o=W.ASCII_ENCODE;do{if(o===W.ASCII_ENCODE)o=this.decodeAsciiSegment(t,n,r);else{switch(o){case W.C40_ENCODE:this.decodeC40Segment(t,n);break;case W.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case W.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case W.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case W.BASE256_ENCODE:this.decodeBase256Segment(t,n,i);break;default:throw new v}o=W.ASCII_ENCODE}}while(o!==W.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new Q(e,n.toString(),0===i.length?null:i,null)}static decodeAsciiSegment(e,t,n){let r=!1;do{let i=e.readBits(8);if(0===i)throw new v;if(i<=128)return r&&(i+=128),t.append(String.fromCharCode(i-1)),W.ASCII_ENCODE;if(129===i)return W.PAD_ENCODE;if(i<=229){const e=i-130;e<10&&t.append("0"),t.append(""+e)}else switch(i){case 230:return W.C40_ENCODE;case 231:return W.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return W.ANSIX12_ENCODE;case 239:return W.TEXT_ENCODE;case 240:return W.EDIFACT_ENCODE;default:if(254!==i||0!==e.available())throw new v}}while(e.available()>0);return W.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const r=[];let i=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),r);for(let e=0;e<3;e++){const o=r[e];switch(i){case 0:if(o<3)i=o+1;else{if(!(o<this.C40_BASIC_SET_CHARS.length))throw new v;{const e=this.C40_BASIC_SET_CHARS[o];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(o+128)),n=!1):t.append(String.fromCharCode(o)),i=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[o];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new v}i=0;break;case 3:n?(t.append(String.fromCharCode(o+224)),n=!1):t.append(String.fromCharCode(o+96)),i=0;break;default:throw new v}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,r=[],i=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),r);for(let e=0;e<3;e++){const o=r[e];switch(i){case 0:if(o<3)i=o+1;else{if(!(o<this.TEXT_BASIC_SET_CHARS.length))throw new v;{const e=this.TEXT_BASIC_SET_CHARS[o];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(o+128)),n=!1):t.append(String.fromCharCode(o)),i=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[o];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new v}i=0;break;case 3:if(!(o<this.TEXT_SHIFT3_SET_CHARS.length))throw new v;{const e=this.TEXT_SHIFT3_SET_CHARS[o];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e),i=0}break;default:throw new v}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(8===e.available())return;const r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),n);for(let e=0;e<3;e++){const r=n[e];switch(r){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(r<14)t.append(String.fromCharCode(r+44));else{if(!(r<40))throw new v;t.append(String.fromCharCode(r+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let r=(e<<8)+t-1,i=Math.floor(r/1600);n[0]=i,r-=1600*i,i=Math.floor(r/40),n[1]=i,n[2]=r-40*i}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let n=e.readBits(6);if(31===n){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}0===(32&n)&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let r=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),r++);let o;if(o=0===i?e.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(e.readBits(8),r++),o<0)throw new v;const a=new Uint8Array(o);for(let l=0;l<o;l++){if(e.available()<8)throw new v;a[l]=this.unrandomize255State(e.readBits(8),r++)}n.push(a);try{t.append(T.decode(a,I.ISO88591))}catch(s){throw new ne("Platform does not support required encoding: "+s.message)}}static unrandomize255State(e,t){const n=e-(149*t%255+1);return n>=0?n:n+256}}mt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],mt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],mt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],mt.TEXT_SHIFT2_SET_CHARS=mt.C40_SHIFT2_SET_CHARS,mt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class wt{constructor(){this.rsDecoder=new re(ee.DATA_MATRIX_FIELD_256)}decode(e){const t=new ft(e),n=t.getVersion(),r=t.readCodewords(),i=pt.getDataBlocks(r,n);let o=0;for(let l of i)o+=l.getNumDataCodewords();const a=new Uint8Array(o),s=i.length;for(let l=0;l<s;l++){const e=i[l],t=e.getCodewords(),n=e.getNumDataCodewords();this.correctErrors(t,n);for(let r=0;r<n;r++)a[r*s+l]=t[r]}return mt.decode(a)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(r){throw new f}for(let i=0;i<t;i++)e[i]=n[i]}}class yt{constructor(e){this.image=e,this.rectangleDetector=new ue(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new D;t=this.shiftToModuleCenter(t);const n=t[0],r=t[1],i=t[2],o=t[3];let a=this.transitionsBetween(n,o)+1,s=this.transitionsBetween(i,o)+1;1===(1&a)&&(a+=1),1===(1&s)&&(s+=1),4*a<7*s&&4*s<7*a&&(a=s=Math.max(a,s));let l=yt.sampleGrid(this.image,n,r,i,o,a,s);return new le(l,[n,r,i,o])}static shiftPoint(e,t,n){let r=(t.getX()-e.getX())/(n+1),i=(t.getY()-e.getY())/(n+1);return new se(e.getX()+r,e.getY()+i)}static moveAway(e,t,n){let r=e.getX(),i=e.getY();return r<t?r-=1:r+=1,i<n?i-=1:i+=1,new se(r,i)}detectSolid1(e){let t=e[0],n=e[1],r=e[3],i=e[2],o=this.transitionsBetween(t,n),a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,i),l=this.transitionsBetween(i,t),c=o,u=[i,t,n,r];return c>a&&(c=a,u[0]=t,u[1]=n,u[2]=r,u[3]=i),c>s&&(c=s,u[0]=n,u[1]=r,u[2]=i,u[3]=t),c>l&&(u[0]=r,u[1]=i,u[2]=t,u[3]=n),u}detectSolid2(e){let t=e[0],n=e[1],r=e[2],i=e[3],o=this.transitionsBetween(t,i),a=yt.shiftPoint(n,r,4*(o+1)),s=yt.shiftPoint(r,n,4*(o+1));return this.transitionsBetween(a,t)<this.transitionsBetween(s,i)?(e[0]=t,e[1]=n,e[2]=r,e[3]=i):(e[0]=n,e[1]=r,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],r=e[2],i=e[3],o=this.transitionsBetween(t,i),a=this.transitionsBetween(n,i),s=yt.shiftPoint(t,n,4*(a+1)),l=yt.shiftPoint(r,n,4*(o+1));o=this.transitionsBetween(s,i),a=this.transitionsBetween(l,i);let c=new se(i.getX()+(r.getX()-n.getX())/(o+1),i.getY()+(r.getY()-n.getY())/(o+1)),u=new se(i.getX()+(t.getX()-n.getX())/(a+1),i.getY()+(t.getY()-n.getY())/(a+1));return this.isValid(c)?this.isValid(u)?this.transitionsBetween(s,c)+this.transitionsBetween(l,c)>this.transitionsBetween(s,u)+this.transitionsBetween(l,u)?c:u:c:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],n=e[1],r=e[2],i=e[3],o=this.transitionsBetween(t,i)+1,a=this.transitionsBetween(r,i)+1,s=yt.shiftPoint(t,n,4*a),l=yt.shiftPoint(r,n,4*o);o=this.transitionsBetween(s,i)+1,a=this.transitionsBetween(l,i)+1,1===(1&o)&&(o+=1),1===(1&a)&&(a+=1);let c,u,d=(t.getX()+n.getX()+r.getX()+i.getX())/4,h=(t.getY()+n.getY()+r.getY()+i.getY())/4;return t=yt.moveAway(t,d,h),n=yt.moveAway(n,d,h),r=yt.moveAway(r,d,h),i=yt.moveAway(i,d,h),s=yt.shiftPoint(t,n,4*a),s=yt.shiftPoint(s,i,4*o),c=yt.shiftPoint(n,t,4*a),c=yt.shiftPoint(c,r,4*o),l=yt.shiftPoint(r,i,4*a),l=yt.shiftPoint(l,n,4*o),u=yt.shiftPoint(i,r,4*a),u=yt.shiftPoint(u,t,4*o),[s,c,l,u]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,r,i,o,a){return pe.getInstance().sampleGrid(e,o,a,.5,.5,o-.5,.5,o-.5,a-.5,.5,a-.5,t.getX(),t.getY(),i.getX(),i.getY(),r.getX(),r.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),a=Math.abs(o-r)>Math.abs(i-n);if(a){let e=n;n=r,r=e,e=i,i=o,o=e}let s=Math.abs(i-n),l=Math.abs(o-r),c=-s/2,u=r<o?1:-1,d=n<i?1:-1,h=0,f=this.image.get(a?r:n,a?n:r);for(let p=n,g=r;p!==i;p+=d){let e=this.image.get(a?g:p,a?p:g);if(e!==f&&(h++,f=e),c+=l,c>0){if(g===o)break;g+=u,c-=s}}return h}}class Et{constructor(){this.decoder=new wt}decode(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=r&&r.has(b.PURE_BARCODE)){const r=Et.extractPureBits(e.getBlackMatrix());t=this.decoder.decode(r),n=Et.NO_POINTS}else{const r=new yt(e.getBlackMatrix()).detect();t=this.decoder.decode(r.getBits()),n=r.getPoints()}const i=t.getRawBytes(),o=new U(t.getText(),i,8*i.length,n,H.DATA_MATRIX,g.currentTimeMillis()),a=t.getByteSegments();null!=a&&o.putMetadata($.BYTE_SEGMENTS,a);const s=t.getECLevel();return null!=s&&o.putMetadata($.ERROR_CORRECTION_LEVEL,s),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new D;const r=this.moduleSize(t,e);let i=t[1];const o=n[1];let a=t[0];const s=(n[0]-a+1)/r,l=(o-i+1)/r;if(s<=0||l<=0)throw new D;const c=r/2;i+=c,a+=c;const u=new R(s,l);for(let d=0;d<l;d++){const t=i+d*r;for(let n=0;n<s;n++)e.get(a+n*r,t)&&u.set(n,d)}return u}static moduleSize(e,t){const n=t.getWidth();let r=e[0];const i=e[1];for(;r<n&&t.get(r,i);)r++;if(r===n)throw new D;const o=r-e[0];if(0===o)throw new D;return o}}Et.NO_POINTS=[];class St extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new Et,e)}}!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(G||(G={}));class Ct{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,Ct.FOR_BITS.set(n,this),Ct.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Ct.L;case"M":return Ct.M;case"Q":return Ct.Q;case"H":return Ct.H;default:throw new u(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Ct))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Ct.FOR_BITS.size)throw new d;return Ct.FOR_BITS.get(e)}}Ct.FOR_BITS=new Map,Ct.FOR_VALUE=new Map,Ct.L=new Ct(G.L,"L",1),Ct.M=new Ct(G.M,"M",0),Ct.Q=new Ct(G.Q,"Q",3),Ct.H=new Ct(G.H,"H",2);class bt{constructor(e){this.errorCorrectionLevel=Ct.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return E.bitCount(e^t)}static decodeFormatInformation(e,t){const n=bt.doDecodeFormatInformation(e,t);return null!==n?n:bt.doDecodeFormatInformation(e^bt.FORMAT_INFO_MASK_QR,t^bt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;for(const i of bt.FORMAT_INFO_DECODE_LOOKUP){const o=i[0];if(o===e||o===t)return new bt(i[1]);let a=bt.numBitsDiffering(e,o);a<n&&(r=i[1],n=a),e!==t&&(a=bt.numBitsDiffering(t,o),a<n&&(r=i[1],n=a))}return n<=3?new bt(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof bt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}bt.FORMAT_INFO_MASK_QR=21522,bt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class vt{constructor(e){this.ecCodewordsPerBlock=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class At{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(e,t){this.versionNumber=e,this.alignmentPatternCenters=t;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.ecBlocks=r;let o=0;const a=r[0].getECCodewordsPerBlock(),s=r[0].getECBlocks();for(const l of s)o+=l.getCount()*(l.getDataCodewords()+a);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new v;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new v}}static getVersionForNumber(e){if(e<1||e>40)throw new d;return _t.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let r=0;r<_t.VERSION_DECODE_INFO.length;r++){const i=_t.VERSION_DECODE_INFO[r];if(i===e)return _t.getVersionForNumber(r+7);const o=bt.numBitsDiffering(e,i);o<t&&(n=r+7,t=o)}return t<=3?_t.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new R(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let r=0;r<n;r++){const e=this.alignmentPatternCenters[r]-2;for(let i=0;i<n;i++)0===r&&(0===i||i===n-1)||r===n-1&&0===i||t.setRegion(this.alignmentPatternCenters[i]-2,e,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}_t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_t.VERSIONS=[new _t(1,new Int32Array(0),new vt(7,new At(1,19)),new vt(10,new At(1,16)),new vt(13,new At(1,13)),new vt(17,new At(1,9))),new _t(2,Int32Array.from([6,18]),new vt(10,new At(1,34)),new vt(16,new At(1,28)),new vt(22,new At(1,22)),new vt(28,new At(1,16))),new _t(3,Int32Array.from([6,22]),new vt(15,new At(1,55)),new vt(26,new At(1,44)),new vt(18,new At(2,17)),new vt(22,new At(2,13))),new _t(4,Int32Array.from([6,26]),new vt(20,new At(1,80)),new vt(18,new At(2,32)),new vt(26,new At(2,24)),new vt(16,new At(4,9))),new _t(5,Int32Array.from([6,30]),new vt(26,new At(1,108)),new vt(24,new At(2,43)),new vt(18,new At(2,15),new At(2,16)),new vt(22,new At(2,11),new At(2,12))),new _t(6,Int32Array.from([6,34]),new vt(18,new At(2,68)),new vt(16,new At(4,27)),new vt(24,new At(4,19)),new vt(28,new At(4,15))),new _t(7,Int32Array.from([6,22,38]),new vt(20,new At(2,78)),new vt(18,new At(4,31)),new vt(18,new At(2,14),new At(4,15)),new vt(26,new At(4,13),new At(1,14))),new _t(8,Int32Array.from([6,24,42]),new vt(24,new At(2,97)),new vt(22,new At(2,38),new At(2,39)),new vt(22,new At(4,18),new At(2,19)),new vt(26,new At(4,14),new At(2,15))),new _t(9,Int32Array.from([6,26,46]),new vt(30,new At(2,116)),new vt(22,new At(3,36),new At(2,37)),new vt(20,new At(4,16),new At(4,17)),new vt(24,new At(4,12),new At(4,13))),new _t(10,Int32Array.from([6,28,50]),new vt(18,new At(2,68),new At(2,69)),new vt(26,new At(4,43),new At(1,44)),new vt(24,new At(6,19),new At(2,20)),new vt(28,new At(6,15),new At(2,16))),new _t(11,Int32Array.from([6,30,54]),new vt(20,new At(4,81)),new vt(30,new At(1,50),new At(4,51)),new vt(28,new At(4,22),new At(4,23)),new vt(24,new At(3,12),new At(8,13))),new _t(12,Int32Array.from([6,32,58]),new vt(24,new At(2,92),new At(2,93)),new vt(22,new At(6,36),new At(2,37)),new vt(26,new At(4,20),new At(6,21)),new vt(28,new At(7,14),new At(4,15))),new _t(13,Int32Array.from([6,34,62]),new vt(26,new At(4,107)),new vt(22,new At(8,37),new At(1,38)),new vt(24,new At(8,20),new At(4,21)),new vt(22,new At(12,11),new At(4,12))),new _t(14,Int32Array.from([6,26,46,66]),new vt(30,new At(3,115),new At(1,116)),new vt(24,new At(4,40),new At(5,41)),new vt(20,new At(11,16),new At(5,17)),new vt(24,new At(11,12),new At(5,13))),new _t(15,Int32Array.from([6,26,48,70]),new vt(22,new At(5,87),new At(1,88)),new vt(24,new At(5,41),new At(5,42)),new vt(30,new At(5,24),new At(7,25)),new vt(24,new At(11,12),new At(7,13))),new _t(16,Int32Array.from([6,26,50,74]),new vt(24,new At(5,98),new At(1,99)),new vt(28,new At(7,45),new At(3,46)),new vt(24,new At(15,19),new At(2,20)),new vt(30,new At(3,15),new At(13,16))),new _t(17,Int32Array.from([6,30,54,78]),new vt(28,new At(1,107),new At(5,108)),new vt(28,new At(10,46),new At(1,47)),new vt(28,new At(1,22),new At(15,23)),new vt(28,new At(2,14),new At(17,15))),new _t(18,Int32Array.from([6,30,56,82]),new vt(30,new At(5,120),new At(1,121)),new vt(26,new At(9,43),new At(4,44)),new vt(28,new At(17,22),new At(1,23)),new vt(28,new At(2,14),new At(19,15))),new _t(19,Int32Array.from([6,30,58,86]),new vt(28,new At(3,113),new At(4,114)),new vt(26,new At(3,44),new At(11,45)),new vt(26,new At(17,21),new At(4,22)),new vt(26,new At(9,13),new At(16,14))),new _t(20,Int32Array.from([6,34,62,90]),new vt(28,new At(3,107),new At(5,108)),new vt(26,new At(3,41),new At(13,42)),new vt(30,new At(15,24),new At(5,25)),new vt(28,new At(15,15),new At(10,16))),new _t(21,Int32Array.from([6,28,50,72,94]),new vt(28,new At(4,116),new At(4,117)),new vt(26,new At(17,42)),new vt(28,new At(17,22),new At(6,23)),new vt(30,new At(19,16),new At(6,17))),new _t(22,Int32Array.from([6,26,50,74,98]),new vt(28,new At(2,111),new At(7,112)),new vt(28,new At(17,46)),new vt(30,new At(7,24),new At(16,25)),new vt(24,new At(34,13))),new _t(23,Int32Array.from([6,30,54,78,102]),new vt(30,new At(4,121),new At(5,122)),new vt(28,new At(4,47),new At(14,48)),new vt(30,new At(11,24),new At(14,25)),new vt(30,new At(16,15),new At(14,16))),new _t(24,Int32Array.from([6,28,54,80,106]),new vt(30,new At(6,117),new At(4,118)),new vt(28,new At(6,45),new At(14,46)),new vt(30,new At(11,24),new At(16,25)),new vt(30,new At(30,16),new At(2,17))),new _t(25,Int32Array.from([6,32,58,84,110]),new vt(26,new At(8,106),new At(4,107)),new vt(28,new At(8,47),new At(13,48)),new vt(30,new At(7,24),new At(22,25)),new vt(30,new At(22,15),new At(13,16))),new _t(26,Int32Array.from([6,30,58,86,114]),new vt(28,new At(10,114),new At(2,115)),new vt(28,new At(19,46),new At(4,47)),new vt(28,new At(28,22),new At(6,23)),new vt(30,new At(33,16),new At(4,17))),new _t(27,Int32Array.from([6,34,62,90,118]),new vt(30,new At(8,122),new At(4,123)),new vt(28,new At(22,45),new At(3,46)),new vt(30,new At(8,23),new At(26,24)),new vt(30,new At(12,15),new At(28,16))),new _t(28,Int32Array.from([6,26,50,74,98,122]),new vt(30,new At(3,117),new At(10,118)),new vt(28,new At(3,45),new At(23,46)),new vt(30,new At(4,24),new At(31,25)),new vt(30,new At(11,15),new At(31,16))),new _t(29,Int32Array.from([6,30,54,78,102,126]),new vt(30,new At(7,116),new At(7,117)),new vt(28,new At(21,45),new At(7,46)),new vt(30,new At(1,23),new At(37,24)),new vt(30,new At(19,15),new At(26,16))),new _t(30,Int32Array.from([6,26,52,78,104,130]),new vt(30,new At(5,115),new At(10,116)),new vt(28,new At(19,47),new At(10,48)),new vt(30,new At(15,24),new At(25,25)),new vt(30,new At(23,15),new At(25,16))),new _t(31,Int32Array.from([6,30,56,82,108,134]),new vt(30,new At(13,115),new At(3,116)),new vt(28,new At(2,46),new At(29,47)),new vt(30,new At(42,24),new At(1,25)),new vt(30,new At(23,15),new At(28,16))),new _t(32,Int32Array.from([6,34,60,86,112,138]),new vt(30,new At(17,115)),new vt(28,new At(10,46),new At(23,47)),new vt(30,new At(10,24),new At(35,25)),new vt(30,new At(19,15),new At(35,16))),new _t(33,Int32Array.from([6,30,58,86,114,142]),new vt(30,new At(17,115),new At(1,116)),new vt(28,new At(14,46),new At(21,47)),new vt(30,new At(29,24),new At(19,25)),new vt(30,new At(11,15),new At(46,16))),new _t(34,Int32Array.from([6,34,62,90,118,146]),new vt(30,new At(13,115),new At(6,116)),new vt(28,new At(14,46),new At(23,47)),new vt(30,new At(44,24),new At(7,25)),new vt(30,new At(59,16),new At(1,17))),new _t(35,Int32Array.from([6,30,54,78,102,126,150]),new vt(30,new At(12,121),new At(7,122)),new vt(28,new At(12,47),new At(26,48)),new vt(30,new At(39,24),new At(14,25)),new vt(30,new At(22,15),new At(41,16))),new _t(36,Int32Array.from([6,24,50,76,102,128,154]),new vt(30,new At(6,121),new At(14,122)),new vt(28,new At(6,47),new At(34,48)),new vt(30,new At(46,24),new At(10,25)),new vt(30,new At(2,15),new At(64,16))),new _t(37,Int32Array.from([6,28,54,80,106,132,158]),new vt(30,new At(17,122),new At(4,123)),new vt(28,new At(29,46),new At(14,47)),new vt(30,new At(49,24),new At(10,25)),new vt(30,new At(24,15),new At(46,16))),new _t(38,Int32Array.from([6,32,58,84,110,136,162]),new vt(30,new At(4,122),new At(18,123)),new vt(28,new At(13,46),new At(32,47)),new vt(30,new At(48,24),new At(14,25)),new vt(30,new At(42,15),new At(32,16))),new _t(39,Int32Array.from([6,26,54,82,110,138,166]),new vt(30,new At(20,117),new At(4,118)),new vt(28,new At(40,47),new At(7,48)),new vt(30,new At(43,24),new At(22,25)),new vt(30,new At(10,15),new At(67,16))),new _t(40,Int32Array.from([6,30,58,86,114,142,170]),new vt(30,new At(19,118),new At(6,119)),new vt(28,new At(18,47),new At(31,48)),new vt(30,new At(34,24),new At(34,25)),new vt(30,new At(20,15),new At(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(Y||(Y={}));class Tt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}Tt.values=new Map([[Y.DATA_MASK_000,new Tt(Y.DATA_MASK_000,((e,t)=>0===(e+t&1)))],[Y.DATA_MASK_001,new Tt(Y.DATA_MASK_001,((e,t)=>0===(1&e)))],[Y.DATA_MASK_010,new Tt(Y.DATA_MASK_010,((e,t)=>t%3===0))],[Y.DATA_MASK_011,new Tt(Y.DATA_MASK_011,((e,t)=>(e+t)%3===0))],[Y.DATA_MASK_100,new Tt(Y.DATA_MASK_100,((e,t)=>0===(Math.floor(e/2)+Math.floor(t/3)&1)))],[Y.DATA_MASK_101,new Tt(Y.DATA_MASK_101,((e,t)=>e*t%6===0))],[Y.DATA_MASK_110,new Tt(Y.DATA_MASK_110,((e,t)=>e*t%6<3))],[Y.DATA_MASK_111,new Tt(Y.DATA_MASK_111,((e,t)=>0===(e+t+e*t%3&1)))]]);class It{constructor(e){const t=e.getHeight();if(t<21||1!==(3&t))throw new v;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let n=0;const r=t-7;for(let i=t-1;i>=r;i--)n=this.copyBit(8,i,n);for(let i=t-8;i<t;i++)n=this.copyBit(i,8,n);if(this.parsedFormatInfo=bt.decodeFormatInformation(e,n),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new v}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return _t.getVersionForNumber(t);let n=0;const r=e-11;for(let o=5;o>=0;o--)for(let t=e-9;t>=r;t--)n=this.copyBit(t,o,n);let i=_t.decodeVersionInformation(n);if(null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;n=0;for(let o=5;o>=0;o--)for(let t=e-9;t>=r;t--)n=this.copyBit(o,t,n);if(i=_t.decodeVersionInformation(n),null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new v}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=Tt.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);const i=t.buildFunctionPattern();let o=!0;const a=new Uint8Array(t.getTotalCodewords());let s=0,l=0,c=0;for(let u=r-1;u>0;u-=2){6===u&&u--;for(let e=0;e<r;e++){const t=o?r-1-e:e;for(let e=0;e<2;e++)i.get(u-e,t)||(c++,l<<=1,this.bitMatrix.get(u-e,t)&&(l|=1),8===c&&(a[s++]=l,c=0,l=0))}o=!o}if(s!==t.getTotalCodewords())throw new v;return a}remask(){if(null===this.parsedFormatInfo)return;const e=Tt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let r=t+1,i=e.getHeight();r<i;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class Nt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new d;const r=t.getECBlocksForLevel(n);let i=0;const o=r.getECBlocks();for(const d of o)i+=d.getCount();const a=new Array(i);let s=0;for(const d of o)for(let e=0;e<d.getCount();e++){const e=d.getDataCodewords(),t=r.getECCodewordsPerBlock()+e;a[s++]=new Nt(e,new Uint8Array(t))}const l=a[0].codewords.length;let c=a.length-1;for(;c>=0&&a[c].codewords.length!==l;)c--;c++;const u=l-r.getECCodewordsPerBlock();let h=0;for(let d=0;d<u;d++)for(let t=0;t<s;t++)a[t].codewords[d]=e[h++];for(let d=c;d<s;d++)a[d].codewords[u]=e[h++];const f=a[0].codewords.length;for(let d=u;d<f;d++)for(let t=0;t<s;t++){const n=t<c?d:d+1;a[t].codewords[n]=e[h++]}return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(X||(X={}));class Rt{constructor(e,t,n,r){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=r,Rt.FOR_BITS.set(r,this),Rt.FOR_VALUE.set(e,this)}static forBits(e){const t=Rt.FOR_BITS.get(e);if(void 0===t)throw new d;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return n=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Rt))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}Rt.FOR_BITS=new Map,Rt.FOR_VALUE=new Map,Rt.TERMINATOR=new Rt(X.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Rt.NUMERIC=new Rt(X.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Rt.ALPHANUMERIC=new Rt(X.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Rt.STRUCTURED_APPEND=new Rt(X.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Rt.BYTE=new Rt(X.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Rt.ECI=new Rt(X.ECI,"ECI",Int32Array.from([0,0,0]),7),Rt.KANJI=new Rt(X.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Rt.FNC1_FIRST_POSITION=new Rt(X.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Rt.FNC1_SECOND_POSITION=new Rt(X.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Rt.HANZI=new Rt(X.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Dt{static decode(e,t,n,r){const i=new gt(e);let o=new N;const a=new Array;let s=-1,l=-1;try{let e,n=null,c=!1;do{if(i.available()<4)e=Rt.TERMINATOR;else{const t=i.readBits(4);e=Rt.forBits(t)}switch(e){case Rt.TERMINATOR:break;case Rt.FNC1_FIRST_POSITION:case Rt.FNC1_SECOND_POSITION:c=!0;break;case Rt.STRUCTURED_APPEND:if(i.available()<16)throw new v;s=i.readBits(8),l=i.readBits(8);break;case Rt.ECI:const u=Dt.parseECIValue(i);if(n=A.getCharacterSetECIByValue(u),null===n)throw new v;break;case Rt.HANZI:const d=i.readBits(4),h=i.readBits(e.getCharacterCountBits(t));d===Dt.GB2312_SUBSET&&Dt.decodeHanziSegment(i,o,h);break;default:const f=i.readBits(e.getCharacterCountBits(t));switch(e){case Rt.NUMERIC:Dt.decodeNumericSegment(i,o,f);break;case Rt.ALPHANUMERIC:Dt.decodeAlphanumericSegment(i,o,f,c);break;case Rt.BYTE:Dt.decodeByteSegment(i,o,f,n,a,r);break;case Rt.KANJI:Dt.decodeKanjiSegment(i,o,f);break;default:throw new v}}}while(e!==Rt.TERMINATOR)}catch(c){throw new v}return new Q(e,o.toString(),0===a.length?null:a,null===n?null:n.toString(),s,l)}static decodeHanziSegment(e,t,n){if(13*n>e.available())throw new v;const r=new Uint8Array(2*n);let i=0;for(;n>0;){const t=e.readBits(13);let o=t/96<<8&4294967295|t%96;o+=o<959?41377:42657,r[i]=o>>8&255,r[i+1]=255&o,i+=2,n--}try{t.append(T.decode(r,I.GB2312))}catch(o){throw new v(o)}}static decodeKanjiSegment(e,t,n){if(13*n>e.available())throw new v;const r=new Uint8Array(2*n);let i=0;for(;n>0;){const t=e.readBits(13);let o=t/192<<8&4294967295|t%192;o+=o<7936?33088:49472,r[i]=o>>8,r[i+1]=o,i+=2,n--}try{t.append(T.decode(r,I.SHIFT_JIS))}catch(o){throw new v(o)}}static decodeByteSegment(e,t,n,r,i,o){if(8*n>e.available())throw new v;const a=new Uint8Array(n);for(let c=0;c<n;c++)a[c]=e.readBits(8);let s;s=null===r?I.guessEncoding(a,o):r.getName();try{t.append(T.decode(a,s))}catch(l){throw new v(l)}i.push(a)}static toAlphaNumericChar(e){if(e>=Dt.ALPHANUMERIC_CHARS.length)throw new v;return Dt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,r){const i=t.length();for(;n>1;){if(e.available()<11)throw new v;const r=e.readBits(11);t.append(Dt.toAlphaNumericChar(Math.floor(r/45))),t.append(Dt.toAlphaNumericChar(r%45)),n-=2}if(1===n){if(e.available()<6)throw new v;t.append(Dt.toAlphaNumericChar(e.readBits(6)))}if(r)for(let o=i;o<t.length();o++)"%"===t.charAt(o)&&(o<t.length()-1&&"%"===t.charAt(o+1)?t.deleteCharAt(o+1):t.setCharAt(o,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new v;const r=e.readBits(10);if(r>=1e3)throw new v;t.append(Dt.toAlphaNumericChar(Math.floor(r/100))),t.append(Dt.toAlphaNumericChar(Math.floor(r/10)%10)),t.append(Dt.toAlphaNumericChar(r%10)),n-=3}if(2===n){if(e.available()<7)throw new v;const n=e.readBits(7);if(n>=100)throw new v;t.append(Dt.toAlphaNumericChar(Math.floor(n/10))),t.append(Dt.toAlphaNumericChar(n%10))}else if(1===n){if(e.available()<4)throw new v;const n=e.readBits(4);if(n>=10)throw new v;t.append(Dt.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new v}}Dt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Dt.GB2312_SUBSET=1;class Ot{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Mt{constructor(){this.rsDecoder=new re(ee.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(R.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new It(e);let r=null;try{return this.decodeBitMatrixParser(n,t)}catch(i){r=i}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const e=this.decodeBitMatrixParser(n,t);return e.setOther(new Ot(!0)),e}catch(i){if(null!==r)throw r;throw i}}decodeBitMatrixParser(e,t){const n=e.readVersion(),r=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),o=Nt.getDataBlocks(i,n,r);let a=0;for(const c of o)a+=c.getNumDataCodewords();const s=new Uint8Array(a);let l=0;for(const c of o){const e=c.getCodewords(),t=c.getNumDataCodewords();this.correctErrors(e,t);for(let n=0;n<t;n++)s[l++]=e[n]}return Dt.decode(s,n,r,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(r){throw new f}for(let i=0;i<t;i++)e[i]=n[i]}}class kt extends se{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=(this.getX()+t)/2,i=(this.getY()+e)/2,o=(this.estimatedModuleSize+n)/2;return new kt(r,i,o)}}class xt{constructor(e,t,n,r,i,o,a){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=i,this.moduleSize=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=e+this.width,r=this.startY+t/2,i=new Int32Array(3),o=this.image;for(let a=0;a<t;a++){const t=r+(0===(1&a)?Math.floor((a+1)/2):-Math.floor((a+1)/2));i[0]=0,i[1]=0,i[2]=0;let s=e;for(;s<n&&!o.get(s,t);)s++;let l=0;for(;s<n;){if(o.get(s,t))if(1===l)i[1]++;else if(2===l){if(this.foundPatternCross(i)){const e=this.handlePossibleCenter(i,t,s);if(null!==e)return e}i[0]=i[2],i[1]=1,i[2]=0,l=1}else i[++l]++;else 1===l&&l++,i[l]++;s++}if(this.foundPatternCross(i)){const e=this.handlePossibleCenter(i,t,n);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new D}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0}crossCheckVertical(e,t,n,r){const i=this.image,o=i.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;let s=e;for(;s>=0&&i.get(t,s)&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&!i.get(t,s)&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<o&&i.get(t,s)&&a[1]<=n;)a[1]++,s++;if(s===o||a[1]>n)return NaN;for(;s<o&&!i.get(t,s)&&a[2]<=n;)a[2]++,s++;if(a[2]>n)return NaN;const l=a[0]+a[1]+a[2];return 5*Math.abs(l-r)>=2*r?NaN:this.foundPatternCross(a)?xt.centerFromEnd(a,s):NaN}handlePossibleCenter(e,t,n){const r=e[0]+e[1]+e[2],i=xt.centerFromEnd(e,n),o=this.crossCheckVertical(t,i,2*e[1],r);if(!isNaN(o)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,o,i))return e.combineEstimate(o,i,t);const n=new kt(i,o,t);this.possibleCenters.push(n),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(n)}return null}}class Pt extends se{constructor(e,t,n,r){super(e,t),this.estimatedModuleSize=n,this.count=r,void 0===r&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=this.count+1,i=(this.count*this.getX()+t)/r,o=(this.count*this.getY()+e)/r,a=(this.count*this.estimatedModuleSize+n)/r;return new Pt(i,o,a,r)}}class Lt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Bt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!==e&&void 0!==e&&void 0!==e.get(b.TRY_HARDER),n=null!==e&&void 0!==e&&void 0!==e.get(b.PURE_BARCODE),r=this.image,i=r.getHeight(),o=r.getWidth();let a=Math.floor(3*i/(4*Bt.MAX_MODULES));(a<Bt.MIN_SKIP||t)&&(a=Bt.MIN_SKIP);let s=!1;const l=new Int32Array(5);for(let u=a-1;u<i&&!s;u+=a){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;let e=0;for(let t=0;t<o;t++)if(r.get(t,u))1===(1&e)&&e++,l[e]++;else if(0===(1&e))if(4===e)if(Bt.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,u,t,n)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;continue}if(a=2,!0===this.hasSkipped)s=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>l[2]&&(u+=e-l[2]-a,t=o-1)}e=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;else l[++e]++;else l[e]++;Bt.foundPatternCross(l)&&!0===this.handlePossibleCenter(l,u,o,n)&&(a=l[0],this.hasSkipped&&(s=this.haveMultiplyConfirmedCenters()))}const c=this.selectBestPatterns();return se.orderBestPatterns(c),new Lt(c)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const n=e[i];if(0===n)return!1;t+=n}if(t<7)return!1;const n=t/7,r=n/2;return Math.abs(n-e[0])<r&&Math.abs(n-e[1])<r&&Math.abs(3*n-e[2])<3*r&&Math.abs(n-e[3])<r&&Math.abs(n-e[4])<r}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,r){const i=this.getCrossCheckStateCount();let o=0;const a=this.image;for(;e>=o&&t>=o&&a.get(t-o,e-o);)i[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!a.get(t-o,e-o)&&i[1]<=n;)i[1]++,o++;if(e<o||t<o||i[1]>n)return!1;for(;e>=o&&t>=o&&a.get(t-o,e-o)&&i[0]<=n;)i[0]++,o++;if(i[0]>n)return!1;const s=a.getHeight(),l=a.getWidth();for(o=1;e+o<s&&t+o<l&&a.get(t+o,e+o);)i[2]++,o++;if(e+o>=s||t+o>=l)return!1;for(;e+o<s&&t+o<l&&!a.get(t+o,e+o)&&i[3]<n;)i[3]++,o++;if(e+o>=s||t+o>=l||i[3]>=n)return!1;for(;e+o<s&&t+o<l&&a.get(t+o,e+o)&&i[4]<n;)i[4]++,o++;if(i[4]>=n)return!1;const c=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(c-r)<2*r&&Bt.foundPatternCross(i)}crossCheckVertical(e,t,n,r){const i=this.image,o=i.getHeight(),a=this.getCrossCheckStateCount();let s=e;for(;s>=0&&i.get(t,s);)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.get(t,s)&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i.get(t,s)&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<o&&i.get(t,s);)a[2]++,s++;if(s===o)return NaN;for(;s<o&&!i.get(t,s)&&a[3]<n;)a[3]++,s++;if(s===o||a[3]>=n)return NaN;for(;s<o&&i.get(t,s)&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return NaN;const l=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(l-r)>=2*r?NaN:Bt.foundPatternCross(a)?Bt.centerFromEnd(a,s):NaN}crossCheckHorizontal(e,t,n,r){const i=this.image,o=i.getWidth(),a=this.getCrossCheckStateCount();let s=e;for(;s>=0&&i.get(s,t);)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.get(s,t)&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i.get(s,t)&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<o&&i.get(s,t);)a[2]++,s++;if(s===o)return NaN;for(;s<o&&!i.get(s,t)&&a[3]<n;)a[3]++,s++;if(s===o||a[3]>=n)return NaN;for(;s<o&&i.get(s,t)&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return NaN;const l=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(l-r)>=r?NaN:Bt.foundPatternCross(a)?Bt.centerFromEnd(a,s):NaN}handlePossibleCenter(e,t,n,r){const i=e[0]+e[1]+e[2]+e[3]+e[4];let o=Bt.centerFromEnd(e,n),a=this.crossCheckVertical(t,Math.floor(o),e[2],i);if(!isNaN(a)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(a),e[2],i),!isNaN(o)&&(!r||this.crossCheckDiagonal(Math.floor(a),Math.floor(o),e[2],i)))){const e=i/7;let t=!1;const n=this.possibleCenters;for(let r=0,i=n.length;r<i;r++){const i=n[r];if(i.aboutEquals(e,a,o)){n[r]=i.combineEstimate(a,o,e),t=!0;break}}if(!t){const t=new Pt(o,a,e);n.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Bt.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const o of this.possibleCenters)o.getCount()>=Bt.CENTER_QUORUM&&(e++,t+=o.getEstimatedModuleSize());if(e<3)return!1;const r=t/n;let i=0;for(const o of this.possibleCenters)i+=Math.abs(o.getEstimatedModuleSize()-r);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new D;const t=this.possibleCenters;let n;if(e>3){let r=0,i=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();r+=t,i+=t*t}n=r/e;let o=Math.sqrt(i/e-n*n);t.sort(((e,t)=>{const r=Math.abs(t.getEstimatedModuleSize()-n),i=Math.abs(e.getEstimatedModuleSize()-n);return r<i?-1:r>i?1:0}));const a=Math.max(.2*n,o);for(let e=0;e<t.length&&t.length>3;e++){const r=t[e];Math.abs(r.getEstimatedModuleSize()-n)>a&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const n of t)e+=n.getEstimatedModuleSize();n=e/t.length,t.sort(((e,t)=>{if(t.getCount()===e.getCount()){const r=Math.abs(t.getEstimatedModuleSize()-n),i=Math.abs(e.getEstimatedModuleSize()-n);return r<i?1:r>i?-1:0}return t.getCount()-e.getCount()})),t.splice(3)}return[t[0],t[1],t[2]]}}Bt.CENTER_QUORUM=2,Bt.MIN_SKIP=3,Bt.MAX_MODULES=57;class Ft{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null===e||void 0===e?null:e.get(b.NEED_RESULT_POINT_CALLBACK);const t=new Bt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),r=e.getBottomLeft(),i=this.calculateModuleSize(t,n,r);if(i<1)throw new D("No pattern found in proccess finder.");const o=Ft.computeDimension(t,n,r,i),a=_t.getProvisionalVersionForDimension(o),s=a.getDimensionForVersion()-7;let l=null;if(a.getAlignmentPatternCenters().length>0){const e=n.getX()-t.getX()+r.getX(),o=n.getY()-t.getY()+r.getY(),a=1-3/s,c=Math.floor(t.getX()+a*(e-t.getX())),u=Math.floor(t.getY()+a*(o-t.getY()));for(let t=4;t<=16;t<<=1)try{l=this.findAlignmentInRegion(i,c,u,t);break}catch(h){if(!(h instanceof D))throw h}}const c=Ft.createTransform(t,n,r,l,o),u=Ft.sampleGrid(this.image,c,o);let d;return d=null===l?[r,t,n]:[r,t,n,l],new le(u,d)}static createTransform(e,t,n,r,i){const o=i-3.5;let a,s,l,c;return null!==r?(a=r.getX(),s=r.getY(),l=o-3,c=l):(a=t.getX()-e.getX()+n.getX(),s=t.getY()-e.getY()+n.getY(),l=o,c=o),he.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,l,c,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),a,s,n.getX(),n.getY())}static sampleGrid(e,t,n){return pe.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,r){const i=oe.round(se.distance(e,t)/r),o=oe.round(se.distance(e,n)/r);let a=Math.floor((i+o)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new D("Dimensions could be not found.")}return a}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){let i=this.sizeOfBlackWhiteBlackRun(e,t,n,r),o=1,a=e-(n-e);a<0?(o=e/(e-a),a=0):a>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);let s=Math.floor(t-(r-t)*o);return o=1,s<0?(o=t/(t-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),a=Math.floor(e+(a-e)*o),i+=this.sizeOfBlackWhiteBlackRun(e,t,a,s),i-1}sizeOfBlackWhiteBlackRun(e,t,n,r){const i=Math.abs(r-t)>Math.abs(n-e);if(i){let i=e;e=t,t=i,i=n,n=r,r=i}const o=Math.abs(n-e),a=Math.abs(r-t);let s=-o/2;const l=e<n?1:-1,c=t<r?1:-1;let u=0;const d=n+l;for(let h=e,f=t;h!==d;h+=l){const n=i?f:h,l=i?h:f;if(1===u===this.image.get(n,l)){if(2===u)return oe.distance(h,f,e,t);u++}if(s+=a,s>0){if(f===r)break;f+=c,s-=o}}return 2===u?oe.distance(n+l,r,e,t):NaN}findAlignmentInRegion(e,t,n,r){const i=Math.floor(r*e),o=Math.max(0,t-i),a=Math.min(this.image.getWidth()-1,t+i);if(a-o<3*e)throw new D("Alignment top exceeds estimated module size.");const s=Math.max(0,n-i),l=Math.min(this.image.getHeight()-1,n+i);if(l-s<3*e)throw new D("Alignment bottom exceeds estimated module size.");return new xt(this.image,o,s,a-o,l-s,e,this.resultPointCallback).find()}}class jt{constructor(){this.decoder=new Mt}getDecoder(){return this.decoder}decode(e,t){let n,r;if(void 0!==t&&null!==t&&void 0!==t.get(b.PURE_BARCODE)){const i=jt.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,t),r=jt.NO_POINTS}else{const i=new Ft(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(i.getBits(),t),r=i.getPoints()}n.getOther()instanceof Ot&&n.getOther().applyMirroredCorrection(r);const i=new U(n.getText(),n.getRawBytes(),void 0,r,H.QR_CODE,void 0),o=n.getByteSegments();null!==o&&i.putMetadata($.BYTE_SEGMENTS,o);const a=n.getECLevel();return null!==a&&i.putMetadata($.ERROR_CORRECTION_LEVEL,a),n.hasStructuredAppend()&&(i.putMetadata($.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),i.putMetadata($.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new D;const r=this.moduleSize(t,e);let i=t[1],o=n[1],a=t[0],s=n[0];if(a>=s||i>=o)throw new D;if(o-i!==s-a&&(s=a+(o-i),s>=e.getWidth()))throw new D;const l=Math.round((s-a+1)/r),c=Math.round((o-i+1)/r);if(l<=0||c<=0)throw new D;if(c!==l)throw new D;const u=Math.floor(r/2);i+=u,a+=u;const d=a+Math.floor((l-1)*r)-s;if(d>0){if(d>u)throw new D;a-=d}const h=i+Math.floor((c-1)*r)-o;if(h>0){if(h>u)throw new D;i-=h}const f=new R(l,c);for(let p=0;p<c;p++){const t=i+Math.floor(p*r);for(let n=0;n<l;n++)e.get(a+Math.floor(n*r),t)&&f.set(n,p)}return f}static moduleSize(e,t){const n=t.getHeight(),r=t.getWidth();let i=e[0],o=e[1],a=!0,s=0;for(;i<r&&o<n;){if(a!==t.get(i,o)){if(5===++s)break;a=!a}i++,o++}if(i===r||o===n)throw new D;return(i-e[0])/7}}jt.NO_POINTS=new Array;class Ut{PDF417Common(){}static getBitCountSum(e){return oe.sum(e)}static toIntArray(e){if(null==e||!e.length)return Ut.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const r of e)t[n++]=r;return t}static getCodeword(e){const t=y.binarySearch(Ut.SYMBOL_TABLE,262143&e);return t<0?-1:(Ut.CODEWORD_TABLE[t]-1)%Ut.NUMBER_OF_CODEWORDS}}Ut.NUMBER_OF_CODEWORDS=929,Ut.MAX_CODEWORDS_IN_BARCODE=Ut.NUMBER_OF_CODEWORDS-1,Ut.MIN_ROWS_IN_BARCODE=3,Ut.MAX_ROWS_IN_BARCODE=90,Ut.MODULES_IN_CODEWORD=17,Ut.MODULES_IN_STOP_PATTERN=18,Ut.BARS_IN_MODULE=8,Ut.EMPTY_INT_ARRAY=new Int32Array([]),Ut.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ut.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Ht{static detectMultiple(e,t,n){let r=e.getBlackMatrix(),i=Ht.detect(n,r);return i.length||(r=r.clone(),r.rotate180(),i=Ht.detect(n,r)),new zt(r,i)}static detect(e,t){const n=new Array;let r=0,i=0,o=!1;for(;r<t.getHeight();){const a=Ht.findVertices(t,r,i);if(null!=a[0]||null!=a[3]){if(o=!0,n.push(a),!e)break;null!=a[2]?(i=Math.trunc(a[2].getX()),r=Math.trunc(a[2].getY())):(i=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY()))}else{if(!o)break;o=!1,i=0;for(const e of n)null!=e[1]&&(r=Math.trunc(Math.max(r,e[1].getY()))),null!=e[3]&&(r=Math.max(r,Math.trunc(e[3].getY())));r+=Ht.ROW_STEP}}return n}static findVertices(e,t,n){const r=e.getHeight(),i=e.getWidth(),o=new Array(8);return Ht.copyToResult(o,Ht.findRowsWithPattern(e,r,i,t,n,Ht.START_PATTERN),Ht.INDEXES_START_PATTERN),null!=o[4]&&(n=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),Ht.copyToResult(o,Ht.findRowsWithPattern(e,r,i,t,n,Ht.STOP_PATTERN),Ht.INDEXES_STOP_PATTERN),o}static copyToResult(e,t,n){for(let r=0;r<n.length;r++)e[n[r]]=t[r]}static findRowsWithPattern(e,t,n,r,i,o){const a=new Array(4);let s=!1;const l=new Int32Array(o.length);for(;r<t;r+=Ht.ROW_STEP){let t=Ht.findGuardPattern(e,i,r,n,!1,o,l);if(null!=t){for(;r>0;){const a=Ht.findGuardPattern(e,i,--r,n,!1,o,l);if(null==a){r++;break}t=a}a[0]=new se(t[0],r),a[1]=new se(t[1],r),s=!0;break}}let c=r+1;if(s){let r=0,i=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);for(;c<t;c++){const t=Ht.findGuardPattern(e,i[0],c,n,!1,o,l);if(null!=t&&Math.abs(i[0]-t[0])<Ht.MAX_PATTERN_DRIFT&&Math.abs(i[1]-t[1])<Ht.MAX_PATTERN_DRIFT)i=t,r=0;else{if(r>Ht.SKIPPED_ROW_COUNT_MAX)break;r++}}c-=r+1,a[2]=new se(i[0],c),a[3]=new se(i[1],c)}return c-r<Ht.BARCODE_MIN_HEIGHT&&y.fill(a,null),a}static findGuardPattern(e,t,n,r,i,o,a){y.fillWithin(a,0,a.length,0);let s=t,l=0;for(;e.get(s,n)&&s>0&&l++<Ht.MAX_PIXEL_DRIFT;)s--;let c=s,u=0,d=o.length;for(let h=i;c<r;c++)if(e.get(c,n)!==h)a[u]++;else{if(u===d-1){if(Ht.patternMatchVariance(a,o,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return new Int32Array([s,c]);s+=a[0]+a[1],g.arraycopy(a,2,a,0,u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,h=!h}return u===d-1&&Ht.patternMatchVariance(a,o,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE?new Int32Array([s,c-1]):null}static patternMatchVariance(e,t,n){let r=e.length,i=0,o=0;for(let l=0;l<r;l++)i+=e[l],o+=t[l];if(i<o)return 1/0;let a=i/o;n*=a;let s=0;for(let l=0;l<r;l++){let r=e[l],i=t[l]*a,o=r>i?r-i:i-r;if(o>n)return 1/0;s+=o}return s/i}}Ht.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ht.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ht.MAX_AVG_VARIANCE=.42,Ht.MAX_INDIVIDUAL_VARIANCE=.8,Ht.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ht.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ht.MAX_PIXEL_DRIFT=3,Ht.MAX_PATTERN_DRIFT=5,Ht.SKIPPED_ROW_COUNT_MAX=25,Ht.ROW_STEP=5,Ht.BARCODE_MIN_HEIGHT=10;class Vt{constructor(e,t){if(0===t.length)throw new d;this.field=e;let n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-e),g.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],n=this.coefficients.length;for(let r=1;r<n;r++)t=this.field.add(this.field.multiply(e,t),this.coefficients[r]);return t}add(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let e=t;t=n,n=e}let r=new Int32Array(n.length),i=n.length-t.length;g.arraycopy(n,0,r,0,i);for(let o=i;o<n.length;o++)r[o]=this.field.add(t[o-i],n[o]);return new Vt(this.field,r)}subtract(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Vt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Vt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,o=new Int32Array(n+i-1);for(let a=0;a<n;a++){let e=t[a];for(let t=0;t<i;t++)o[a+t]=this.field.add(o[a+t],this.field.multiply(e,r[t]))}return new Vt(this.field,o)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new Vt(this.field,t)}multiplyScalar(e){if(0===e)return new Vt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new Vt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return new Vt(this.field,new Int32Array([0]));let n=this.coefficients.length,r=new Int32Array(n+e);for(let i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],t);return new Vt(this.field,r)}toString(){let e=new N;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Wt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}inverse(e){if(0===e)throw new J;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Gt extends Wt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let r=0;r<e;r++)this.expTable[r]=n,n=n*t%e;for(let r=0;r<e-1;r++)this.logTable[this.expTable[r]]=r;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new Vt(this,n)}}Gt.PDF417_GF=new Gt(Ut.NUMBER_OF_CODEWORDS,3);class Yt{constructor(){this.field=Gt.PDF417_GF}decode(e,t,n){let r=new Vt(this.field,e),i=new Int32Array(t),o=!1;for(let f=t;f>0;f--){let e=r.evaluateAt(this.field.exp(f));i[t-f]=e,0!==e&&(o=!0)}if(!o)return 0;let a=this.field.getOne();if(null!=n)for(const f of n){let t=this.field.exp(e.length-1-f),n=new Vt(this.field,new Int32Array([this.field.subtract(0,t),1]));a=a.multiply(n)}let s=new Vt(this.field,i),l=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),c=l[0],u=l[1],d=this.findErrorLocations(c),h=this.findErrorMagnitudes(u,c,d);for(let p=0;p<d.length;p++){let t=e.length-1-this.field.log(d[p]);if(t<0)throw f.getChecksumInstance();e[t]=this.field.subtract(e[t],h[p])}return d.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let n=e;e=t,t=n}let r=e,i=t,o=this.field.getZero(),a=this.field.getOne();for(;i.getDegree()>=Math.round(n/2);){let e=r,t=o;if(r=i,o=a,r.isZero())throw f.getChecksumInstance();i=e;let n=this.field.getZero(),s=r.getCoefficient(r.getDegree()),l=this.field.inverse(s);for(;i.getDegree()>=r.getDegree()&&!i.isZero();){let e=i.getDegree()-r.getDegree(),t=this.field.multiply(i.getCoefficient(i.getDegree()),l);n=n.add(this.field.buildMonomial(e,t)),i=i.subtract(r.multiplyByMonomial(e,t))}a=n.multiply(o).subtract(t).negative()}let s=a.getCoefficient(0);if(0===s)throw f.getChecksumInstance();let l=this.field.inverse(s);return[a.multiply(l),i.multiply(l)]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),r=0;for(let i=1;i<this.field.getSize()&&r<t;i++)0===e.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!==t)throw f.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let r=t.getDegree(),i=new Int32Array(r);for(let l=1;l<=r;l++)i[r-l]=this.field.multiply(l,t.getCoefficient(l));let o=new Vt(this.field,i),a=n.length,s=new Int32Array(a);for(let l=0;l<a;l++){let t=this.field.inverse(n[l]),r=this.field.subtract(0,e.evaluateAt(t)),i=this.field.inverse(o.evaluateAt(t));s[l]=this.field.multiply(r,i)}return s}}class Xt{constructor(e,t,n,r,i){e instanceof Xt?this.constructor_2(e):this.constructor_1(e,t,n,r,i)}constructor_1(e,t,n,r,i){const o=null==t||null==n,a=null==r||null==i;if(o&&a)throw new D;o?(t=new se(0,r.getY()),n=new se(0,i.getY())):a&&(r=new se(e.getWidth()-1,t.getY()),i=new se(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new Xt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let r=this.topLeft,i=this.bottomLeft,o=this.topRight,a=this.bottomRight;if(e>0){let t=n?this.topLeft:this.topRight,i=Math.trunc(t.getY()-e);i<0&&(i=0);let a=new se(t.getX(),i);n?r=a:o=a}if(t>0){let e=n?this.bottomLeft:this.bottomRight,r=Math.trunc(e.getY()+t);r>=this.image.getHeight()&&(r=this.image.getHeight()-1);let o=new se(e.getX(),r);n?i=o:a=o}return new Xt(this.image,r,i,o,a)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class qt{constructor(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class $t{constructor(){this.buffer=""}static form(e,t){let n=-1;function r(e,r,i,o,a,s){if("%%"===e)return"%";if(void 0===t[++n])return;e=o?parseInt(o.substr(1)):void 0;let l,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":l=t[n];break;case"c":l=t[n][0];break;case"f":l=parseFloat(t[n]).toFixed(e);break;case"p":l=parseFloat(t[n]).toPrecision(e);break;case"e":l=parseFloat(t[n]).toExponential(e);break;case"x":l=parseInt(t[n]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(i),d=i&&i[0]+""==="0"?"0":" ";for(;l.length<u;)l=void 0!==r?l+d:d+l;return l}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,r)}format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.buffer+=$t.form(e,n)}toString(){return this.buffer}}class Qt{constructor(e){this.boundingBox=new Xt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let n=1;n<Qt.MAX_NEARBY_DISTANCE;n++){let r=this.imageRowToCodewordIndex(e)-n;if(r>=0&&(t=this.codewords[r],null!=t))return t;if(r=this.imageRowToCodewordIndex(e)+n,r<this.codewords.length&&(t=this.codewords[r],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new $t;let t=0;for(const n of this.codewords)null!=n?e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}Qt.MAX_NEARBY_DISTANCE=5;class Zt{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,r]of this.values.entries()){const i={getKey:()=>n,getValue:()=>r};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return Ut.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Kt extends Qt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=-1,l=1,c=0;for(let u=o;u<a;u++){if(null==t[u])continue;let n=t[u],r=n.getRowNumber()-s;if(0===r)c++;else if(1===r)l=Math.max(l,c),c=1,s=n.getRowNumber();else if(r<0||n.getRowNumber()>=e.getRowCount()||r>u)t[u]=null;else{let e;e=l>2?(l-2)*r:r;let i=e>=u;for(let n=1;n<=e&&!i;n++)i=null!=t[u-n];i?t[u]=null:(s=n.getRowNumber(),c=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(null!=n){let e=n.getRowNumber();if(e>=t.length)continue;t[e]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.getCodewords(),s=-1;for(let l=i;l<o;l++){if(null==a[l])continue;let t=a[l];t.setRowNumberAsRowIndicatorColumn();let n=t.getRowNumber()-s;0===n||(1===n?s=t.getRowNumber():t.getRowNumber()>=e.getRowCount()?a[l]=null:s=t.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Zt,n=new Zt,r=new Zt,i=new Zt;for(let a of e){if(null==a)continue;a.setRowNumberAsRowIndicatorColumn();let e=a.getValue()%30,o=a.getRowNumber();switch(this._isLeft||(o+=2),o%3){case 0:n.setValue(3*e+1);break;case 1:i.setValue(e/3),r.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===n.getValue().length||0===r.getValue().length||0===i.getValue().length||t.getValue()[0]<1||n.getValue()[0]+r.getValue()[0]<Ut.MIN_ROWS_IN_BARCODE||n.getValue()[0]+r.getValue()[0]>Ut.MAX_ROWS_IN_BARCODE)return null;let o=new qt(t.getValue()[0],n.getValue()[0],r.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,o),o}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(null==e[n])continue;let i=r.getValue()%30,o=r.getRowNumber();if(o>t.getRowCount())e[n]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*i+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(i/3)===t.getErrorCorrectionLevel()&&i%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:i+1!==t.getColumnCount()&&(e[n]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Jt{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Ut.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let n=0;n<e.length;n++)null!=e[n]&&(e[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,e))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let r=this.detectionResultColumns[t].getCodewords()[n];null!=r&&(r.setRowNumber(e[n].getRowNumber()),r.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let r=t[n].getRowNumber(),i=0;for(let t=this.barcodeColumnCount+1;t>0&&i<this.ADJUST_ROW_NUMBER_SKIP;t--){let o=this.detectionResultColumns[t].getCodewords()[n];null!=o&&(i=Jt.adjustRowNumberIfValid(r,i,o),o.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let r=t[n].getRowNumber(),i=0;for(let t=1;t<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;t++){let o=this.detectionResultColumns[t].getCodewords()[n];null!=o&&(i=Jt.adjustRowNumberIfValid(r,i,o),o.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let r=n[t],i=this.detectionResultColumns[e-1].getCodewords(),o=i;null!=this.detectionResultColumns[e+1]&&(o=this.detectionResultColumns[e+1].getCodewords());let a=new Array(14);a[2]=i[t],a[3]=o[t],t>0&&(a[0]=n[t-1],a[4]=i[t-1],a[5]=o[t-1]),t>1&&(a[8]=n[t-2],a[10]=i[t-2],a[11]=o[t-2]),t<n.length-1&&(a[1]=n[t+1],a[6]=i[t+1],a[7]=o[t+1]),t<n.length-2&&(a[9]=n[t+2],a[12]=i[t+2],a[13]=o[t+2]);for(let s of a)if(Jt.adjustRowNumber(r,s))return}static adjustRowNumber(e,t){return null!=t&&!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0)}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new $t;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let r=this.detectionResultColumns[e].getCodewords()[n];null!=r?t.format(" %3d|%3d",r.getRowNumber(),r.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class en{constructor(e,t,n,r){this.rowNumber=en.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==en.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}en.BARCODE_ROW_UNKNOWN=-1;class tn{static initialize(){for(let e=0;e<Ut.SYMBOL_TABLE.length;e++){let t=Ut.SYMBOL_TABLE[e],n=1&t;for(let r=0;r<Ut.BARS_IN_MODULE;r++){let i=0;for(;(1&t)===n;)i+=1,t>>=1;n=1&t,tn.RATIOS_TABLE[e]||(tn.RATIOS_TABLE[e]=new Array(Ut.BARS_IN_MODULE)),tn.RATIOS_TABLE[e][Ut.BARS_IN_MODULE-r-1]=Math.fround(i/Ut.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=tn.getDecodedCodewordValue(tn.sampleBitCounts(e));return-1!==t?t:tn.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=oe.sum(e),n=new Int32Array(Ut.BARS_IN_MODULE),r=0,i=0;for(let o=0;o<Ut.MODULES_IN_CODEWORD;o++){let a=t/(2*Ut.MODULES_IN_CODEWORD)+o*t/Ut.MODULES_IN_CODEWORD;i+e[r]<=a&&(i+=e[r],r++),n[r]++}return n}static getDecodedCodewordValue(e){let t=tn.getBitValue(e);return-1===Ut.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=oe.sum(e),n=new Array(Ut.BARS_IN_MODULE);if(t>1)for(let o=0;o<n.length;o++)n[o]=Math.fround(e[o]/t);let r=ae.MAX_VALUE,i=-1;this.bSymbolTableReady||tn.initialize();for(let o=0;o<tn.RATIOS_TABLE.length;o++){let e=0,t=tn.RATIOS_TABLE[o];for(let i=0;i<Ut.BARS_IN_MODULE;i++){let o=Math.fround(t[i]-n[i]);if(e+=Math.fround(o*o),e>=r)break}e<r&&(r=e,i=Ut.SYMBOL_TABLE[o])}return i}}tn.bSymbolTableReady=!1,tn.RATIOS_TABLE=new Array(Ut.SYMBOL_TABLE.length).map((e=>new Array(Ut.BARS_IN_MODULE)));class nn{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class rn{static parseLong(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}class on extends c{}on.kind="NullPointerException";class an{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(null==e)throw new on;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new m;if(0!==n)for(let r=0;r<n;r++)this.write(e[t+r])}flush(){}close(){}}class sn extends c{}class ln extends an{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(super(),this.count=0,e<0)throw new d("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new sn;t=E.MAX_VALUE}this.buf=y.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new m;this.ensureCapacity(this.count+n),g.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return y.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function cn(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof n.g)return n.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let un;function dn(e){if("undefined"===typeof un&&(un=cn()),null===un)throw new Error("BigInt is not supported!");return un(e)}function hn(){let e=[];e[0]=dn(1);let t=dn(900);e[1]=t;for(let n=2;n<16;n++)e[n]=e[n-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(q||(q={}));class fn{static decode(e,t){let n=new N(""),r=A.ISO8859_1;n.enableDecoding(r);let i=1,o=e[i++],a=new nn;for(;i<e[0];){switch(o){case fn.TEXT_COMPACTION_MODE_LATCH:i=fn.textCompaction(e,i,n);break;case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:i=fn.byteCompaction(o,e,r,i,n);break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case fn.NUMERIC_COMPACTION_MODE_LATCH:i=fn.numericCompaction(e,i,n);break;case fn.ECI_CHARSET:A.getCharacterSetECIByValue(e[i++]);break;case fn.ECI_GENERAL_PURPOSE:i+=2;break;case fn.ECI_USER_DEFINED:i++;break;case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=fn.decodeMacroBlock(e,i,a);break;case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:throw new v;default:i--,i=fn.textCompaction(e,i,n)}if(!(i<e.length))throw v.getFormatInstance();o=e[i++]}if(0===n.length())throw v.getFormatInstance();let s=new Q(null,n.toString(),null,t);return s.setOther(a),s}static decodeMacroBlock(e,t,n){if(t+fn.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw v.getFormatInstance();let r=new Int32Array(fn.NUMBER_OF_SEQUENCE_CODEWORDS);for(let a=0;a<fn.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)r[a]=e[t];n.setSegmentIndex(E.parseInt(fn.decodeBase900toBase10(r,fn.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new N;t=fn.textCompaction(e,t,i),n.setFileId(i.toString());let o=-1;for(e[t]===fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let r=new N;t=fn.textCompaction(e,t+1,r),n.setFileName(r.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let i=new N;t=fn.textCompaction(e,t+1,i),n.setSender(i.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let o=new N;t=fn.textCompaction(e,t+1,o),n.setAddressee(o.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let a=new N;t=fn.numericCompaction(e,t+1,a),n.setSegmentCount(E.parseInt(a.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let s=new N;t=fn.numericCompaction(e,t+1,s),n.setTimestamp(rn.parseLong(s.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let l=new N;t=fn.numericCompaction(e,t+1,l),n.setChecksum(E.parseInt(l.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let c=new N;t=fn.numericCompaction(e,t+1,c),n.setFileSize(rn.parseLong(c.toString()));break;default:throw v.getFormatInstance()}break;case fn.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw v.getFormatInstance()}if(-1!==o){let r=t-o;n.isLastSegment()&&r--,n.setOptionalData(y.copyOfRange(e,o,o+r))}return t}static textCompaction(e,t,n){let r=new Int32Array(2*(e[0]-t)),i=new Int32Array(2*(e[0]-t)),o=0,a=!1;for(;t<e[0]&&!a;){let n=e[t++];if(n<fn.TEXT_COMPACTION_MODE_LATCH)r[o]=n/30,r[o+1]=n%30,o+=2;else switch(n){case fn.TEXT_COMPACTION_MODE_LATCH:r[o++]=fn.TEXT_COMPACTION_MODE_LATCH;break;case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:t--,a=!0;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[o]=fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,n=e[t++],i[o]=n,o++}}return fn.decodeTextCompaction(r,i,o,n),t}static decodeTextCompaction(e,t,n,r){let i=q.ALPHA,o=q.ALPHA,a=0;for(;a<n;){let n=e[a],s="";switch(i){case q.ALPHA:if(n<26)s=String.fromCharCode(65+n);else switch(n){case 26:s=" ";break;case fn.LL:i=q.LOWER;break;case fn.ML:i=q.MIXED;break;case fn.PS:o=i,i=q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=q.ALPHA}break;case q.LOWER:if(n<26)s=String.fromCharCode(97+n);else switch(n){case 26:s=" ";break;case fn.AS:o=i,i=q.ALPHA_SHIFT;break;case fn.ML:i=q.MIXED;break;case fn.PS:o=i,i=q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=q.ALPHA}break;case q.MIXED:if(n<fn.PL)s=fn.MIXED_CHARS[n];else switch(n){case fn.PL:i=q.PUNCT;break;case 26:s=" ";break;case fn.LL:i=q.LOWER;break;case fn.AL:i=q.ALPHA;break;case fn.PS:o=i,i=q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=q.ALPHA}break;case q.PUNCT:if(n<fn.PAL)s=fn.PUNCT_CHARS[n];else switch(n){case fn.PAL:i=q.ALPHA;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=q.ALPHA}break;case q.ALPHA_SHIFT:if(i=o,n<26)s=String.fromCharCode(65+n);else switch(n){case 26:s=" ";break;case fn.TEXT_COMPACTION_MODE_LATCH:i=q.ALPHA}break;case q.PUNCT_SHIFT:if(i=o,n<fn.PAL)s=fn.PUNCT_CHARS[n];else switch(n){case fn.PAL:i=q.ALPHA;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=q.ALPHA}}""!==s&&r.append(s),a++}}static byteCompaction(e,t,n,r,i){let o=new ln,a=0,s=0,l=!1;switch(e){case fn.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),n=t[r++];for(;r<t[0]&&!l;)switch(e[a++]=n,s=900*s+n,n=t[r++],n){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:r--,l=!0;break;default:if(a%5===0&&a>0){for(let e=0;e<6;++e)o.write(Number(dn(s)>>dn(8*(5-e))));s=0,a=0}}r===t[0]&&n<fn.TEXT_COMPACTION_MODE_LATCH&&(e[a++]=n);for(let t=0;t<a;t++)o.write(e[t]);break;case fn.BYTE_COMPACTION_MODE_LATCH_6:for(;r<t[0]&&!l;){let e=t[r++];if(e<fn.TEXT_COMPACTION_MODE_LATCH)a++,s=900*s+e;else switch(e){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:r--,l=!0}if(a%5===0&&a>0){for(let e=0;e<6;++e)o.write(Number(dn(s)>>dn(8*(5-e))));s=0,a=0}}}return i.append(T.decode(o.toByteArray(),n)),r}static numericCompaction(e,t,n){let r=0,i=!1,o=new Int32Array(fn.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let a=e[t++];if(t===e[0]&&(i=!0),a<fn.TEXT_COMPACTION_MODE_LATCH)o[r]=a,r++;else switch(a){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:t--,i=!0}(r%fn.MAX_NUMERIC_CODEWORDS===0||a===fn.NUMERIC_COMPACTION_MODE_LATCH||i)&&r>0&&(n.append(fn.decodeBase900toBase10(o,r)),r=0)}return t}static decodeBase900toBase10(e,t){let n=dn(0);for(let i=0;i<t;i++)n+=fn.EXP900[t-i-1]*dn(e[i]);let r=n.toString();if("1"!==r.charAt(0))throw new v;return r.substring(1)}}fn.TEXT_COMPACTION_MODE_LATCH=900,fn.BYTE_COMPACTION_MODE_LATCH=901,fn.NUMERIC_COMPACTION_MODE_LATCH=902,fn.BYTE_COMPACTION_MODE_LATCH_6=924,fn.ECI_USER_DEFINED=925,fn.ECI_GENERAL_PURPOSE=926,fn.ECI_CHARSET=927,fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fn.MACRO_PDF417_TERMINATOR=922,fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fn.MAX_NUMERIC_CODEWORDS=15,fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fn.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fn.PL=25,fn.LL=27,fn.AS=27,fn.ML=28,fn.AL=28,fn.PS=29,fn.PAL=29,fn.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",fn.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",fn.EXP900=cn()?hn():[],fn.NUMBER_OF_SEQUENCE_CODEWORDS=2;class pn{constructor(){}static decode(e,t,n,r,i,o,a){let s,l=new Xt(e,t,n,r,i),c=null,u=null;for(let f=!0;;f=!1){if(null!=t&&(c=pn.getRowIndicatorColumn(e,l,t,!0,o,a)),null!=r&&(u=pn.getRowIndicatorColumn(e,l,r,!1,o,a)),s=pn.merge(c,u),null==s)throw D.getNotFoundInstance();let n=s.getBoundingBox();if(!f||null==n||!(n.getMinY()<l.getMinY()||n.getMaxY()>l.getMaxY()))break;l=n}s.setBoundingBox(l);let d=s.getBarcodeColumnCount()+1;s.setDetectionResultColumn(0,c),s.setDetectionResultColumn(d,u);let h=null!=c;for(let f=1;f<=d;f++){let t,n=h?f:d-f;if(void 0!==s.getDetectionResultColumn(n))continue;t=0===n||n===d?new Kt(l,0===n):new Qt(l),s.setDetectionResultColumn(n,t);let r=-1,i=r;for(let c=l.getMinY();c<=l.getMaxY();c++){if(r=pn.getStartColumn(s,n,c,h),r<0||r>l.getMaxX()){if(-1===i)continue;r=i}let u=pn.detectCodeword(e,l.getMinX(),l.getMaxX(),h,r,c,o,a);null!=u&&(t.setCodeword(c,u),i=r,o=Math.min(o,u.getWidth()),a=Math.max(a,u.getWidth()))}}return pn.createDecoderResult(s)}static merge(e,t){if(null==e&&null==t)return null;let n=pn.getBarcodeMetadata(e,t);if(null==n)return null;let r=Xt.merge(pn.adjustBoundingBox(e),pn.adjustBoundingBox(t));return new Jt(n,r)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let n=pn.getMax(t),r=0;for(let a of t)if(r+=n-a,a>0)break;let i=e.getCodewords();for(let a=0;r>0&&null==i[a];a++)r--;let o=0;for(let a=t.length-1;a>=0&&(o+=n-t[a],!(t[a]>0));a--);for(let a=i.length-1;o>0&&null==i[a];a--)o--;return e.getBoundingBox().addMissingRows(r,o,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n,r;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(r=t.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,r,i,o){let a=new Kt(t,r);for(let s=0;s<2;s++){let l=0===s?1:-1,c=Math.trunc(Math.trunc(n.getX()));for(let s=Math.trunc(Math.trunc(n.getY()));s<=t.getMaxY()&&s>=t.getMinY();s+=l){let t=pn.detectCodeword(e,0,e.getWidth(),r,c,s,i,o);null!=t&&(a.setCodeword(s,t),c=r?t.getStartX():t.getEndX())}}return a}static adjustCodewordCount(e,t){let n=t[0][1],r=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-pn.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===r.length){if(i<1||i>Ut.MAX_CODEWORDS_IN_BARCODE)throw D.getNotFoundInstance();n.setValue(i)}else r[0]!==i&&n.setValue(i)}static createDecoderResult(e){let t=pn.createBarcodeMatrix(e);pn.adjustCodewordCount(e,t);let n=new Array,r=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],o=new Array;for(let s=0;s<e.getBarcodeRowCount();s++)for(let a=0;a<e.getBarcodeColumnCount();a++){let l=t[s][a+1].getValue(),c=s*e.getBarcodeColumnCount()+a;0===l.length?n.push(c):1===l.length?r[c]=l[0]:(o.push(c),i.push(l))}let a=new Array(i.length);for(let s=0;s<a.length;s++)a[s]=i[s];return pn.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),r,Ut.toIntArray(n),Ut.toIntArray(o),a)}static createDecoderResultFromAmbiguousValues(e,t,n,r,i){let o=new Int32Array(r.length),a=100;for(;a-- >0;){for(let e=0;e<o.length;e++)t[r[e]]=i[e][o[e]];try{return pn.decodeCodewords(t,e,n)}catch(s){if(!(s instanceof f))throw s}if(0===o.length)throw f.getChecksumInstance();for(let e=0;e<o.length;e++){if(o[e]<i[e].length-1){o[e]++;break}if(o[e]=0,e===o.length-1)throw f.getChecksumInstance()}}throw f.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},(()=>new Array(e.getBarcodeColumnCount()+2)));for(let r=0;r<t.length;r++)for(let e=0;e<t[r].length;e++)t[r][e]=new Zt;let n=0;for(let r of e.getDetectionResultColumns()){if(null!=r)for(let e of r.getCodewords())if(null!=e){let r=e.getRowNumber();if(r>=0){if(r>=t.length)continue;t[r][n].setValue(e.getValue())}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,r){let i=r?1:-1,o=null;if(pn.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodeword(n)),null!=o)return r?o.getEndX():o.getStartX();if(o=e.getDetectionResultColumn(t).getCodewordNearby(n),null!=o)return r?o.getStartX():o.getEndX();if(pn.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodewordNearby(n)),null!=o)return r?o.getEndX():o.getStartX();let a=0;for(;pn.isValidBarcodeColumn(e,t-i);){t-=i;for(let n of e.getDetectionResultColumn(t).getCodewords())if(null!=n)return(r?n.getEndX():n.getStartX())+i*a*(n.getEndX()-n.getStartX());a++}return r?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,r,i,o,a,s){i=pn.adjustCodewordStartColumn(e,t,n,r,i,o);let l,c=pn.getModuleBitCount(e,t,n,r,i,o);if(null==c)return null;let u=oe.sum(c);if(r)l=i+u;else{for(let e=0;e<c.length/2;e++){let t=c[e];c[e]=c[c.length-1-e],c[c.length-1-e]=t}l=i,i=l-u}if(!pn.checkCodewordSkew(u,a,s))return null;let d=tn.getDecodedValue(c),h=Ut.getCodeword(d);return-1===h?null:new en(i,l,pn.getCodewordBucketNumber(d),h)}static getModuleBitCount(e,t,n,r,i,o){let a=i,s=new Int32Array(8),l=0,c=r?1:-1,u=r;for(;(r?a<n:a>=t)&&l<s.length;)e.get(a,o)===u?(s[l]++,a+=c):(l++,u=!u);return l===s.length||a===(r?n:t)&&l===s.length-1?s:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,r,i,o){let a=i,s=r?-1:1;for(let l=0;l<2;l++){for(;(r?a>=t:a<n)&&r===e.get(a,o);){if(Math.abs(i-a)>pn.CODEWORD_SKEW_SIZE)return i;a+=s}s=-s,r=!r}return a}static checkCodewordSkew(e,t,n){return t-pn.CODEWORD_SKEW_SIZE<=e&&e<=n+pn.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(0===e.length)throw v.getFormatInstance();let r=1<<t+1,i=pn.correctErrors(e,n,r);pn.verifyCodewordCount(e,r);let o=fn.decode(e,""+t);return o.setErrorsCorrected(i),o.setErasures(n.length),o}static correctErrors(e,t,n){if(null!=t&&t.length>n/2+pn.MAX_ERRORS||n<0||n>pn.MAX_EC_CODEWORDS)throw f.getChecksumInstance();return pn.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw v.getFormatInstance();let n=e[0];if(n>e.length)throw v.getFormatInstance();if(0===n){if(!(t<e.length))throw v.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,r=t.length-1;for(;!((1&e)!==n&&(n=1&e,r--,r<0));)t[r]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return pn.getCodewordBucketNumber(pn.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new $t;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let r=0;r<e[n].length;r++){let i=e[n][r];0===i.getValue().length?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}pn.CODEWORD_SKEW_SIZE=2,pn.MAX_ERRORS=3,pn.MAX_EC_CODEWORDS=512,pn.errorCorrection=new Yt;class gn{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=gn.decode(e,t,!1);if(null==n||0===n.length||null==n[0])throw D.getNotFoundInstance();return n[0]}decodeMultiple(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return gn.decode(e,t,!0)}catch(n){if(n instanceof v||n instanceof f)throw D.getNotFoundInstance();throw n}}static decode(e,t,n){const r=new Array,i=Ht.detectMultiple(e,t,n);for(const o of i.getPoints()){const e=pn.decode(i.getBits(),o[4],o[5],o[6],o[7],gn.getMinCodewordWidth(o),gn.getMaxCodewordWidth(o)),t=new U(e.getText(),e.getRawBytes(),void 0,o,H.PDF_417);t.putMetadata($.ERROR_CORRECTION_LEVEL,e.getECLevel());const n=e.getOther();null!=n&&t.putMetadata($.PDF417_EXTRA_METADATA,n),r.push(t)}return r.map((e=>e))}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?E.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(gn.getMaxWidth(e[0],e[4]),gn.getMaxWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.max(gn.getMaxWidth(e[1],e[5]),gn.getMaxWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(gn.getMinWidth(e[0],e[4]),gn.getMinWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.min(gn.getMinWidth(e[1],e[5]),gn.getMinWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}reset(){}}class mn extends c{}mn.kind="ReaderException";class wn{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!t(e)&&!0===e.get(b.TRY_HARDER),r=t(e)?null:e.get(b.POSSIBLE_FORMATS),i=new Array;if(!t(r)){const t=r.some((e=>e===H.UPC_A||e===H.UPC_E||e===H.EAN_13||e===H.EAN_8||e===H.CODABAR||e===H.CODE_39||e===H.CODE_93||e===H.CODE_128||e===H.ITF||e===H.RSS_14||e===H.RSS_EXPANDED));t&&!n&&i.push(new lt(e,this.verbose)),r.includes(H.QR_CODE)&&i.push(new jt),r.includes(H.DATA_MATRIX)&&i.push(new Et),r.includes(H.AZTEC)&&i.push(new we),r.includes(H.PDF_417)&&i.push(new gn),t&&n&&i.push(new lt(e,this.verbose))}0===i.length&&(n||i.push(new lt(e,this.verbose)),i.push(new jt),i.push(new Et),i.push(new we),i.push(new gn),n&&i.push(new lt(e,this.verbose))),this.readers=i}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new mn("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(t){if(t instanceof mn)continue}throw new D("No MultiFormat Readers were able to detect the code.")}}class yn extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const n=new wn;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class En extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new gn,e)}}class Sn extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new jt,e)}}var Cn;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(Cn||(Cn={}));var bn=Cn;class vn{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new K(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const r=this.field;for(let i=t.length;i<=e;i++){const e=n.multiply(new K(r,Int32Array.from([1,r.exp(i-1+r.getGeneratorBase())])));t.push(e),n=e}}return t[e]}encode(e,t){if(0===t)throw new d("No error correction bytes");const n=e.length-t;if(n<=0)throw new d("No data bytes provided");const r=this.buildGenerator(t),i=new Int32Array(n);g.arraycopy(e,0,i,0,n);let o=new K(this.field,i);o=o.multiplyByMonomial(t,1);const a=o.divide(r)[1].getCoefficients(),s=t-a.length;for(let l=0;l<s;l++)e[n+l]=0;g.arraycopy(a,0,e,n+s,a.length)}}class An{constructor(){}static applyMaskPenaltyRule1(e){return An.applyMaskPenaltyRule1Internal(e,!0)+An.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let o=0;o<i-1;o++){const e=n[o];for(let i=0;i<r-1;i++){const r=e[i];r===e[i+1]&&r===n[o+1][i]&&r===n[o+1][i+1]&&t++}}return An.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o++)for(let e=0;e<r;e++){const a=n[o];e+6<r&&1===a[e]&&0===a[e+1]&&1===a[e+2]&&1===a[e+3]&&1===a[e+4]&&0===a[e+5]&&1===a[e+6]&&(An.isWhiteHorizontal(a,e-4,e)||An.isWhiteHorizontal(a,e+7,e+11))&&t++,o+6<i&&1===n[o][e]&&0===n[o+1][e]&&1===n[o+2][e]&&1===n[o+3][e]&&1===n[o+4][e]&&0===n[o+5][e]&&1===n[o+6][e]&&(An.isWhiteVertical(n,e,o-4,o)||An.isWhiteVertical(n,e,o+7,o+11))&&t++}return t*An.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let r=t;r<n;r++)if(1===e[r])return!1;return!0}static isWhiteVertical(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let i=n;i<r;i++)if(1===e[i][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let a=0;a<i;a++){const e=n[a];for(let n=0;n<r;n++)1===e[n]&&t++}const o=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-o)/o)*An.N4}static getDataMaskBit(e,t,n){let r,i;switch(e){case 0:r=n+t&1;break;case 1:r=1&n;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:i=n*t,r=(1&i)+i%3;break;case 6:i=n*t,r=(1&i)+i%3&1;break;case 7:i=n*t,r=i%3+(n+t&1)&1;break;default:throw new d("Invalid mask pattern: "+e)}return 0===r}static applyMaskPenaltyRule1Internal(e,t){let n=0;const r=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),o=e.getArray();for(let a=0;a<r;a++){let e=0,r=-1;for(let s=0;s<i;s++){const i=t?o[a][s]:o[s][a];i===r?e++:(e>=5&&(n+=An.N1+(e-5)),e=1,r=i)}e>=5&&(n+=An.N1+(e-5))}return n}}An.N1=3,An.N2=3,An.N3=40,An.N4=10;class _n{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)y.fill(t,e)}equals(e){if(!(e instanceof _n))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let n=0,r=this.height;n<r;++n){const e=this.bytes[n],r=t.bytes[n];for(let t=0,n=this.width;t<n;++t)if(e[t]!==r[t])return!1}return!0}toString(){const e=new N;for(let t=0,n=this.height;t<n;++t){const n=this.bytes[t];for(let t=0,r=this.width;t<r;++t)switch(n[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class Tn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new N;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Tn.NUM_MASK_PATTERNS}}Tn.NUM_MASK_PATTERNS=8;class In extends c{}In.kind="WriterException";class Nn{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,r,i){Nn.clearMatrix(i),Nn.embedBasicPatterns(n,i),Nn.embedTypeInfo(t,r,i),Nn.maybeEmbedVersionInfo(n,i),Nn.embedDataBits(e,r,i)}static embedBasicPatterns(e,t){Nn.embedPositionDetectionPatternsAndSeparators(t),Nn.embedDarkDotAtLeftBottomCorner(t),Nn.maybeEmbedPositionAdjustmentPatterns(e,t),Nn.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const r=new S;Nn.makeTypeInfoBits(e,t,r);for(let i=0,o=r.getSize();i<o;++i){const e=r.get(r.getSize()-1-i),t=Nn.TYPE_INFO_COORDINATES[i],o=t[0],a=t[1];if(n.setBoolean(o,a,e),i<8){const t=n.getWidth()-i-1,r=8;n.setBoolean(t,r,e)}else{const t=8,r=n.getHeight()-7+(i-8);n.setBoolean(t,r,e)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new S;Nn.makeVersionInfoBits(e,n);let r=17;for(let i=0;i<6;++i)for(let e=0;e<3;++e){const o=n.get(r);r--,t.setBoolean(i,t.getHeight()-11+e,o),t.setBoolean(t.getHeight()-11+e,i,o)}}static embedDataBits(e,t,n){let r=0,i=-1,o=n.getWidth()-1,a=n.getHeight()-1;for(;o>0;){for(6===o&&(o-=1);a>=0&&a<n.getHeight();){for(let i=0;i<2;++i){const s=o-i;if(!Nn.isEmpty(n.get(s,a)))continue;let l;r<e.getSize()?(l=e.get(r),++r):l=!1,255!==t&&An.getDataMaskBit(t,s,a)&&(l=!l),n.setBoolean(s,a,l)}a+=i}i=-i,a+=i,o-=2}if(r!==e.getSize())throw new In("Not all bits consumed: "+r+"/"+e.getSize())}static findMSBSet(e){return 32-E.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new d("0 polynomial");const n=Nn.findMSBSet(t);for(e<<=n-1;Nn.findMSBSet(e)>=n;)e^=t<<Nn.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!Tn.isValidMaskPattern(t))throw new In("Invalid mask pattern");const r=e.getBits()<<3|t;n.appendBits(r,5);const i=Nn.calculateBCHCode(r,Nn.TYPE_INFO_POLY);n.appendBits(i,10);const o=new S;if(o.appendBits(Nn.TYPE_INFO_MASK_PATTERN,15),n.xor(o),15!==n.getSize())throw new In("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=Nn.calculateBCHCode(e.getVersionNumber(),Nn.VERSION_INFO_POLY);if(t.appendBits(n,12),18!==t.getSize())throw new In("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;Nn.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),Nn.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new In;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let r=0;r<8;++r){if(!Nn.isEmpty(n.get(e+r,t)))throw new In;n.setNumber(e+r,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let r=0;r<7;++r){if(!Nn.isEmpty(n.get(e,t+r)))throw new In;n.setNumber(e,t+r,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let r=0;r<5;++r){const i=Nn.POSITION_ADJUSTMENT_PATTERN[r];for(let o=0;o<5;++o)n.setNumber(e+o,t+r,i[o])}}static embedPositionDetectionPattern(e,t,n){for(let r=0;r<7;++r){const i=Nn.POSITION_DETECTION_PATTERN[r];for(let o=0;o<7;++o)n.setNumber(e+o,t+r,i[o])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Nn.POSITION_DETECTION_PATTERN[0].length;Nn.embedPositionDetectionPattern(0,0,e),Nn.embedPositionDetectionPattern(e.getWidth()-t,0,e),Nn.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;Nn.embedHorizontalSeparationPattern(0,n-1,e),Nn.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),Nn.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const r=7;Nn.embedVerticalSeparationPattern(r,0,e),Nn.embedVerticalSeparationPattern(e.getHeight()-r-1,0,e),Nn.embedVerticalSeparationPattern(r,e.getHeight()-r,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,r=Nn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let i=0,o=r.length;i!==o;i++){const e=r[i];if(e>=0)for(let n=0;n!==o;n++){const i=r[n];i>=0&&Nn.isEmpty(t.get(i,e))&&Nn.embedPositionAdjustmentPattern(i-2,e-2,t)}}}}Nn.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Nn.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Nn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Nn.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Nn.VERSION_INFO_POLY=7973,Nn.TYPE_INFO_POLY=1335,Nn.TYPE_INFO_MASK_PATTERN=21522;class Rn{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dn{constructor(){}static calculateMaskPenalty(e){return An.applyMaskPenaltyRule1(e)+An.applyMaskPenaltyRule2(e)+An.applyMaskPenaltyRule3(e)+An.applyMaskPenaltyRule4(e)}static encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Dn.DEFAULT_BYTE_MODE_ENCODING;const i=null!==n&&void 0!==n.get(bn.CHARACTER_SET);i&&(r=n.get(bn.CHARACTER_SET).toString());const o=this.chooseMode(e,r),a=new S;if(o===Rt.BYTE&&(i||Dn.DEFAULT_BYTE_MODE_ENCODING!==r)){const e=A.getCharacterSetECIByName(r);void 0!==e&&this.appendECI(e,a)}this.appendModeInfo(o,a);const s=new S;let l;if(this.appendBytes(e,o,s,r),null!==n&&void 0!==n.get(bn.QR_VERSION)){const e=Number.parseInt(n.get(bn.QR_VERSION).toString(),10);l=_t.getVersionForNumber(e);const r=this.calculateBitsNeeded(o,a,s,l);if(!this.willFit(r,l,t))throw new In("Data too big for requested version")}else l=this.recommendVersion(t,o,a,s);const c=new S;c.appendBitArray(a);const u=o===Rt.BYTE?s.getSizeInBytes():e.length;this.appendLengthInfo(u,l,o,c),c.appendBitArray(s);const d=l.getECBlocksForLevel(t),h=l.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(h,c);const f=this.interleaveWithECBytes(c,l.getTotalCodewords(),h,d.getNumBlocks()),p=new Tn;p.setECLevel(t),p.setMode(o),p.setVersion(l);const g=l.getDimensionForVersion(),m=new _n(g,g),w=this.chooseMaskPattern(f,t,l,m);return p.setMaskPattern(w),Nn.buildMatrix(f,t,l,w,m),p.setMatrix(m),p}static recommendVersion(e,t,n,r){const i=this.calculateBitsNeeded(t,n,r,_t.getVersionForNumber(1)),o=this.chooseVersion(i,e),a=this.calculateBitsNeeded(t,n,r,o);return this.chooseVersion(a,e)}static calculateBitsNeeded(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()}static getAlphanumericCode(e){return e<Dn.ALPHANUMERIC_TABLE.length?Dn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(A.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Rt.KANJI;let n=!1,r=!1;for(let i=0,o=e.length;i<o;++i){const t=e.charAt(i);if(Dn.isDigit(t))n=!0;else{if(-1===this.getAlphanumericCode(t.charCodeAt(0)))return Rt.BYTE;r=!0}}return r?Rt.ALPHANUMERIC:n?Rt.NUMERIC:Rt.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=T.encode(e,A.SJIS)}catch(r){return!1}const n=t.length;if(n%2!==0)return!1;for(let i=0;i<n;i+=2){const e=255&t[i];if((e<129||e>159)&&(e<224||e>235))return!1}return!0}static chooseMaskPattern(e,t,n,r){let i=Number.MAX_SAFE_INTEGER,o=-1;for(let a=0;a<Tn.NUM_MASK_PATTERNS;a++){Nn.buildMatrix(e,t,n,a,r);let s=this.calculateMaskPenalty(r);s<i&&(i=s,o=a)}return o}static chooseVersion(e,t){for(let n=1;n<=40;n++){const r=_t.getVersionForNumber(n);if(Dn.willFit(e,r,t))return r}throw new In("Data too big")}static willFit(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const n=8*e;if(t.getSize()>n)throw new In("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let o=0;o<4&&t.getSize()<n;++o)t.appendBit(!1);const r=7&t.getSize();if(r>0)for(let o=r;o<8;o++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let o=0;o<i;++o)t.appendBits(0===(1&o)?236:17,8);if(t.getSize()!==n)throw new In("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,r,i,o){if(r>=n)throw new In("Block ID too large");const a=e%n,s=n-a,l=Math.floor(e/n),c=l+1,u=Math.floor(t/n),d=u+1,h=l-u,f=c-d;if(h!==f)throw new In("EC bytes mismatch");if(n!==s+a)throw new In("RS blocks mismatch");if(e!==(u+h)*s+(d+f)*a)throw new In("Total bytes mismatch");r<s?(i[0]=u,o[0]=h):(i[0]=d,o[0]=f)}static interleaveWithECBytes(e,t,n,r){if(e.getSizeInBytes()!==n)throw new In("Number of bits and data bytes does not match");let i=0,o=0,a=0;const s=new Array;for(let c=0;c<r;++c){const l=new Int32Array(1),u=new Int32Array(1);Dn.getNumDataBytesAndNumECBytesForBlockID(t,n,r,c,l,u);const d=l[0],h=new Uint8Array(d);e.toBytes(8*i,h,0,d);const f=Dn.generateECBytes(h,u[0]);s.push(new Rn(h,f)),o=Math.max(o,d),a=Math.max(a,f.length),i+=l[0]}if(n!==i)throw new In("Data bytes does not match offset");const l=new S;for(let c=0;c<o;++c)for(const e of s){const t=e.getDataBytes();c<t.length&&l.appendBits(t[c],8)}for(let c=0;c<a;++c)for(const e of s){const t=e.getErrorCorrectionBytes();c<t.length&&l.appendBits(t[c],8)}if(t!==l.getSizeInBytes())throw new In("Interleaving error: "+t+" and "+l.getSizeInBytes()+" differ.");return l}static generateECBytes(e,t){const n=e.length,r=new Int32Array(n+t);for(let o=0;o<n;o++)r[o]=255&e[o];new vn(ee.QR_CODE_FIELD_256).encode(r,t);const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=r[n+o];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,r){const i=n.getCharacterCountBits(t);if(e>=1<<i)throw new In(e+" is bigger than "+((1<<i)-1));r.appendBits(e,i)}static appendBytes(e,t,n,r){switch(t){case Rt.NUMERIC:Dn.appendNumericBytes(e,n);break;case Rt.ALPHANUMERIC:Dn.appendAlphanumericBytes(e,n);break;case Rt.BYTE:Dn.append8BitBytes(e,n,r);break;case Rt.KANJI:Dn.appendKanjiBytes(e,n);break;default:throw new In("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Dn.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const i=Dn.getDigit(e.charAt(r));if(r+2<n){const n=Dn.getDigit(e.charAt(r+1)),o=Dn.getDigit(e.charAt(r+2));t.appendBits(100*i+10*n+o,10),r+=3}else if(r+1<n){const n=Dn.getDigit(e.charAt(r+1));t.appendBits(10*i+n,7),r+=2}else t.appendBits(i,4),r++}}static appendAlphanumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const i=Dn.getAlphanumericCode(e.charCodeAt(r));if(-1===i)throw new In;if(r+1<n){const n=Dn.getAlphanumericCode(e.charCodeAt(r+1));if(-1===n)throw new In;t.appendBits(45*i+n,11),r+=2}else t.appendBits(i,6),r++}}static append8BitBytes(e,t,n){let r;try{r=T.encode(e,n)}catch(i){throw new In(i)}for(let o=0,a=r.length;o!==a;o++){const e=r[o];t.appendBits(e,8)}}static appendKanjiBytes(e,t){let n;try{n=T.encode(e,A.SJIS)}catch(i){throw new In(i)}const r=n.length;for(let o=0;o<r;o+=2){const e=(255&n[o])<<8&4294967295|255&n[o+1];let r=-1;if(e>=33088&&e<=40956?r=e-33088:e>=57408&&e<=60351&&(r=e-49472),-1===r)throw new In("Invalid byte sequence");const i=192*(r>>8)+(255&r);t.appendBits(i,13)}}static appendECI(e,t){t.appendBits(Rt.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Dn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dn.DEFAULT_BYTE_MODE_ENCODING=A.UTF8.getName();class On{write(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(0===e.length)throw new d("Found empty contents");if(t<0||n<0)throw new d("Requested dimensions are too small: "+t+"x"+n);let i=Ct.L,o=On.QUIET_ZONE_SIZE;null!==r&&(void 0!==r.get(bn.ERROR_CORRECTION)&&(i=Ct.fromString(r.get(bn.ERROR_CORRECTION).toString())),void 0!==r.get(bn.MARGIN)&&(o=Number.parseInt(r.get(bn.MARGIN).toString(),10)));const a=Dn.encode(e,i,r);return this.renderResult(a,t,n,o)}writeToDom(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"string"===typeof e&&(e=document.querySelector(e));const o=this.write(t,n,r,i);e&&e.appendChild(o)}renderResult(e,t,n,r){const i=e.getMatrix();if(null===i)throw new ne;const o=i.getWidth(),a=i.getHeight(),s=o+2*r,l=a+2*r,c=Math.max(t,s),u=Math.max(n,l),d=Math.min(Math.floor(c/s),Math.floor(u/l)),h=Math.floor((c-o*d)/2),f=Math.floor((u-a*d)/2),p=this.createSVGElement(c,u);for(let g=0,m=f;g<a;g++,m+=d)for(let e=0,t=h;e<o;e++,t+=d)if(1===i.get(e,g)){const e=this.createSvgRectElement(t,m,d,d);p.appendChild(e)}return p}createSVGElement(e,t){const n=document.createElementNS(On.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,r){const i=document.createElementNS(On.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",n.toString()),i.setAttributeNS(null,"width",r.toString()),i.setAttributeNS(null,"fill","#000000"),i}}On.QUIET_ZONE_SIZE=4,On.SVG_NS="http://www.w3.org/2000/svg";class Mn{encode(e,t,n,r,i){if(0===e.length)throw new d("Found empty contents");if(t!==H.QR_CODE)throw new d("Can only encode QR_CODE, but got "+t);if(n<0||r<0)throw new d(`Requested dimensions are too small: ${n}x${r}`);let o=Ct.L,a=Mn.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(bn.ERROR_CORRECTION)&&(o=Ct.fromString(i.get(bn.ERROR_CORRECTION).toString())),void 0!==i.get(bn.MARGIN)&&(a=Number.parseInt(i.get(bn.MARGIN).toString(),10)));const s=Dn.encode(e,o,i);return Mn.renderResult(s,n,r,a)}static renderResult(e,t,n,r){const i=e.getMatrix();if(null===i)throw new ne;const o=i.getWidth(),a=i.getHeight(),s=o+2*r,l=a+2*r,c=Math.max(t,s),u=Math.max(n,l),d=Math.min(Math.floor(c/s),Math.floor(u/l)),h=Math.floor((c-o*d)/2),f=Math.floor((u-a*d)/2),p=new R(c,u);for(let g=0,m=f;g<a;g++,m+=d)for(let e=0,t=h;e<o;e++,t+=d)1===i.get(e,g)&&p.setRegion(t,m,d,d);return p}}Mn.QUIET_ZONE_SIZE=4;class kn{encode(e,t,n,r,i){let o;if(t!==H.QR_CODE)throw new d("No encoder available for format "+t);return o=new Mn,o.encode(e,t,n,r,i)}}class xn extends k{constructor(e,t,n,r,i,o,a,s){if(super(o,a),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=r,this.top=i,r+o>t||i+a>n)throw new d("Crop rectangle does not fit within image data.");s&&this.reverseHorizontal(o,a)}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return g.arraycopy(this.yuvData,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,r=new Uint8ClampedArray(n);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return g.arraycopy(this.yuvData,i,r,0,n),r;for(let o=0;o<t;o++){const t=o*e;g.arraycopy(this.yuvData,i,r,t,e),i+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new xn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,r,!1)}renderThumbnail(){const e=this.getWidth()/xn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/xn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),r=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let o=0;o<t;o++){const t=o*e;for(let o=0;o<e;o++){const e=255&r[i+o*xn.THUMBNAIL_SCALE_FACTOR];n[t+o]=4278190080|65793*e}i+=this.dataWidth*xn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/xn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let r=0,i=this.top*this.dataWidth+this.left;r<t;r++,i+=this.dataWidth){const t=i+e/2;for(let r=i,o=i+e-1;r<t;r++,o--){const e=n[r];n[r]=n[o],n[o]=e}}}invert(){return new x(this)}}xn.THUMBNAIL_SCALE_FACTOR=2;class Pn extends k{constructor(e,t,n,r,i,o,a){if(super(t,n),this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=a,4===e.BYTES_PER_ELEMENT){const r=t*n,i=new Uint8ClampedArray(r);for(let t=0;t<r;t++){const n=e[t],r=n>>16&255,o=n>>7&510,a=255&n;i[t]=(r+o+a)/4&255}this.luminances=i}else this.luminances=e;if(void 0===r&&(this.dataWidth=t),void 0===i&&(this.dataHeight=n),void 0===o&&(this.left=0),void 0===a&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new d("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return g.arraycopy(this.luminances,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,r=new Uint8ClampedArray(n);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return g.arraycopy(this.luminances,i,r,0,n),r;for(let o=0;o<t;o++){const t=o*e;g.arraycopy(this.luminances,i,r,t,e),i+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new Pn(this.luminances,n,r,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new x(this)}}class Ln extends A{static forName(e){return this.getCharacterSetECIByName(e)}}class Bn{}Bn.ISO_8859_1=A.ISO8859_1;class Fn{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class jn{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Un{constructor(e){this.previous=e}getPrevious(){return this.previous}}class zn extends Un{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new zn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+E.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Hn extends zn{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Hn(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vn(e,t,n){return new Hn(e,t,n)}function Wn(e,t,n){return new zn(e,t,n)}const Gn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yn=0,Xn=1,qn=2,$n=3,Qn=4,Zn=new zn(null,0,0),Kn=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function Jn(e){for(let t of e)y.fill(t,-1);return e[Yn][Qn]=0,e[Xn][Qn]=0,e[Xn][Yn]=28,e[$n][Qn]=0,e[qn][Qn]=0,e[qn][Yn]=15,e}const er=Jn(y.createInt32Array(6,6));class tr{constructor(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,r=this.token;if(e!==this.mode){let t=Kn[this.mode][e];r=Wn(r,65535&t,t>>16),n+=t>>16}let i=e===qn?4:5;return r=Wn(r,t,i),new tr(r,e,0,n+i)}shiftAndAppend(e,t){let n=this.token,r=this.mode===qn?4:5;return n=Wn(n,er[this.mode][e],r),n=Wn(n,t,5),new tr(n,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,r=this.bitCount;if(this.mode===Qn||this.mode===qn){let e=Kn[n][Yn];t=Wn(t,65535&e,e>>16),r+=e>>16,n=Yn}let i=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,o=new tr(t,n,this.binaryShiftByteCount+1,r+i);return 2078===o.binaryShiftByteCount&&(o=o.endBinaryShift(e+1)),o}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Vn(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new tr(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Kn[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=tr.calculateBinaryShiftCost(e)-tr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;null!==r;r=r.getPrevious())t.unshift(r);let n=new S;for(const r of t)r.appendTo(n,e);return n}toString(){return I.format("%s bits=%d bytes=%d",Gn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function nr(e){const t=I.getCharCode(" "),n=I.getCharCode("."),r=I.getCharCode(",");e[Yn][t]=1;const i=I.getCharCode("Z"),o=I.getCharCode("A");for(let h=o;h<=i;h++)e[Yn][h]=h-o+2;e[Xn][t]=1;const a=I.getCharCode("z"),s=I.getCharCode("a");for(let h=s;h<=a;h++)e[Xn][h]=h-s+2;e[qn][t]=1;const l=I.getCharCode("9"),c=I.getCharCode("0");for(let h=c;h<=l;h++)e[qn][h]=h-c+2;e[qn][r]=12,e[qn][n]=13;const u=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let h=0;h<u.length;h++)e[$n][I.getCharCode(u[h])]=h;const d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let h=0;h<d.length;h++)I.getCharCode(d[h])>0&&(e[Qn][I.getCharCode(d[h])]=h);return e}tr.INITIAL_STATE=new tr(Zn,Yn,0,0);const rr=nr(y.createInt32Array(5,256));class ir{constructor(e){this.text=e}encode(){const e=I.getCharCode(" "),t=I.getCharCode("\n");let n=jn.singletonList(tr.INITIAL_STATE);for(let r=0;r<this.text.length;r++){let i,o=r+1<this.text.length?this.text[r+1]:0;switch(this.text[r]){case I.getCharCode("\r"):i=o===t?2:0;break;case I.getCharCode("."):i=o===e?3:0;break;case I.getCharCode(","):i=o===e?4:0;break;case I.getCharCode(":"):i=o===e?5:0;break;default:i=0}i>0?(n=ir.updateStateListForPair(n,r,i),r++):n=this.updateStateListForChar(n,r)}return jn.min(n,((e,t)=>e.getBitCount()-t.getBitCount())).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let r of e)this.updateStateForChar(r,t,n);return ir.simplifyStates(n)}updateStateForChar(e,t,n){let r=255&this.text[t],i=rr[e.getMode()][r]>0,o=null;for(let a=0;a<=Qn;a++){let s=rr[a][r];if(s>0){if(null==o&&(o=e.endBinaryShift(t)),!i||a===e.getMode()||a===qn){const e=o.latchAndAppend(a,s);n.push(e)}if(!i&&er[e.getMode()][a]>=0){const e=o.shiftAndAppend(a,s);n.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===rr[e.getMode()][r]){let r=e.addBinaryShiftChar(t);n.push(r)}}static updateStateListForPair(e,t,n){const r=[];for(let i of e)this.updateStateForPair(i,t,n,r);return this.simplifyStates(r)}static updateStateForPair(e,t,n,r){let i=e.endBinaryShift(t);if(r.push(i.latchAndAppend(Qn,n)),e.getMode()!==Qn&&r.push(i.shiftAndAppend(Qn,n)),3===n||4===n){let e=i.latchAndAppend(qn,16-n).latchAndAppend(qn,1);r.push(e)}if(e.getBinaryShiftByteCount()>0){let n=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(n)}}static simplifyStates(e){let t=[];for(const n of e){let e=!0;for(const r of t){if(r.isBetterThanOrEqualTo(n)){e=!1;break}n.isBetterThanOrEqualTo(r)&&(t=t.filter((e=>e!==r)))}e&&t.push(n)}return t}}class or{constructor(){}static encodeBytes(e){return or.encode(e,or.DEFAULT_EC_PERCENT,or.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let r,i,o,a,s,l=new ir(e).encode(),c=E.truncDivision(l.getSize()*t,100)+11,u=l.getSize()+c;if(n!==or.DEFAULT_AZTEC_LAYERS){if(r=n<0,i=Math.abs(n),i>(r?or.MAX_NB_BITS_COMPACT:or.MAX_NB_BITS))throw new d(I.format("Illegal value %s for layers",n));o=or.totalBitsInLayer(i,r),a=or.WORD_SIZE[i];let e=o-o%a;if(s=or.stuffBits(l,a),s.getSize()+c>e)throw new d("Data to large for user specified layer");if(r&&s.getSize()>64*a)throw new d("Data to large for user specified layer")}else{a=0,s=null;for(let e=0;;e++){if(e>or.MAX_NB_BITS)throw new d("Data too large for an Aztec code");if(r=e<=3,i=r?e+1:e,o=or.totalBitsInLayer(i,r),u>o)continue;null!=s&&a===or.WORD_SIZE[i]||(a=or.WORD_SIZE[i],s=or.stuffBits(l,a));let t=o-o%a;if(!(r&&s.getSize()>64*a)&&s.getSize()+c<=t)break}}let h,f=or.generateCheckWords(s,o,a),p=s.getSize()/a,g=or.generateModeMessage(r,i,p),m=(r?11:14)+4*i,w=new Int32Array(m);if(r){h=m;for(let e=0;e<w.length;e++)w[e]=e}else{h=m+1+2*E.truncDivision(E.truncDivision(m,2)-1,15);let e=E.truncDivision(m,2),t=E.truncDivision(h,2);for(let n=0;n<e;n++){let r=n+E.truncDivision(n,15);w[e-n-1]=t-r-1,w[e+n]=t+r+1}}let y=new R(h);for(let d=0,E=0;d<i;d++){let e=4*(i-d)+(r?9:12);for(let t=0;t<e;t++){let n=2*t;for(let r=0;r<2;r++)f.get(E+n+r)&&y.set(w[2*d+r],w[2*d+t]),f.get(E+2*e+n+r)&&y.set(w[2*d+t],w[m-1-2*d-r]),f.get(E+4*e+n+r)&&y.set(w[m-1-2*d-r],w[m-1-2*d-t]),f.get(E+6*e+n+r)&&y.set(w[m-1-2*d-t],w[2*d+r])}E+=8*e}if(or.drawModeMessage(y,r,h,g),r)or.drawBullsEye(y,E.truncDivision(h,2),5);else{or.drawBullsEye(y,E.truncDivision(h,2),7);for(let e=0,t=0;e<E.truncDivision(m,2)-1;e+=15,t+=16)for(let n=1&E.truncDivision(h,2);n<h;n+=2)y.set(E.truncDivision(h,2)-t,n),y.set(E.truncDivision(h,2)+t,n),y.set(n,E.truncDivision(h,2)-t),y.set(n,E.truncDivision(h,2)+t)}let S=new Fn;return S.setCompact(r),S.setSize(h),S.setLayers(i),S.setCodeWords(p),S.setMatrix(y),S}static drawBullsEye(e,t,n){for(let r=0;r<n;r+=2)for(let n=t-r;n<=t+r;n++)e.set(n,t-r),e.set(n,t+r),e.set(t-r,n),e.set(t+r,n);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let r=new S;return e?(r.appendBits(t-1,2),r.appendBits(n-1,6),r=or.generateCheckWords(r,28,4)):(r.appendBits(t-1,5),r.appendBits(n-1,11),r=or.generateCheckWords(r,40,4)),r}static drawModeMessage(e,t,n,r){let i=E.truncDivision(n,2);if(t)for(let o=0;o<7;o++){let t=i-3+o;r.get(o)&&e.set(t,i-5),r.get(o+7)&&e.set(i+5,t),r.get(20-o)&&e.set(t,i+5),r.get(27-o)&&e.set(i-5,t)}else for(let o=0;o<10;o++){let t=i-5+o+E.truncDivision(o,5);r.get(o)&&e.set(t,i-7),r.get(o+10)&&e.set(i+7,t),r.get(29-o)&&e.set(t,i+7),r.get(39-o)&&e.set(i-7,t)}}static generateCheckWords(e,t,n){let r=e.getSize()/n,i=new vn(or.getGF(n)),o=E.truncDivision(t,n),a=or.bitsToWords(e,n,o);i.encode(a,o-r);let s=t%n,l=new S;l.appendBits(0,s);for(const c of Array.from(a))l.appendBits(c,n);return l}static bitsToWords(e,t,n){let r,i,o=new Int32Array(n);for(r=0,i=e.getSize()/t;r<i;r++){let n=0;for(let i=0;i<t;i++)n|=e.get(r*t+i)?1<<t-i-1:0;o[r]=n}return o}static getGF(e){switch(e){case 4:return ee.AZTEC_PARAM;case 6:return ee.AZTEC_DATA_6;case 8:return ee.AZTEC_DATA_8;case 10:return ee.AZTEC_DATA_10;case 12:return ee.AZTEC_DATA_12;default:throw new d("Unsupported word size "+e)}}static stuffBits(e,t){let n=new S,r=e.getSize(),i=(1<<t)-2;for(let o=0;o<r;o+=t){let a=0;for(let n=0;n<t;n++)(o+n>=r||e.get(o+n))&&(a|=1<<t-1-n);(a&i)===i?(n.appendBits(a&i,t),o--):0===(a&i)?(n.appendBits(1|a,t),o--):n.appendBits(a,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}or.DEFAULT_EC_PERCENT=33,or.DEFAULT_AZTEC_LAYERS=0,or.MAX_NB_BITS=32,or.MAX_NB_BITS_COMPACT=4,or.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ar{encode(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)}encodeWithHints(e,t,n,r,i){let o=Bn.ISO_8859_1,a=or.DEFAULT_EC_PERCENT,s=or.DEFAULT_AZTEC_LAYERS;return null!=i&&(i.has(bn.CHARACTER_SET)&&(o=Ln.forName(i.get(bn.CHARACTER_SET).toString())),i.has(bn.ERROR_CORRECTION)&&(a=E.parseInt(i.get(bn.ERROR_CORRECTION).toString())),i.has(bn.AZTEC_LAYERS)&&(s=E.parseInt(i.get(bn.AZTEC_LAYERS).toString()))),ar.encodeLayers(e,t,n,r,o,a,s)}static encodeLayers(e,t,n,r,i,o,a){if(t!==H.AZTEC)throw new d("Can only encode AZTEC, but got "+t);let s=or.encode(I.getBytes(e,i),o,a);return ar.renderResult(s,n,r)}static renderResult(e,t,n){let r=e.getMatrix();if(null==r)throw new ne;let i=r.getWidth(),o=r.getHeight(),a=Math.max(t,i),s=Math.max(n,o),l=Math.min(a/i,s/o),c=(a-i*l)/2,u=(s-o*l)/2,d=new R(a,s);for(let h=0,f=u;h<o;h++,f+=l)for(let e=0,t=c;e<i;e++,t+=l)r.get(e,h)&&d.setRegion(t,f,l,l);return d}}e.AbstractExpandedDecoder=Ge,e.ArgumentException=u,e.ArithmeticException=J,e.AztecCode=Fn,e.AztecCodeReader=we,e.AztecCodeWriter=ar,e.AztecDecoder=ie,e.AztecDetector=me,e.AztecDetectorResult=ce,e.AztecEncoder=or,e.AztecHighLevelEncoder=ir,e.AztecPoint=ge,e.BarcodeFormat=H,e.Binarizer=p,e.BinaryBitmap=h,e.BitArray=S,e.BitMatrix=R,e.BitSource=gt,e.BrowserAztecCodeReader=ye,e.BrowserBarcodeReader=ct,e.BrowserCodeReader=j,e.BrowserDatamatrixCodeReader=St,e.BrowserMultiFormatReader=yn,e.BrowserPDF417Reader=En,e.BrowserQRCodeReader=Sn,e.BrowserQRCodeSvgWriter=On,e.CharacterSetECI=A,e.ChecksumException=f,e.Code128Reader=Se,e.Code39Reader=Ce,e.DataMatrixDecodedBitStreamParser=mt,e.DataMatrixReader=Et,e.DecodeHintType=b,e.DecoderResult=Q,e.DefaultGridSampler=fe,e.DetectorResult=le,e.EAN13Reader=Ne,e.EncodeHintType=bn,e.Exception=c,e.FormatException=v,e.GenericGF=ee,e.GenericGFPoly=K,e.GlobalHistogramBinarizer=O,e.GridSampler=de,e.GridSamplerInstance=pe,e.HTMLCanvasElementLuminanceSource=P,e.HybridBinarizer=M,e.ITFReader=be,e.IllegalArgumentException=d,e.IllegalStateException=ne,e.InvertedLuminanceSource=x,e.LuminanceSource=k,e.MathUtils=oe,e.MultiFormatOneDReader=lt,e.MultiFormatReader=wn,e.MultiFormatWriter=kn,e.NotFoundException=D,e.OneDReader=Ee,e.PDF417DecodedBitStreamParser=fn,e.PDF417DecoderErrorCorrection=Yt,e.PDF417Reader=gn,e.PDF417ResultMetadata=nn,e.PerspectiveTransform=he,e.PlanarYUVLuminanceSource=xn,e.QRCodeByteMatrix=_n,e.QRCodeDataMask=Tt,e.QRCodeDecodedBitStreamParser=Dt,e.QRCodeDecoderErrorCorrectionLevel=Ct,e.QRCodeDecoderFormatInformation=bt,e.QRCodeEncoder=Dn,e.QRCodeEncoderQRCode=Tn,e.QRCodeMaskUtil=An,e.QRCodeMatrixUtil=Nn,e.QRCodeMode=Rt,e.QRCodeReader=jt,e.QRCodeVersion=_t,e.QRCodeWriter=Mn,e.RGBLuminanceSource=Pn,e.RSS14Reader=st,e.RSSExpandedReader=ot,e.ReaderException=mn,e.ReedSolomonDecoder=re,e.ReedSolomonEncoder=vn,e.ReedSolomonException=te,e.Result=U,e.ResultMetadataType=$,e.ResultPoint=se,e.StringUtils=I,e.UnsupportedOperationException=_,e.VideoInputDevice=L,e.WhiteRectangleDetector=ue,e.WriterException=In,e.ZXingArrays=y,e.ZXingCharset=Ln,e.ZXingInteger=E,e.ZXingStandardCharsets=Bn,e.ZXingStringBuilder=N,e.ZXingStringEncoding=T,e.ZXingSystem=g,e.createAbstractExpandedDecoder=nt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function E(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=w.prototype;var S=E.prototype=new y;S.constructor=E,g(S,w.prototype),S.isPureReactComponent=!0;var C=Array.isArray,b={H:null,A:null,T:null,S:null},v=Object.prototype.hasOwnProperty;function A(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(){}function R(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+I(e,0):o,C(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),R(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=A(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===o?".":o+":";if(C(e))for(var g=0;g<e.length;g++)u+=R(o=e[g],t,i,s=p+I(o,g),a);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=R(o=o.value,t,i,s=p+I(o,g++),a);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function k(){}t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=w,t.Fragment=i,t.Profiler=a,t.PureComponent=E,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!v.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return A(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)v.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return A(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=b.T,n={};b.T=n;try{var r=e(),i=b.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,M)}catch(o){M(o)}finally{b.T=t}},t.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},t.use=function(e){return b.H.use(e)},t.useActionState=function(e,t,n){return b.H.useActionState(e,t,n)},t.useCallback=function(e,t){return b.H.useCallback(e,t)},t.useContext=function(e){return b.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return b.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return b.H.useEffect(e,t)},t.useId=function(){return b.H.useId()},t.useImperativeHandle=function(e,t,n){return b.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return b.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return b.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return b.H.useMemo(e,t)},t.useOptimistic=function(e,t){return b.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return b.H.useReducer(e,t,n)},t.useRef=function(e){return b.H.useRef(e)},t.useState=function(e){return b.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return b.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return b.H.useTransition()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,w="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,E="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(m=!1,S(e),!g)if(null!==r(c))g=!0,O();else{var t=r(u);null!==t&&M(C,t.startTime-e)}}var b,v=!1,A=-1,_=5,T=-1;function I(){return!(t.unstable_now()-T<_)}function N(){if(v){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,y(A),A=-1),p=!0;var o=f;try{t:{for(S(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,S(e),n=!0;break t}h===r(c)&&i(c),S(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&M(C,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?b():v=!1}}}if("function"===typeof E)b=function(){E(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,b=function(){D.postMessage(null)}}else b=function(){w(N,0)};function O(){v||(v=!0,b())}function M(e,n){A=w((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(A),A=-1):m=!0,M(C,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,O())),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".990ad1b9.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="bingo-frontend:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkbingo_frontend=self.webpackChunkbingo_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>dn,hasStandardBrowserEnv:()=>fn,hasStandardBrowserWebWorkerEnv:()=>pn,navigator:()=>hn,origin:()=>gn});var t=n(43),r=n(391),i=(n(175),"popstate");function o(){return h((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return c("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:s=!1}=r,d=o.history,h="POP",f=null,p=g();function g(){return(d.state||{idx:null}).idx}function m(){h="POP";let e=g(),t=null==e?null:e-p;p=e,f&&f({action:h,location:y.location,delta:t})}function w(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),a(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,d.replaceState({...d.state,idx:p},""));let y={get action(){return h},get location(){return e(o,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(i,m),f=e,()=>{o.removeEventListener(i,m),f=null}},createHref:e=>t(o,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=c(y.location,e,t);n&&n(r,e),p=g()+1;let i=l(r,p),a=y.createHref(r);try{d.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let r=c(y.location,e,t);n&&n(r,e),p=g();let i=l(r,p),o=y.createHref(r);d.replaceState(i,"",o),s&&f&&f({action:h,location:y.location,delta:0})},go:e=>d.go(e)};return y}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=N(("string"===typeof t?d(t):t).pathname||"/",n);if(null==i)return null;let o=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=I(i);a=_(o[s],e,r)}return a}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=k([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:A(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of m(e.path))i(e,t,n);else i(e,t)})),t}function m(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=m(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var w=/^:[\w-]+$/,y=3,E=2,S=1,C=10,b=-2,v=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(v)&&(r+=b),t&&(r+=E),n.filter((e=>!v(e))).reduce(((e,t)=>e+(w.test(t)?y:""===t?S:C)),r)}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:k([o,u.pathname]),pathnameBase:x(k([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=k([o,u.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=l[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const s=l[n];return e[r]=i&&!s?void 0:(s||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e){let t=D(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function M(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},a(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),a(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),a(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let o,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)o=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:P(r),hash:L(i)}}(r,o),u=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var k=e=>e.join("/").replace(/\/\/+/g,"/"),x=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var F=["POST","PUT","PATCH","DELETE"],j=(new Set(F),["GET",...F]);new Set(j),Symbol("ResetLoaderData");var U=t.createContext(null);U.displayName="DataRouter";var z=t.createContext(null);z.displayName="DataRouterState";var H=t.createContext({isTransitioning:!1});H.displayName="ViewTransition";var V=t.createContext(new Map);V.displayName="Fetchers";var W=t.createContext(null);W.displayName="Await";var G=t.createContext(null);G.displayName="Navigation";var Y=t.createContext(null);Y.displayName="Location";var X=t.createContext({outlet:null,matches:[],isDataRoute:!1});X.displayName="Route";var q=t.createContext(null);q.displayName="RouteError";function $(){return null!=t.useContext(Y)}function Q(){return a($(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(Y).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K(e){t.useContext(G).static||t.useLayoutEffect(e)}function J(){let{isDataRoute:e}=t.useContext(X);return e?function(){let{router:e}=le("useNavigate"),n=ue("useNavigate"),r=t.useRef(!1);K((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(r.current,Z),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...i}))}),[e,n]);return i}():function(){a($(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(U),{basename:n,navigator:r}=t.useContext(G),{matches:i}=t.useContext(X),{pathname:o}=Q(),l=JSON.stringify(O(i)),c=t.useRef(!1);K((()=>{c.current=!0}));let u=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(c.current,Z),!c.current)return;if("number"===typeof t)return void r.go(t);let a=M(t,JSON.parse(l),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:k([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[n,r,l,o,e]);return u}()}t.createContext(null);function ee(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(X),{pathname:i}=Q(),o=JSON.stringify(O(r));return t.useMemo((()=>M(e,JSON.parse(o),i,"path"===n)),[e,o,i,n])}function te(e,n,r,i){a($(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=t.useContext(G),{matches:c}=t.useContext(X),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",m=u&&u.route;{let e=m&&m.path||"";fe(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let w,y=Q();if(n){let e="string"===typeof n?d(n):n;a("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),w=e}else w=y;let E=w.pathname||"/",S=E;if("/"!==g){let e=g.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(e.length).join("/")}let C=!l&&r&&r.matches&&r.matches.length>0?r.matches:f(e,{pathname:S});s(m||null!=C,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),s(null==C||void 0!==C[C.length-1].route.element||void 0!==C[C.length-1].route.Component||void 0!==C[C.length-1].route.lazy,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=ae(C&&C.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:k([g,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:k([g,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,i);return n&&b?t.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function ne(){let e=de(),n=B(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,s)}var re=t.createElement(ne,null),ie=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(X.Provider,{value:this.props.routeContext},t.createElement(q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(U);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(X.Provider,{value:n},i)}function ae(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,o=r?.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((e,a,c)=>{let u,d=!1,h=null,f=null;r&&(u=o&&a.route.id?o[a.route.id]:void 0,h=a.route.errorElement||re,s&&(l<0&&0===c?(fe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=a.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),g=()=>{let n;return n=u?h:d?f:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(oe,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===c)?t.createElement(ie,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function se(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function le(e){let n=t.useContext(U);return a(n,se(e)),n}function ce(e){let n=t.useContext(z);return a(n,se(e)),n}function ue(e){let n=function(e){let n=t.useContext(X);return a(n,se(e)),n}(e),r=n.matches[n.matches.length-1];return a(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function de(){let e=t.useContext(q),n=ce("useRouteError"),r=ue("useRouteError");return void 0!==e?e:n.errors?.[r]}var he={};function fe(e,t,n){t||he[e]||(he[e]=!0,s(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return te(t,void 0,r,n)}));function pe(e){let{to:n,replace:r,state:i,relative:o}=e;a($(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=t.useContext(G);s(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=t.useContext(X),{pathname:u}=Q(),d=J(),h=M(n,O(c),u,"path"===o),f=JSON.stringify(h);return t.useEffect((()=>{d(JSON.parse(f),{replace:r,state:i,relative:o})}),[d,f,o,r,i]),null}function ge(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function me(e){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:l,static:c=!1}=e;a(!$(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:l,static:c,future:{}})),[u,l,c]);"string"===typeof i&&(i=d(i));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:w="default"}=i,y=t.useMemo((()=>{let e=N(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:w},navigationType:o}}),[u,f,p,g,m,w,o]);return s(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:t.createElement(G.Provider,{value:h},t.createElement(Y.Provider,{children:r,value:y}))}function we(e){let{children:t,location:n}=e;return te(ye(t),n)}t.Component;function ye(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ye(e.props.children,o));a(e.type===ge,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ye(e.props.children,o)),r.push(s)})),r}var Ee="get",Se="application/x-www-form-urlencoded";function Ce(e){return null!=e&&"string"===typeof e.tagName}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var ve=null;var Ae=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _e(e){return null==e||Ae.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Se}"`),null)}function Te(e,t){let n,r,i,o,a;if(Ce(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?N(a,t):null,n=e.getAttribute("method")||Ee,i=_e(e.getAttribute("enctype"))||Se,o=new FormData(e)}else if(function(e){return Ce(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ce(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?N(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ee,i=_e(e.getAttribute("formenctype"))||_e(a.getAttribute("enctype"))||Se,o=new FormData(a,e),!function(){if(null===ve)try{new FormData(document.createElement("form"),0),ve=!1}catch(e){ve=!0}return ve}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(Ce(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ee,r=null,i=Se,a=e}var s;return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function Ie(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ne(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Re(e){return null!=e&&"string"===typeof e.page}function De(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Oe(e,t,n,r,i,o){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===o?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===o?t.filter(((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Me(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function ke(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Re(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function xe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Pe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===N(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}t.Component;function Le(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,o=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(B(n))return t.createElement(Be,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Be,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function Be(e){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:o}=e,{routeModules:a}=He();return a.root?.Layout&&!i?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?t.createElement($e,null):null)))}function Fe(e){return!0===e}function je(){let e=t.useContext(U);return Ie(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ue(){let e=t.useContext(z);return Ie(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ze=t.createContext(void 0);function He(){let e=t.useContext(ze);return Ie(e,"You must render this element inside a <HydratedRouter> element"),e}function Ve(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function We(e,t,n){if(n&&!qe)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Ge(e){let{page:n,...r}=e,{router:i}=je(),o=t.useMemo((()=>f(i.routes,n,i.basename)),[i.routes,n,i.basename]);return o?t.createElement(Xe,{page:n,matches:o,...r}):null}function Ye(e){let{manifest:n,routeModules:r}=He(),[i,o]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return ke((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ne(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(De).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,n,r).then((e=>{t||o(e)})),()=>{t=!0}}),[e,n,r]),i}function Xe(e){let{page:n,matches:r,...i}=e,o=Q(),{manifest:a,routeModules:s}=He(),{basename:l}=je(),{loaderData:c,matches:u}=Ue(),d=t.useMemo((()=>Oe(n,r,u,a,o,"data")),[n,r,u,a,o]),h=t.useMemo((()=>Oe(n,r,u,a,o,"assets")),[n,r,u,a,o]),f=t.useMemo((()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!d.some((e=>e.route.id===n.route.id))&&n.route.id in c&&s[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Pe(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,o,a,d,r,n,s]),p=t.useMemo((()=>Me(h,a)),[h,a]),g=Ye(h);return t.createElement(t.Fragment,null,f.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),p.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),g.map((e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})})))}ze.displayName="FrameworkContext";var qe=!1;function $e(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:o,renderMeta:a}=He(),{router:s,static:l,staticContext:c}=je(),{matches:u}=Ue(),d=Fe(o);a&&(a.didRenderScripts=!0);let h=We(u,null,i);t.useEffect((()=>{0}),[]);let p=t.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(n.url)}`};\n${h.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Ie(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:o,clientLoaderModule:a,hydrateFallbackModule:s,module:l}=i,c=[...o?[{module:o,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=f(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let o=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:o}}(n,s),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:xe(i),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:xe(o),type:"module",async:!0}))}),[]),g=qe?[]:n.entry.imports.concat(Me(h,n,{includeHydrateFallback:!0}));return qe?null:t.createElement(t.Fragment,null,d?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin}),[...new Set(m)].map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin}))),p);var m}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ze&&(window.__reactRouterVersion="7.3.0")}catch(_o){}function Ke(e){let{basename:n,children:r,window:i}=e,a=t.useRef();null==a.current&&(a.current=o({window:i,v5Compat:!0}));let s=a.current,[l,c]=t.useState({action:s.action,location:s.location}),u=t.useCallback((e=>{t.startTransition((()=>c(e)))}),[c]);return t.useLayoutEffect((()=>s.listen(u)),[s,u]),t.createElement(me,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=t.forwardRef((function(e,n){let r,{onClick:i,discover:o="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:g,preventScrollReset:m,viewTransition:w,...y}=e,{basename:E}=t.useContext(G),S="string"===typeof g&&Je.test(g),C=!1;if("string"===typeof g&&S&&(r=g,Ze))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=N(t.pathname,E);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:C=!0}catch(_o){s(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a($(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(G),{hash:o,pathname:s,search:l}=ee(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:k([r,s])),i.createHref({pathname:c,search:l,hash:o})}(g,{relative:c}),[v,A,_]=function(e,n){let r=t.useContext(ze),[i,o]=t.useState(!1),[a,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{o(!0)},g=()=>{o(!1),s(!1)};return r?"intent"!==e?[a,f,{}]:[a,f,{onFocus:Ve(l,p),onBlur:Ve(c,g),onMouseEnter:Ve(u,p),onMouseLeave:Ve(d,g),onTouchStart:Ve(h,p)}]:[!1,f,{}]}(l,y),T=function(e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=J(),c=Q(),d=ee(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(e,{replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s})}}),[c,l,d,r,i,n,e,o,a,s])}(g,{replace:h,state:f,target:p,preventScrollReset:m,relative:c,viewTransition:w});let I=t.createElement("a",{...y,..._,href:r||b,onClick:C||d?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:Qe(n,A),target:p,"data-discover":S||"render"!==o?void 0:"true"});return v&&!S?t.createElement(t.Fragment,null,I,t.createElement(Ge,{page:b})):I}));et.displayName="Link",t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=ee(c,{relative:h.relative}),p=Q(),g=t.useContext(z),{navigator:m,basename:w}=t.useContext(G),y=null!=g&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(H);a(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rt("useViewTransitionState"),o=ee(e,{relative:n.relative});if(!r.isTransitioning)return!1;let s=N(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=N(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=T(o.pathname,l)||null!=T(o.pathname,s)}(f)&&!0===u,E=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,S=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(S=S.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&w&&(C=N(C,w)||C);const b="/"!==E&&E.endsWith("/")?E.length-1:E.length;let v,A=S===E||!s&&S.startsWith(E)&&"/"===S.charAt(b),_=null!=C&&(C===E||!s&&C.startsWith(E)&&"/"===C.charAt(E.length)),I={isActive:A,isPending:_,isTransitioning:y},R=A?r:void 0;v="function"===typeof o?o(I):[o,A?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof l?l(I):l;return t.createElement(et,{...h,"aria-current":R,className:v,ref:n,style:D,to:c,viewTransition:u},"function"===typeof d?d(I):d)})).displayName="NavLink";var tt=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:o,reloadDocument:s,replace:l,state:c,method:d=Ee,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m,...w}=e,y=st(),E=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(G),i=t.useContext(X);a(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s={...ee(e||".",{relative:n})},l=Q();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:k([r,s.pathname]));return u(s)}(h,{relative:p}),S="get"===d.toLowerCase()?"get":"post",C="string"===typeof h&&Je.test(h);return t.createElement("form",{ref:n,method:S,action:E,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:m})},...w,"data-discover":C||"render"!==r?void 0:"true"})}));function nt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rt(e){let n=t.useContext(U);return a(n,nt(e)),n}function it(e){s("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=t.useRef(be(e)),r=t.useRef(!1),i=Q(),o=t.useMemo((()=>function(e,t){let n=be(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(i.search,r.current?null:n.current)),[i.search]),a=J(),l=t.useCallback(((e,t)=>{const n=be("function"===typeof e?e(o):e);r.current=!0,a("?"+n,t)}),[a,o]);return[o,l]}tt.displayName="Form";var ot=0,at=()=>`__${String(++ot)}__`;function st(){let{router:e}=rt("useSubmit"),{basename:n}=t.useContext(G),r=ue("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:s,formData:l,body:c}=Te(t,n);if(!1===i.navigate){let t=i.fetcherKey||at();await e.fetch(t,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}new TextEncoder;function lt(e,t){return function(){return e.apply(t,arguments)}}const{toString:ct}=Object.prototype,{getPrototypeOf:ut}=Object,dt=(ht=Object.create(null),e=>{const t=ct.call(e);return ht[t]||(ht[t]=t.slice(8,-1).toLowerCase())});var ht;const ft=e=>(e=e.toLowerCase(),t=>dt(t)===e),pt=e=>t=>typeof t===e,{isArray:gt}=Array,mt=pt("undefined");const wt=ft("ArrayBuffer");const yt=pt("string"),Et=pt("function"),St=pt("number"),Ct=e=>null!==e&&"object"===typeof e,bt=e=>{if("object"!==dt(e))return!1;const t=ut(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vt=ft("Date"),At=ft("File"),_t=ft("Blob"),Tt=ft("FileList"),It=ft("URLSearchParams"),[Nt,Rt,Dt,Ot]=["ReadableStream","Request","Response","Headers"].map(ft);function Mt(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),gt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function kt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const xt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Pt=e=>!mt(e)&&e!==xt;const Lt=(Bt="undefined"!==typeof Uint8Array&&ut(Uint8Array),e=>Bt&&e instanceof Bt);var Bt;const Ft=ft("HTMLFormElement"),jt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ut=ft("RegExp"),zt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Mt(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)};const Ht=ft("AsyncFunction"),Vt=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],xt.addEventListener("message",(e=>{let{source:t,data:i}=e;t===xt&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),xt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Et(xt.postMessage)),Wt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(xt):"undefined"!==typeof process&&process.nextTick||Vt,Gt={isArray:gt,isArrayBuffer:wt,isBuffer:function(e){return null!==e&&!mt(e)&&null!==e.constructor&&!mt(e.constructor)&&Et(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Et(e.append)&&("formdata"===(t=dt(e))||"object"===t&&Et(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&wt(e.buffer),t},isString:yt,isNumber:St,isBoolean:e=>!0===e||!1===e,isObject:Ct,isPlainObject:bt,isReadableStream:Nt,isRequest:Rt,isResponse:Dt,isHeaders:Ot,isUndefined:mt,isDate:vt,isFile:At,isBlob:_t,isRegExp:Ut,isFunction:Et,isStream:e=>Ct(e)&&Et(e.pipe),isURLSearchParams:It,isTypedArray:Lt,isFileList:Tt,forEach:Mt,merge:function e(){const{caseless:t}=Pt(this)&&this||{},n={},r=(r,i)=>{const o=t&&kt(n,i)||i;bt(n[o])&&bt(r)?n[o]=e(n[o],r):bt(r)?n[o]=e({},r):gt(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Mt(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Mt(t,((t,r)=>{n&&Et(t)?e[r]=lt(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&ut(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:dt,kindOfTest:ft,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(gt(e))return e;let t=e.length;if(!St(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ft,hasOwnProperty:jt,hasOwnProp:jt,reduceDescriptors:zt,freezeMethods:e=>{zt(e,((t,n)=>{if(Et(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Et(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return gt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:kt,global:xt,isContextDefined:Pt,isSpecCompliantForm:function(e){return!!(e&&Et(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ct(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=gt(e)?[]:{};return Mt(e,((e,t)=>{const o=n(e,r+1);!mt(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Ht,isThenable:e=>e&&(Ct(e)||Et(e))&&Et(e.then)&&Et(e.catch),setImmediate:Vt,asap:Wt};function Yt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Gt.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Gt.toJSONObject(this.config),code:this.code,status:this.status}}});const Xt=Yt.prototype,qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{qt[e]={value:e}})),Object.defineProperties(Yt,qt),Object.defineProperty(Xt,"isAxiosError",{value:!0}),Yt.from=(e,t,n,r,i,o)=>{const a=Object.create(Xt);return Gt.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Yt.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const $t=Yt;function Qt(e){return Gt.isPlainObject(e)||Gt.isArray(e)}function Zt(e){return Gt.endsWith(e,"[]")?e.slice(0,-2):e}function Kt(e,t,n){return e?e.concat(t).map((function(e,t){return e=Zt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Jt=Gt.toFlatObject(Gt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const en=function(e,t,n){if(!Gt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Gt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Gt.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Gt.isSpecCompliantForm(t);if(!Gt.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Gt.isDate(e))return e.toISOString();if(!s&&Gt.isBlob(e))throw new $t("Blob is not supported. Use a Buffer instead.");return Gt.isArrayBuffer(e)||Gt.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(Gt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Gt.isArray(e)&&function(e){return Gt.isArray(e)&&!e.some(Qt)}(e)||(Gt.isFileList(e)||Gt.endsWith(n,"[]"))&&(s=Gt.toArray(e)))return n=Zt(n),s.forEach((function(e,r){!Gt.isUndefined(e)&&null!==e&&t.append(!0===a?Kt([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!Qt(e)||(t.append(Kt(i,n,o),l(e)),!1)}const u=[],d=Object.assign(Jt,{defaultVisitor:c,convertValue:l,isVisitable:Qt});if(!Gt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Gt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Gt.forEach(n,(function(n,o){!0===(!(Gt.isUndefined(n)||null===n)&&i.call(t,n,Gt.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function tn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function nn(e,t){this._pairs=[],e&&en(e,this,t)}const rn=nn.prototype;rn.append=function(e,t){this._pairs.push([e,t])},rn.toString=function(e){const t=e?function(t){return e.call(this,t,tn)}:tn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const on=nn;function an(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sn(e,t,n){if(!t)return e;const r=n&&n.encode||an;Gt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):Gt.isURLSearchParams(t)?t.toString():new on(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const ln=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Gt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},cn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},un={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:on,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},dn="undefined"!==typeof window&&"undefined"!==typeof document,hn="object"===typeof navigator&&navigator||void 0,fn=dn&&(!hn||["ReactNative","NativeScript","NS"].indexOf(hn.product)<0),pn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,gn=dn&&window.location.href||"http://localhost",mn={...e,...un};const wn=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&Gt.isArray(r)?r.length:o,s)return Gt.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&Gt.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&Gt.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(Gt.isFormData(e)&&Gt.isFunction(e.entries)){const n={};return Gt.forEachEntry(e,((e,r)=>{t(function(e){return Gt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const yn={transitional:cn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Gt.isObject(e);i&&Gt.isHTMLForm(e)&&(e=new FormData(e));if(Gt.isFormData(e))return r?JSON.stringify(wn(e)):e;if(Gt.isArrayBuffer(e)||Gt.isBuffer(e)||Gt.isStream(e)||Gt.isFile(e)||Gt.isBlob(e)||Gt.isReadableStream(e))return e;if(Gt.isArrayBufferView(e))return e.buffer;if(Gt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return en(e,new mn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return mn.isNode&&Gt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Gt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return en(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Gt.isString(e))try{return(t||JSON.parse)(e),Gt.trim(e)}catch(_o){if("SyntaxError"!==_o.name)throw _o}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||yn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Gt.isResponse(e)||Gt.isReadableStream(e))return e;if(e&&Gt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(_o){if(n){if("SyntaxError"===_o.name)throw $t.from(_o,$t.ERR_BAD_RESPONSE,this,null,this.response);throw _o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mn.classes.FormData,Blob:mn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Gt.forEach(["delete","get","head","post","put","patch"],(e=>{yn.headers[e]={}}));const En=yn,Sn=Gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cn=Symbol("internals");function bn(e){return e&&String(e).trim().toLowerCase()}function vn(e){return!1===e||null==e?e:Gt.isArray(e)?e.map(vn):String(e)}function An(e,t,n,r,i){return Gt.isFunction(r)?r.call(this,t,n):(i&&(t=n),Gt.isString(t)?Gt.isString(r)?-1!==t.indexOf(r):Gt.isRegExp(r)?r.test(t):void 0:void 0)}class _n{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=bn(t);if(!i)throw new Error("header name must be a non-empty string");const o=Gt.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=vn(e))}const o=(e,t)=>Gt.forEach(e,((e,n)=>i(e,n,t)));if(Gt.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Gt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Sn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Gt.isHeaders(e))for(const[a,s]of e.entries())i(s,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=bn(e)){const n=Gt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Gt.isFunction(t))return t.call(this,e,n);if(Gt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=bn(e)){const n=Gt.findKey(this,e);return!(!n||void 0===this[n]||t&&!An(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=bn(e)){const i=Gt.findKey(n,e);!i||t&&!An(0,n[i],i,t)||(delete n[i],r=!0)}}return Gt.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!An(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Gt.forEach(this,((r,i)=>{const o=Gt.findKey(n,i);if(o)return t[o]=vn(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=vn(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Gt.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Gt.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Cn]=this[Cn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=bn(e);t[r]||(!function(e,t){const n=Gt.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Gt.isArray(e)?e.forEach(r):r(e),this}}_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Gt.reduceDescriptors(_n.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Gt.freezeMethods(_n);const Tn=_n;function In(e,t){const n=this||En,r=t||n,i=Tn.from(r.headers);let o=r.data;return Gt.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Nn(e){return!(!e||!e.__CANCEL__)}function Rn(e,t,n){$t.call(this,null==e?"canceled":e,$t.ERR_CANCELED,t,n),this.name="CanceledError"}Gt.inherits(Rn,$t,{__CANCEL__:!0});const Dn=Rn;function On(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new $t("Request failed with status code "+n.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Mn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const kn=function(e,t){let n,r,i=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=o?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),o-t)))},()=>n&&a(n)]},xn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Mn(50,250);return kn((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,l=i(s);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Pn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ln=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gt.asap((()=>e(...n)))},Bn=mn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,mn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(mn.origin),mn.navigator&&/(msie|trident)/i.test(mn.navigator.userAgent)):()=>!0,Fn=mn.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];Gt.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Gt.isString(r)&&a.push("path="+r),Gt.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function jn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&r||0==n?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Un=e=>e instanceof Tn?{...e}:e;function zn(e,t){t=t||{};const n={};function r(e,t,n,r){return Gt.isPlainObject(e)&&Gt.isPlainObject(t)?Gt.merge.call({caseless:r},e,t):Gt.isPlainObject(t)?Gt.merge({},t):Gt.isArray(t)?t.slice():t}function i(e,t,n,i){return Gt.isUndefined(t)?Gt.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!Gt.isUndefined(t))return r(void 0,t)}function a(e,t){return Gt.isUndefined(t)?Gt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>i(Un(e),Un(t),0,!0)};return Gt.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);Gt.isUndefined(a)&&o!==s||(n[r]=a)})),n}const Hn=e=>{const t=zn({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Tn.from(s),t.url=sn(jn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Gt.isFormData(r))if(mn.hasStandardBrowserEnv||mn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(mn.hasStandardBrowserEnv&&(i&&Gt.isFunction(i)&&(i=i(t)),i||!1!==i&&Bn(t.url))){const e=o&&a&&Fn.read(a);e&&s.set(o,e)}return t},Vn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Hn(e);let i=r.data;const o=Tn.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=Tn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());On((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new $t("Request aborted",$t.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new $t("Network Error",$t.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||cn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new $t(t,i.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,e,g)),g=null},void 0===i&&o.setContentType(null),"setRequestHeader"in g&&Gt.forEach(o.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Gt.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),f&&([l,u]=xn(f,!0),g.addEventListener("progress",l)),h&&g.upload&&([s,c]=xn(h),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{g&&(n(!t||t.type?new Dn(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const w=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);w&&-1===mn.protocols.indexOf(w)?n(new $t("Unsupported protocol "+w+":",$t.ERR_BAD_REQUEST,e)):g.send(i||null)}))},Wn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof $t?t:new Dn(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new $t(`timeout ${t} of ms exceeded`,$t.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>Gt.asap(a),s}},Gn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Yn=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Xn=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of Yn(e))yield*Gn(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},qn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,$n=qn&&"function"===typeof ReadableStream,Qn=qn&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Zn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(_o){return!1}},Kn=$n&&Zn((()=>{let e=!1;const t=new Request(mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Jn=$n&&Zn((()=>Gt.isReadableStream(new Response("").body))),er={stream:Jn&&(e=>e.body)};var tr;qn&&(tr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!er[e]&&(er[e]=Gt.isFunction(tr[e])?t=>t[e]():(t,n)=>{throw new $t(`Response type '${e}' is not supported`,$t.ERR_NOT_SUPPORT,n)})})));const nr=async(e,t)=>{const n=Gt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Gt.isBlob(e))return e.size;if(Gt.isSpecCompliantForm(e)){const t=new Request(mn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Gt.isArrayBufferView(e)||Gt.isArrayBuffer(e)?e.byteLength:(Gt.isURLSearchParams(e)&&(e+=""),Gt.isString(e)?(await Qn(e)).byteLength:void 0)})(t):n},rr=qn&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Hn(e);c=c?(c+"").toLowerCase():"text";let f,p=Wn([i,o&&o.toAbortSignal()],a);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let m;try{if(l&&Kn&&"get"!==n&&"head"!==n&&0!==(m=await nr(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Gt.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Pn(m,xn(Ln(l)));r=Xn(n.body,65536,e,t)}}Gt.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0});let o=await fetch(f);const a=Jn&&("stream"===c||"response"===c);if(Jn&&(s||a&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=Gt.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&Pn(t,xn(Ln(s),!0))||[];o=new Response(Xn(o.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let w=await er[Gt.findKey(er,c)||"text"](o,e);return!a&&g&&g(),await new Promise(((t,n)=>{On(t,n,{data:w,headers:Tn.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(w){if(g&&g(),w&&"TypeError"===w.name&&/fetch/i.test(w.message))throw Object.assign(new $t("Network Error",$t.ERR_NETWORK,e,f),{cause:w.cause||w});throw $t.from(w,w&&w.code,e,f)}}),ir={http:null,xhr:Vn,fetch:rr};Gt.forEach(ir,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(_o){}Object.defineProperty(e,"adapterName",{value:t})}}));const or=e=>`- ${e}`,ar=e=>Gt.isFunction(e)||null===e||!1===e,sr=e=>{e=Gt.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!ar(n)&&(r=ir[(t=String(n)).toLowerCase()],void 0===r))throw new $t(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(or).join("\n"):" "+or(e[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function lr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dn(null,e)}function cr(e){lr(e),e.headers=Tn.from(e.headers),e.data=In.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return sr(e.adapter||En.adapter)(e).then((function(t){return lr(e),t.data=In.call(e,e.transformResponse,t),t.headers=Tn.from(t.headers),t}),(function(t){return Nn(t)||(lr(e),t&&t.response&&(t.response.data=In.call(e,e.transformResponse,t.response),t.response.headers=Tn.from(t.response.headers))),Promise.reject(t)}))}const ur="1.8.3",dr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{dr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const hr={};dr.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new $t(r(i," has been removed"+(t?" in "+t:"")),$t.ERR_DEPRECATED);return t&&!hr[i]&&(hr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},dr.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const fr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new $t("option "+o+" must be "+n,$t.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new $t("Unknown option "+o,$t.ERR_BAD_OPTION)}},validators:dr},pr=fr.validators;class gr{constructor(e){this.defaults=e,this.interceptors={request:new ln,response:new ln}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(_o){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=zn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&fr.assertOptions(n,{silentJSONParsing:pr.transitional(pr.boolean),forcedJSONParsing:pr.transitional(pr.boolean),clarifyTimeoutError:pr.transitional(pr.boolean)},!1),null!=r&&(Gt.isFunction(r)?t.paramsSerializer={serialize:r}:fr.assertOptions(r,{encode:pr.function,serialize:pr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),fr.assertOptions(t,{baseUrl:pr.spelling("baseURL"),withXsrfToken:pr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Gt.merge(i.common,i[t.method]);i&&Gt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Tn.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[cr.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=cr.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return sn(jn((e=zn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Gt.forEach(["delete","get","head","options"],(function(e){gr.prototype[e]=function(t,n){return this.request(zn(n||{},{method:e,url:t,data:(n||{}).data}))}})),Gt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(zn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}gr.prototype[e]=t(),gr.prototype[e+"Form"]=t(!0)}));const mr=gr;class wr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Dn(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new wr((function(t){e=t})),cancel:e}}}const yr=wr;const Er={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Er).forEach((e=>{let[t,n]=e;Er[n]=t}));const Sr=Er;const Cr=function e(t){const n=new mr(t),r=lt(mr.prototype.request,n);return Gt.extend(r,mr.prototype,n,{allOwnKeys:!0}),Gt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(zn(t,n))},r}(En);Cr.Axios=mr,Cr.CanceledError=Dn,Cr.CancelToken=yr,Cr.isCancel=Nn,Cr.VERSION=ur,Cr.toFormData=en,Cr.AxiosError=$t,Cr.Cancel=Cr.CanceledError,Cr.all=function(e){return Promise.all(e)},Cr.spread=function(e){return function(t){return e.apply(null,t)}},Cr.isAxiosError=function(e){return Gt.isObject(e)&&!0===e.isAxiosError},Cr.mergeConfig=zn,Cr.AxiosHeaders=Tn,Cr.formToJSON=e=>wn(Gt.isHTMLForm(e)?new FormData(e):e),Cr.getAdapter=sr,Cr.HttpStatusCode=Sr,Cr.default=Cr;const br=Cr;var vr=n(579);const Ar={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",_r=()=>{const[e,n]=(0,t.useState)([]),r=J();return(0,t.useEffect)((()=>{(async()=>{try{const e=await br.get(`${Ar}/tasks/`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});n(e.data)}catch(e){console.error("Error fetching tasks:",e)}})()}),[]),(0,vr.jsxs)("div",{className:"home-container",children:[(0,vr.jsx)("h1",{children:"Welcome to the Bingo Challenge!"}),(0,vr.jsx)("p",{children:"Compete and track your progress on the leaderboards."}),(0,vr.jsxs)("div",{className:"leaderboard-buttons",children:[(0,vr.jsx)("button",{onClick:()=>r("/leaderboard?type=lifetime"),className:"leaderboard-btn lifetime-btn",children:"\ud83c\udfc6 Lifetime Leaderboard"}),(0,vr.jsx)("button",{onClick:()=>r("/leaderboard?type=monthly"),className:"leaderboard-btn monthly-btn",children:"\ud83d\udcc5 Monthly Leaderboard"})]}),(0,vr.jsxs)("div",{className:"buttons",children:[(0,vr.jsx)("button",{onClick:()=>r("/login"),children:"Login"}),(0,vr.jsx)("button",{onClick:()=>r("/overview"),children:"Game Guide"})]})]})},Tr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",Ir="/media/profile_pics/default.png",Nr=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[g,m]=(0,t.useState)(!1),w=J();(0,t.useEffect)((()=>{(async()=>{try{const e=await br.get(`${Tr}/api/profile/`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});console.log("User profile data:",e.data),n(e.data),u(e.data),e.data.badges&&(console.log("Badges from profile:",e.data.badges),a(e.data.badges))}catch(e){console.error("Error fetching user data:",e)}})(),(async()=>{try{const e=(await br.get(`${Tr}/api/tasks/`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})).data.filter((e=>"completed"===e.status||"approved"===e.status||!0===e.completed));i(e)}catch(e){console.error("Error fetching completed tasks:",e)}})()}),[]);const y=e=>{u({...c,[e.target.name]:e.target.value})},E=e=>{switch(console.log("Badge type:",e),e){case"O":return"\u267b\ufe0f";case"X":return"\ud83d\udc9a";case"H":return"\ud83c\udf08";case"V":return"\ud83c\udf31";default:return"\ud83c\udfc6"}},S=e=>{switch(e){case"O":return"Ozone defender";case"X":return"Xtra Green";case"H":return"Healthy Hero";case"V":return"Green Champion";default:return"Achievement Badge"}};return(0,vr.jsxs)("div",{className:"profile-container",children:[(0,vr.jsx)("h1",{className:"profile-title",children:"Player Profile"}),(0,vr.jsxs)("div",{className:"profile-header",children:[(0,vr.jsx)("img",{src:(()=>{if(s&&f)return f;if(null!==e&&void 0!==e&&e.profile_picture){let t=e.profile_picture;return t.startsWith("http")||t.startsWith("/")||(t=`/${t}`),t.startsWith("http")?t:`${Tr}${t}`}const t=localStorage.getItem("profilePicture");return t?t.startsWith("http")||t.startsWith("/")?t.startsWith("http")?t:`${Tr}${t}`:`${Tr}/${t}`:`${Tr}${Ir}`})(),alt:"Profile",className:"profile-image",onError:e=>{console.error("Image load error, falling back to alternative path");const t=e.target.dataset.userData||"";if(t&&t.profile_picture){if(t.profile_picture.includes("profile_pics")&&!t.profile_picture.includes("/media/"))return void(e.target.src=`${Tr}/media/${t.profile_picture}`);if(!t.profile_picture.includes("ECM2434_v2/media/"))return void(e.target.src=`${Tr}/ECM2434_v2/media/${t.profile_picture.split("/").pop()}`)}e.target.src=`${Tr}${Ir}`,e.target.onerror=()=>{e.target.src="https://via.placeholder.com/150",e.target.onerror=null}},"data-userData":JSON.stringify(e)}),s?(0,vr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData;d&&t.append("profile_picture",d),Object.keys(c).forEach((e=>{t.append(e,c[e])}));try{const e=await br.put(`${Tr}/api/profile/update/`,t,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"multipart/form-data"}});console.log("Profile update response:",e.data),e.data.profile_picture&&console.log("Updated profile picture path:",e.data.profile_picture),alert("Profile updated successfully"),l(!1),n(e.data),f&&(URL.revokeObjectURL(f),p(null)),h(null),e.data.profile_picture&&localStorage.setItem("profilePicture",e.data.profile_picture)}catch(r){console.error("Error updating profile:",r),alert("Failed to update profile")}},className:"edit-profile-form",children:[(0,vr.jsx)("input",{type:"text",name:"username",value:c.username,onChange:y,placeholder:"Enter your username"}),(0,vr.jsx)("input",{type:"email",name:"email",value:c.email,onChange:y,placeholder:"Email"}),(0,vr.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){h(t);const e=URL.createObjectURL(t);p(e)}}}),(0,vr.jsx)("button",{type:"submit",children:"Save Changes"}),(0,vr.jsx)("button",{type:"button",onClick:()=>l(!1),children:"Cancel"})]}):(0,vr.jsxs)("div",{className:"profile-details",children:[(0,vr.jsx)("h2",{children:null===e||void 0===e?void 0:e.username}),(0,vr.jsxs)("p",{children:[(0,vr.jsx)("strong",{children:"Email:"})," ",(null===e||void 0===e?void 0:e.email)||"N/A"]}),(0,vr.jsxs)("p",{children:[(0,vr.jsx)("strong",{children:"Rank:"})," ",(null===e||void 0===e?void 0:e.rank)||"Unranked"]}),(0,vr.jsxs)("p",{children:[(0,vr.jsx)("strong",{children:"Total Points:"})," ",(null===e||void 0===e?void 0:e.total_points)||0]}),(0,vr.jsxs)("p",{children:[(0,vr.jsx)("strong",{children:"Completed Tasks:"})," ",(null===e||void 0===e?void 0:e.completed_tasks)||0]}),(0,vr.jsxs)("div",{className:"user-badges",children:[(0,vr.jsx)("p",{children:(0,vr.jsx)("strong",{children:"Earned Badges:"})}),o&&o.length>0?(0,vr.jsx)("div",{className:"badges-grid",children:o.map((e=>(0,vr.jsxs)("div",{className:"badge-item",children:[(0,vr.jsx)("div",{className:"badge-emoji",children:E(e.type)}),(0,vr.jsx)("div",{className:"badge-name",children:S(e.type)})]},e.id||e.name)))}):(0,vr.jsx)("p",{children:"No badges earned yet. Complete patterns on your bingo board to earn badges!"})]}),(0,vr.jsx)("button",{className:"edit-profile-btn",onClick:()=>l(!0),children:"Edit Profile"}),(0,vr.jsx)("button",{className:"delete-profile-btn",onClick:()=>m(!0),children:"Delete Profile"})]})]}),(0,vr.jsxs)("div",{className:"buttons",children:[(0,vr.jsx)("button",{onClick:()=>w("/bingo"),children:"Go to Bingo Board"}),(0,vr.jsx)("button",{onClick:()=>w("/leaderboard?type=lifetime"),children:"\ud83c\udfc6 Lifetime Leaderboard"}),(0,vr.jsx)("button",{onClick:()=>w("/leaderboard?type=monthly"),children:"\ud83d\udcc5 Monthly Leaderboard"}),(0,vr.jsx)("button",{onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("profilePicture"),w("/login")},children:"Logout"})]}),g&&(0,vr.jsx)("div",{className:"delete-confirmation-overlay",children:(0,vr.jsxs)("div",{className:"delete-confirmation-dialog",children:[(0,vr.jsx)("h3",{children:"Delete Your Profile?"}),(0,vr.jsx)("p",{children:"This action cannot be undone. All your data will be permanently removed."}),(0,vr.jsxs)("div",{className:"delete-confirmation-buttons",children:[(0,vr.jsx)("button",{className:"delete-confirm-btn",onClick:async()=>{try{console.log("Checking available endpoints in userData:",e);try{console.log("Attempting DELETE to /api/profile/");const e=await br.delete(`${Tr}/api/profile/`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});return console.log("Profile deletion response:",e.data),localStorage.clear(),alert("Your profile has been successfully deleted"),void(window.location.href="/login")}catch(t){console.error("DELETE method failed:",t)}console.log("Attempting PUT to /api/profile/update/ with delete flag");const n=await br.put(`${Tr}/api/profile/update/`,{is_deleted:!0,delete_account:!0},{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});console.log("Profile update (delete) response:",n.data),localStorage.clear(),alert("Your profile has been successfully deleted"),window.location.href="/login"}catch(n){console.error("All profile deletion attempts failed:",n);try{localStorage.clear(),alert("We could not delete your profile automatically. Please contact support to complete the deletion."),window.location.href="/login"}catch(r){console.error("Final attempt failed:",r),alert("Could not process your request. Please try again later or contact support."),m(!1)}}},children:"Yes, Delete My Profile"}),(0,vr.jsx)("button",{className:"delete-cancel-btn",onClick:()=>m(!1),children:"Cancel"})]})]})})]})},Rr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",Dr=()=>{const[e,n]=(0,t.useState)({username:"",password:"",profile:"Player"}),[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(!1),s=J(),l=e=>{const{name:t,value:r}=e.target;n((e=>({...e,[t]:r})))};return(0,vr.jsxs)("div",{className:"login-container",children:[(0,vr.jsx)("h2",{children:"Login"}),r&&(0,vr.jsx)("div",{className:"error-message",children:r}),(0,vr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),a(!0);const n=e.username.trim()?e.password?null:"Password is required":"Username is required";if(n)return i(n),void a(!1);try{const t=await fetch(`${Rr}/api/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password,profile:e.profile})}),n=await t.text();console.log("Raw response:",n);const r=JSON.parse(n);if(!t.ok)throw new Error(r.detail||r.error||"Login failed");localStorage.setItem("accessToken",r.access),localStorage.setItem("refreshToken",r.refresh),localStorage.setItem("userProfile",e.profile),localStorage.setItem("username",r.user),"Developer"===e.profile?window.location.href="/developer-front.html":"GameKeeper"===e.profile?window.location.href="/gamekeeper":s("/userprofile")}catch(r){console.error("Login error:",r),i(r.message||"An error occurred during login")}finally{a(!1)}},children:[(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"text",placeholder:"Username",name:"username",value:e.username,onChange:l,required:!0})}),(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:e.password,onChange:l,required:!0})}),(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsxs)("select",{name:"profile",value:e.profile,onChange:e=>{const{value:t}=e.target;n((e=>({...e,profile:t,extraPassword:"Player"===t?"":e.extraPassword})))},required:!0,children:[(0,vr.jsx)("option",{value:"Player",children:"Player"}),(0,vr.jsx)("option",{value:"GameKeeper",children:"Game Keeper"}),(0,vr.jsx)("option",{value:"Developer",children:"Developer"})]})}),(0,vr.jsx)("div",{className:"forgot-password-link",children:(0,vr.jsx)(et,{to:"/forgot-password",children:"Forgot Password?"})}),(0,vr.jsx)("button",{type:"submit",disabled:o,children:o?"Logging in...":"Login"}),(0,vr.jsx)("button",{type:"button",onClick:()=>s("/"),className:"secondary-button",children:"Home"})]}),(0,vr.jsxs)("p",{children:["Don't have an account? ",(0,vr.jsx)(et,{to:"/register",children:"Register Here!"})]})]})},Or={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",Mr=()=>{const[e,n]=(0,t.useState)({username:"",email:"",password:"",passwordagain:"",gdprConsent:!1}),[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(!1),s=J(),l=e=>{const{name:t,value:r,type:i,checked:o}=e.target;n((e=>({...e,[t]:"checkbox"===i?o:r})))};return(0,vr.jsxs)("div",{className:"register-container",children:[(0,vr.jsx)("h2",{children:"Register"}),r&&(0,vr.jsx)("div",{className:"error-message",children:r}),(0,vr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),a(!0);const n=e.username.trim()?e.email.trim()?e.password?e.password!==e.passwordagain?"Passwords do not match":e.gdprConsent?null:"You need to accept the Privacy Policy to register":"Password is required":"Email is required":"Username is required";if(n)return i(n),void a(!1);try{const t=await fetch(`${Or}/api/register/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.text();console.log("Raw response:",n);const r=JSON.parse(n);if(!t.ok)throw new Error(r.detail||r.error||"Registration failed");s("/login")}catch(r){console.error("Registration error:",r),i(r.message||"An error occurred during registration")}finally{a(!1)}},children:[(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"text",placeholder:"Username",name:"username",value:e.username,onChange:l,required:!0})}),(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"email",placeholder:"Email address",name:"email",value:e.email,onChange:l,required:!0})}),(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:e.password,onChange:l,required:!0})}),(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"passwordagain",value:e.passwordagain,onChange:l,required:!0})}),(0,vr.jsx)("div",{className:"form-group privacy-policy",children:(0,vr.jsxs)("label",{className:"checkbox-label",children:[(0,vr.jsx)("input",{type:"checkbox",name:"gdprConsent",checked:e.gdprConsent,onChange:l,required:!0}),"I have read and agree to the\xa0",(0,vr.jsx)(et,{to:"/privacy-policy",target:"_blank",children:"Privacy Policy"})]})}),(0,vr.jsx)("button",{type:"submit",disabled:o,children:o?"Registering...":"Register"})]})]})},kr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000";console.log("Using API URL:",kr);const xr=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(!1),c=J();return(0,vr.jsxs)("div",{className:"login-container",children:[(0,vr.jsx)("h2",{children:"Forgot Password"}),r&&(0,vr.jsx)("div",{className:"error-message",children:r}),o&&(0,vr.jsx)("div",{className:"success-message",children:o}),(0,vr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),a(""),l(!0);const r=e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Please enter a valid email address":"Email is required";if(r)return i(r),void l(!1);console.log("Sending request to:",`${kr}/api/password-reset/`),console.log("With data:",{email:e});try{const t=await fetch(`${kr}/api/password-reset/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(console.log("Response status:",t.status),!t.ok){const e=await t.json();throw console.log("Error data:",e),new Error(e.detail||e.error||"Request failed")}const r=await t.json();console.log("Success response:",r),a("Password reset link has been sent to your email. Please check your inbox."),n("")}catch(o){console.error("Password reset error:",o),i(o.message||"An error occurred while processing your request")}finally{l(!1)}},children:[(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"email",placeholder:"Email address",name:"email",value:e,onChange:e=>{n(e.target.value),i(""),a("")},required:!0})}),(0,vr.jsx)("button",{type:"submit",disabled:s,children:s?"Processing...":"Send Reset Link"}),(0,vr.jsx)("button",{type:"button",onClick:()=>c("/login"),className:"secondary-button",children:"Back to Login"})]})]})},Pr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",Lr=()=>{const{token:e}=function(){let{matches:e}=t.useContext(X),n=e[e.length-1];return n?n.params:{}}(),[n,r]=(0,t.useState)({password:"",confirmPassword:""}),[i,o]=(0,t.useState)(""),[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),u=J();(0,t.useEffect)((()=>{e||u("/forgot-password")}),[e,u]);const d=e=>{const{name:t,value:n}=e.target;r((e=>({...e,[t]:n}))),o(""),s("")};return(0,vr.jsxs)("div",{className:"login-container",children:[(0,vr.jsx)("h2",{children:"Reset Password"}),i&&(0,vr.jsx)("div",{className:"error-message",children:i}),a&&(0,vr.jsx)("div",{className:"success-message",children:a}),(0,vr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(""),s(""),c(!0);const i=n.password?n.password.length<8?"Password must be at least 8 characters long":n.password!==n.confirmPassword?"Passwords do not match":null:"Password is required";if(i)return o(i),void c(!1);console.log("Sending request to:",`${Pr}/api/password-reset/confirm/`),console.log("With data:",{token:e,password:n.password});try{const t=await fetch(`${Pr}/api/password-reset/confirm/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:n.password})});if(!t.ok){const e=t.headers.get("content-type");if(console.log("Response content type:",e),e&&e.includes("application/json")){const e=await t.json();throw console.log("Error data:",e),new Error(e.detail||e.error||"Password reset failed")}{const e=await t.text();throw console.log("Error response (not JSON):",e),new Error("Server error: Not a valid JSON response")}}const i=await t.json();console.log("Success response:",i),s("Your password has been reset successfully!"),r({password:"",confirmPassword:""}),setTimeout((()=>{u("/login")}),3e3)}catch(a){console.error("Password reset error:",a),o(a.message||"An error occurred while resetting your password")}finally{c(!1)}},children:[(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"password",placeholder:"New Password",name:"password",value:n.password,onChange:d,required:!0})}),(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsx)("input",{type:"password",placeholder:"Confirm New Password",name:"confirmPassword",value:n.confirmPassword,onChange:d,required:!0})}),(0,vr.jsx)("button",{type:"submit",disabled:l||a,children:l?"Processing...":"Reset Password"}),(0,vr.jsx)("button",{type:"button",onClick:()=>u("/login"),className:"secondary-button",children:"Back to Login"})]})]})},Br={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",Fr=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)(!0),[s,l]=(0,t.useState)(null),[c]=it(),u=c.get("type")||"lifetime",d=null!==localStorage.getItem("accessToken");return(0,t.useEffect)((()=>{a(!0),br.get(`${Br}/api/leaderboard/`).then((e=>{if(console.log(" API Raw Response:",e.data),Array.isArray(e.data)){const t=e.data,r=e.data;console.log(" Setting Lifetime Leaderboard:",t),console.log(" Setting Monthly Leaderboard:",r),n(t),i(r)}else{const t=e.data.lifetime_leaderboard||[],r=e.data.monthly_leaderboard||[];console.log("\ud83d\udd25 Setting Lifetime Leaderboard:",t),console.log("\ud83d\udd25 Setting Monthly Leaderboard:",r),n(t),i(r)}a(!1)})).catch((e=>{console.error(" Error fetching leaderboard:",e),l("Failed to fetch leaderboard"),a(!1)}))}),[]),(0,vr.jsxs)("div",{className:"leaderboard-container",children:[s&&(0,vr.jsx)("p",{className:"error-message",children:s}),o?(0,vr.jsx)("p",{children:"Loading..."}):(0,vr.jsxs)(vr.Fragment,{children:[(0,vr.jsxs)("div",{className:"leaderboard-navigation",children:[(0,vr.jsx)("button",{className:"leaderboard-nav-button "+("lifetime"===u?"active":""),onClick:()=>window.location.href="/leaderboard?type=lifetime",children:"\ud83c\udfc6 Lifetime Leaderboard"}),(0,vr.jsx)("button",{className:"leaderboard-nav-button "+("monthly"===u?"active":""),onClick:()=>window.location.href="/leaderboard?type=monthly",children:"\ud83d\udcc5 Monthly Leaderboard"})]}),"lifetime"===u?(0,vr.jsxs)("div",{className:"leaderboard-section",children:[(0,vr.jsx)("h2",{className:"leaderboard-title",children:"\ud83c\udfc6 Lifetime Leaderboard"}),(0,vr.jsx)("ul",{className:"leaderboard-list",children:e.length>0?e.map(((e,t)=>(0,vr.jsxs)("li",{className:"leaderboard-item "+(t%2===0?"even":"odd"),children:[(0,vr.jsxs)("span",{className:"rank",children:[t+1,"."]}),(0,vr.jsx)("span",{className:"name",children:e.user||e.username||e.name||"Unknown Player"}),(0,vr.jsxs)("span",{className:"points",children:[void 0!==e.points?e.points:e.score||"0"," Points"]})]},t))):(0,vr.jsx)("p",{children:" No lifetime leaderboard data available."})})]}):(0,vr.jsxs)("div",{className:"leaderboard-section",children:[(0,vr.jsx)("h2",{className:"leaderboard-title",children:"\ud83d\udcc5 This Month's Stars"}),(0,vr.jsx)("ul",{className:"leaderboard-list",children:r.length>0?r.map(((e,t)=>(0,vr.jsxs)("li",{className:"leaderboard-item "+(t%2===0?"even":"odd"),children:[(0,vr.jsxs)("span",{className:"rank",children:[t+1,"."]}),(0,vr.jsx)("span",{className:"name",children:e.user||e.username||e.name||"Unknown Player"}),(0,vr.jsxs)("span",{className:"points",children:[void 0!==e.points?e.points:e.score||"0"," Points"]})]},t))):(0,vr.jsx)("p",{children:" No monthly leaderboard data available."})})]})]}),(0,vr.jsxs)("button",{className:"back-to-home",onClick:()=>window.location.href=d?"/userprofile":"/",children:["\u2190 Back to ",d?"Profile":"Home"]})]})},jr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",Ur=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!0),s=J();return(0,t.useEffect)((()=>{a(!0),br.get(`${jr}/api/leaderboard/`).then((e=>{console.log("Leaderboard fetched:",e.data),n(e.data),a(!1)})).catch((e=>{console.error("Error fetching leaderboard:",e),i("Failed to load leaderboard. Please try again."),a(!1)}))}),[]),(0,vr.jsxs)("div",{className:"leaderboard-container",children:[(0,vr.jsx)("h2",{children:"\ud83c\udfc6 Leaderboard"}),o?(0,vr.jsx)("p",{children:"Loading leaderboard..."}):r?(0,vr.jsx)("p",{className:"error-message",children:r}):(0,vr.jsx)("ul",{className:"leaderboard-list",children:e.map(((e,t)=>(0,vr.jsxs)("li",{className:t%2===0?"leaderboard-item even":"leaderboard-item odd",children:[(0,vr.jsxs)("span",{className:"rank",children:[t+1,"."]}),(0,vr.jsx)("span",{className:"name",children:e.user}),(0,vr.jsxs)("span",{className:"points",children:[e.points," pts"]})]},t)))}),(0,vr.jsx)("button",{onClick:()=>s("/"),children:"Back to Home"})]})},zr=e=>{let{type:n,message:r,duration:i=4e3,onClose:o,action:a,icon:s}=e;const[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(100),[h,f]=(0,t.useState)(null);(0,t.useEffect)((()=>{if(i>0){const e=Date.now(),t=setInterval((()=>{const n=100-(Date.now()-e)/i*100;n<=0?(clearInterval(t),c(!1),o&&setTimeout(o,400)):d(n)}),16);return f(t),()=>clearInterval(t)}}),[i,o]);const p=()=>{h&&clearInterval(h),c(!1),o&&setTimeout(o,400)};return(0,vr.jsxs)("div",{className:`notification ${n} ${l?"visible":"hidden"}`,children:[(0,vr.jsx)("div",{className:"notification-icon",children:(()=>{if(s)return s;switch(n){case"success":case"task-complete":return"\u2705";case"error":return"\u274c";case"info":return"\u2139\ufe0f";case"warning":case"reminder":return"\u26a0\ufe0f";case"achievement":case"pattern-complete":return"\ud83c\udfc6";case"progress":return"\ud83d\udcca";case"end-of-month":return"\ud83d\udcc6";default:return"\ud83d\udce2"}})()}),(0,vr.jsx)("div",{className:"notification-content",children:r}),a&&(0,vr.jsx)("button",{className:"notification-action",onClick:()=>{a&&a.onClick&&a.onClick(),p()},children:a.label}),(0,vr.jsx)("button",{className:"notification-close",onClick:p,children:"\xd7"}),i>0&&(0,vr.jsx)("div",{className:"notification-progress",children:(0,vr.jsx)("div",{className:"notification-progress-bar",style:{width:`${u}%`,backgroundColor:"task-complete"===n?"#4CAF50":"pattern-complete"===n?"#8E44AD":"reminder"===n?"#FF5722":null}})})]})},Hr=()=>{const[e,n]=(0,t.useState)([]),r=()=>{try{const e=localStorage.getItem("shown_notifications");return e?JSON.parse(e):{}}catch(_o){return console.error("Error reading notifications from storage:",_o),{}}},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4;try{const n=r()[e];return!!n&&Date.now()-n<t}catch(_o){return console.error("Error checking notification history:",_o),!1}},o=(0,t.useCallback)((function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const l=`${e}-${t}`;if(i(l))return console.log("Preventing duplicate notification:",t),null;(e=>{try{const t=r();t[e]=Date.now(),localStorage.setItem("shown_notifications",JSON.stringify(t))}catch(_o){console.error("Error saving notification to storage:",_o)}})(l);const c=Date.now();return n((n=>n.some((n=>n.type===e&&n.message===t))?n:[...n.slice(-2),{id:c,type:e,message:t,duration:o,action:a,icon:s}])),c}),[]),a=(0,t.useCallback)((e=>{n((t=>t.filter((t=>t.id!==e))))}),[]);return(0,t.useEffect)((()=>{const e=e=>{const{type:t,message:n,duration:r,action:i,icon:a}=e.detail;o(t,n,r,i,a)},t=e=>{const{taskName:t,points:n}=e.detail;i(`task-${t}-${n}`)||o("task-complete",`Completed: ${t} (+${n} points)`,5e3,{label:"View Profile",onClick:()=>window.location.href="/userprofile"})},n=e=>{const{patternType:t,points:n}=e.detail,r=localStorage.getItem("shown_pattern_notifications");if((r?JSON.parse(r):[]).includes(t))return void console.log(`Pattern ${t} notification already shown, skipping`);let i;switch(t){case"H":i="\u2796";break;case"V":i="\u23d0";break;case"X":i="\u2716\ufe0f";break;case"O":i="\u2b55";break;default:i="\ud83c\udfaf"}o("pattern-complete",`Pattern complete: ${t} (+${n} bonus points)`,6e3,{label:"View Patterns",onClick:()=>window.location.href="/patterns"},i)},r=e=>{};return window.addEventListener("addNotification",e),window.addEventListener("taskCompletion",t),window.addEventListener("patternCompletion",n),window.addEventListener("progressUpdate",r),window.showNotification=(e,t,n,r,o)=>{if("progress"===e)return;if(i(`${e}-${t}`,1e4))return;const a=new CustomEvent("addNotification",{detail:{type:e,message:t,duration:n,action:r,icon:o}});window.dispatchEvent(a)},window.showTaskCompletion=(e,t)=>{const n=new CustomEvent("taskCompletion",{detail:{taskName:e,points:t}});window.dispatchEvent(n)},window.showPatternCompletion=(e,t)=>{const n=new CustomEvent("patternCompletion",{detail:{patternType:e,points:t}});window.dispatchEvent(n)},window.showProgressUpdate=(e,t)=>{},()=>{window.removeEventListener("addNotification",e),window.removeEventListener("taskCompletion",t),window.removeEventListener("patternCompletion",n),window.removeEventListener("progressUpdate",r),delete window.showNotification,delete window.showTaskCompletion,delete window.showPatternCompletion,delete window.showProgressUpdate}}),[o]),(0,vr.jsx)("div",{className:"notification-container",children:e.map((e=>(0,vr.jsx)(zr,{type:e.type,message:e.message,duration:e.duration,action:e.action,icon:e.icon,onClose:()=>a(e.id)},e.id)))})},Vr=e=>{let{title:n,content:r,type:i="info",showClose:o=!0,showCancel:a=!1,confirmText:s="Confirm",cancelText:l="Cancel",onConfirm:c,onCancel:u,onClose:d,autoClose:h=!1,autoCloseTime:f=5e3}=e;const[p,g]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(g(!0),h&&f>0){const e=setTimeout((()=>{m()}),f);return()=>clearTimeout(e)}}),[h,f]);const m=()=>{g(!1),setTimeout((()=>{d&&d()}),300)};return(0,vr.jsx)("div",{className:"popup-overlay "+(p?"visible":"hidden"),onClick:m,children:(0,vr.jsxs)("div",{className:`popup-content ${i} ${p?"visible":"hidden"}`,onClick:e=>{e.stopPropagation()},children:[(0,vr.jsxs)("div",{className:"popup-header",children:[(0,vr.jsx)("div",{className:"popup-title",children:n}),o&&(0,vr.jsx)("button",{className:"popup-close",onClick:m,children:"\xd7"})]}),(0,vr.jsx)("div",{className:"popup-body",children:"string"===typeof r?(0,vr.jsx)("p",{children:r}):r}),(0,vr.jsxs)("div",{className:"popup-footer",children:[a&&(0,vr.jsx)("button",{className:"popup-button cancel",onClick:()=>{u&&u(),m()},children:l}),(0,vr.jsx)("button",{className:"popup-button confirm",onClick:()=>{c&&c(),m()},children:s})]})]})})},Wr=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null);(0,t.useEffect)((()=>{!r&&e.length>0&&(i(e[0]),n((e=>e.slice(1))))}),[r,e]);const o=(0,t.useCallback)((e=>{const t=Date.now(),o={id:t,...e};return r?n((e=>[...e,o])):i(o),t}),[r]),a=(0,t.useCallback)((()=>{i(null)}),[]);return(0,t.useEffect)((()=>{const e=e=>{o(e.detail)};return window.addEventListener("addPopup",e),()=>{window.removeEventListener("addPopup",e)}}),[o]),(0,t.useEffect)((()=>(window.showPopup=e=>{const t=new CustomEvent("addPopup",{detail:e});window.dispatchEvent(t)},()=>{delete window.showPopup})),[]),(0,vr.jsx)(vr.Fragment,{children:r&&(0,vr.jsx)(Vr,{title:r.title,content:r.content,type:r.type||"info",showClose:!1!==r.showClose,showCancel:r.showCancel||!1,confirmText:r.confirmText||"OK",cancelText:r.cancelText||"Cancel",onConfirm:()=>{r.onConfirm&&r.onConfirm(),a()},onCancel:()=>{r.onCancel&&r.onCancel(),a()},onClose:a,autoClose:r.autoClose||!1,autoCloseTime:r.autoCloseTime||5e3})})},Gr=e=>{let{title:n="Achievement Unlocked!",achievement:r,points:i=0,badgeEmoji:o="\ud83c\udfc6",onClose:a,autoClose:s=!0,autoCloseTime:l=6e3}=e;const[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]);(0,t.useEffect)((()=>{if(s){const e=setTimeout((()=>{u(!1),setTimeout((()=>{a&&a()}),500)}),l);return()=>clearTimeout(e)}}),[s,l,a]),(0,t.useEffect)((()=>{const e=[];for(let i=0;i<5;i++)e.push({id:i,left:100*Math.random()+"%",top:100*Math.random()+"%",delay:1*Math.random()+"s"});h(e);const t=["square","circle","triangle"],n=["#8E44AD","#3498db","#e74c3c","#f1c40f","#2ecc71","#e67e22","#1abc9c"],r=[];for(let i=0;i<30;i++)r.push({id:i,left:100*Math.random()+"%",top:"-5%",delay:1*Math.random()+"s",duration:3+2*Math.random()+"s",shape:t[Math.floor(Math.random()*t.length)],color:n[Math.floor(Math.random()*n.length)],size:5+10*Math.random()});p(r)}),[]);const g=()=>{u(!1),setTimeout((()=>{a&&a()}),500)};return(0,vr.jsx)("div",{className:"achievement-popup-overlay "+(c?"visible":"hidden"),children:(0,vr.jsxs)("div",{className:"achievement-popup "+(c?"visible":"hidden"),children:[(0,vr.jsxs)("div",{className:"achievement-header",children:[(0,vr.jsx)("div",{className:"achievement-trophy",children:o}),(0,vr.jsx)("h2",{className:"achievement-title",children:n}),(0,vr.jsx)("button",{className:"achievement-close",onClick:g,children:"\xd7"})]}),(0,vr.jsxs)("div",{className:"achievement-content",children:[(0,vr.jsx)("div",{className:"achievement-badge",children:(0,vr.jsxs)("div",{className:"badge-icon",children:[o,(0,vr.jsx)("div",{className:"badge-glow"})]})}),(0,vr.jsx)("div",{className:"achievement-name rainbow-text",children:r}),i>0&&(0,vr.jsxs)("div",{className:"achievement-points",children:["+",i," Bonus Points!"]}),(0,vr.jsx)("div",{className:"achievement-animation",children:(0,vr.jsx)("div",{className:"confetti-container",children:f.map((e=>(0,vr.jsx)("div",{className:`confetti ${e.shape}`,style:{left:e.left,top:e.top,animationDelay:e.delay,animationDuration:e.duration,backgroundColor:"triangle"!==e.shape?e.color:"transparent",borderBottomColor:"triangle"===e.shape?e.color:"transparent",width:"triangle"===e.shape?0:e.size+"px",height:"triangle"===e.shape?0:e.size+"px",borderLeftWidth:"triangle"===e.shape?e.size/2+"px":0,borderRightWidth:"triangle"===e.shape?e.size/2+"px":0,borderBottomWidth:"triangle"===e.shape?e.size+"px":0}},e.id)))})}),(0,vr.jsx)("button",{className:"achievement-button",onClick:g,children:"Awesome!"})]}),(0,vr.jsx)("div",{className:"achievement-starburst",children:d.map((e=>(0,vr.jsx)("div",{className:"starburst",style:{left:e.left,top:e.top,animationDelay:e.delay}},e.id)))})]})})},Yr=e=>{var n;let{userTasks:r,tasks:i,visible:o=!1,onClose:a,highlightPattern:s=null}=e;const[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1),p=[{id:"x-pattern",name:"X Pattern",type:"X",cells:[0,2,4,6,8],points:35,icon:"\u2716\ufe0f"},{id:"o-pattern",name:"O Pattern",type:"O",cells:[0,1,2,3,5,6,7,8],points:35,icon:"\u2b55"},{id:"horiz1",name:"Horizontal Line (Top)",type:"HORIZ",cells:[0,1,2],points:5,icon:"\u2796"},{id:"horiz2",name:"Horizontal Line (Middle)",type:"HORIZ",cells:[3,4,5],points:5,icon:"\u2796"},{id:"horiz3",name:"Horizontal Line (Bottom)",type:"HORIZ",cells:[6,7,8],points:5,icon:"\u2796"},{id:"vert1",name:"Vertical Line (Left)",type:"VERT",cells:[0,3,6],points:5,icon:"\u23d0"},{id:"vert2",name:"Vertical Line (Middle)",type:"VERT",cells:[1,4,7],points:5,icon:"\u23d0"},{id:"vert3",name:"Vertical Line (Right)",type:"VERT",cells:[2,5,8],points:5,icon:"\u23d0"}];(0,t.useEffect)((()=>{if(!r||!i||0===i.length)return;const e=r.filter((e=>e.completed)).map((e=>e.task_id)),t={};i.forEach(((e,n)=>{t[e.id]=n}));const n=p.map((t=>{const n=t.cells.filter((t=>{var n;const r=null===(n=i[t])||void 0===n?void 0:n.id;return r&&e.includes(r)})),r=Math.round(n.length/t.cells.length*100),o=100===r;return{...t,completedCells:n.length,totalCells:t.cells.length,percentage:r,isComplete:o}}));if(c(n),s){const e=n.find((e=>e.type===s));e&&(d(e.id),f(!0))}}),[r,i,s]);const g=e=>{var t,n;if(!i||0===i.length)return"";const o=null===(t=i[e])||void 0===t?void 0:t.id;if(!o)return"";let a=(null===r||void 0===r?void 0:r.some((e=>e.task_id===o&&e.completed)))?"completed":"";return u&&(null===(n=p.find((e=>e.id===u)))||void 0===n?void 0:n.cells.includes(e))&&(a+=" highlighted"),a};return o?(0,vr.jsx)("div",{className:"pattern-overlay",children:(0,vr.jsxs)("div",{className:"pattern-container",children:[(0,vr.jsxs)("div",{className:"pattern-header",children:[(0,vr.jsx)("h2",{children:"Bingo Pattern Progress"}),(0,vr.jsx)("button",{className:"pattern-close",onClick:a,children:"\xd7"})]}),(0,vr.jsxs)("div",{className:"pattern-content",children:[(0,vr.jsxs)("div",{className:"pattern-grid",children:[[0,1,2,3,4,5,6,7,8].map((e=>(0,vr.jsx)("div",{className:`pattern-cell ${g(e)}`,children:i[e]&&(0,vr.jsx)("div",{className:"cell-content",children:(0,vr.jsx)("div",{className:"cell-indicator",children:null!==r&&void 0!==r&&r.some((t=>t.task_id===i[e].id&&t.completed))?"\u2713":""})})},e))),u&&(0,vr.jsx)("div",{className:"pattern-overlay-animation "+(h?"animate":""),children:null===(n=p.find((e=>e.id===u)))||void 0===n?void 0:n.cells.map((e=>(0,vr.jsx)("div",{className:`overlay-cell cell-${e}`,onAnimationEnd:()=>f(!1)},`overlay-${e}`)))})]}),(0,vr.jsxs)("div",{className:"pattern-list",children:[(0,vr.jsx)("h3",{children:"Your Progress"}),(0,vr.jsx)("div",{className:"pattern-progress-list",children:l.sort(((e,t)=>t.points-e.points)).map((e=>(0,vr.jsxs)("div",{className:`pattern-progress-item ${e.isComplete?"complete":""} ${u===e.id?"active":""}`,onClick:()=>{return t=e.id,d(u===t?null:t),void f(!0);var t},children:[(0,vr.jsx)("div",{className:"pattern-icon",children:e.icon}),(0,vr.jsxs)("div",{className:"pattern-info",children:[(0,vr.jsx)("div",{className:"pattern-name",children:e.name}),(0,vr.jsxs)("div",{className:"pattern-stats",children:[(0,vr.jsxs)("span",{children:[e.completedCells,"/",e.totalCells," tasks"]}),(0,vr.jsxs)("span",{className:"pattern-points",children:["+",e.points," pts"]})]}),(0,vr.jsx)("div",{className:"progress-bar",children:(0,vr.jsx)("div",{className:"progress-fill",style:{width:`${e.percentage}%`}})})]}),e.isComplete&&(0,vr.jsx)("div",{className:"pattern-complete-badge",children:"Complete!"})]},e.id)))})]})]})]})}):null},Xr=e=>{let{onClose:n,onViewPatterns:r}=e;const[i,o]=(0,t.useState)(3),[a,s]=(0,t.useState)(!1);(0,t.useEffect)((()=>{o((()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()-e.getDate()})())}),[]);const l=()=>{s(!0),setTimeout((()=>{n&&n()}),500)};return i>3?null:(0,vr.jsxs)("div",{className:"eom-reminder-container "+(a?"eom-closing":""),children:[(0,vr.jsx)("div",{className:"eom-reminder-icon",children:"\ud83d\udcc6"}),(0,vr.jsxs)("div",{className:"eom-reminder-content",children:[(0,vr.jsx)("h3",{className:"eom-reminder-title",children:0===i?"Last Day of the Month!":`${i} Day${i>1?"s":""} Left!`}),(0,vr.jsx)("p",{className:"eom-reminder-text",children:0===i?"Today is the last day to complete your bingo patterns for this month's challenge!":`Only ${i} day${i>1?"s":""} left to complete your bingo patterns for this month's challenge!`}),(0,vr.jsxs)("div",{className:"eom-reminder-progress",children:[(0,vr.jsx)("div",{className:"eom-progress-container",children:(0,vr.jsx)("div",{className:"eom-progress-bar",style:{width:`${Math.max(5,100-33.3*i)}%`}})}),(0,vr.jsxs)("div",{className:"eom-days-counter",children:[i," ",1===i?"day":"days"," remaining"]})]}),(0,vr.jsxs)("div",{className:"eom-reminder-buttons",children:[(0,vr.jsx)("button",{className:"eom-patterns-button",onClick:()=>{r&&r(),l()},children:"View My Patterns"}),(0,vr.jsx)("button",{className:"eom-close-button",onClick:l,children:"Dismiss"})]})]}),(0,vr.jsx)("button",{className:"eom-reminder-x",onClick:l,children:"\xd7"})]})},qr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",$r=()=>{try{const e=localStorage.getItem("shown_pattern_notifications");return e?JSON.parse(e):[]}catch(_o){return console.error("Error reading pattern notifications from storage:",_o),[]}},Qr=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)(!0),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(null),[g,m]=(0,t.useState)(!1),[w,y]=(0,t.useState)({title:"",achievement:"",points:0,badgeEmoji:"\ud83c\udfc6"}),[E,S]=(0,t.useState)(!1),[C,b]=(0,t.useState)(null),[v,A]=(0,t.useState)(null),[_,T]=(0,t.useState)([]),[I,N]=(0,t.useState)([]),[R,D]=(0,t.useState)(!1),O=(0,t.useRef)(!1),M=(0,t.useRef)(!1),k=(0,t.useRef)(!1),x=J();(0,t.useEffect)((()=>{N($r())}),[]);const P=(0,t.useCallback)((()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate()-e.getDate();t<=3&&t>0&&!R&&!k.current&&(D(!0),k.current=!0,setTimeout((()=>{window.showNotification&&window.showNotification("end-of-month",`Only ${t} day${t>1?"s":""} left this month! Complete your bingo patterns for extra points.`,8e3,{label:"View Patterns",onClick:()=>S(!0)})}),5e3))}),[R,S]),L=(0,t.useCallback)((t=>{if(!e||0===e.length||M.current)return;M.current=!0;const n=t.filter((e=>e.completed)).length,r=(t.filter((e=>"pending"===e.status)).length,e.length);if(r>0&&window.showProgressUpdate)window.showProgressUpdate(n,r);else if(window.showNotification){const e=r>0?Math.round(n/r*100):0;window.showNotification("progress",`Your progress: ${n}/${r} tasks${r>0?` (${e}%)`:""}`,6e3,{label:"View Progress",onClick:()=>S(!0)})}}),[e,S]);(0,t.useEffect)((()=>{const t=localStorage.getItem("accessToken");if(!t)return void x("/login");const r={Authorization:`Bearer ${t}`};return br.get(`${qr}/api/tasks/`).then((e=>(console.log("Tasks fetched:",e.data),n(e.data),br.get(`${qr}/api/check-auth/`,{headers:r})))).then((e=>(console.log("Auth check:",e.data),br.get(`${qr}/api/profile/`,{headers:r})))).then((t=>{t.data&&t.data.user_tasks&&(console.log("User tasks fetched:",t.data.user_tasks),i(t.data.user_tasks),setTimeout((()=>{B(t.data.user_tasks)}),500)),a(!1),window.showNotification&&!O.current&&(O.current=!0,window.showNotification("info","Welcome to Sustainability Bingo! Complete tasks to earn points and unlock achievements.")),M.current||setTimeout((()=>{t.data&&t.data.user_tasks&&e.length>0&&L(t.data.user_tasks)}),3e3),P()})).catch((e=>{console.error("Error fetching data:",e),l("Failed to load tasks. Please try again or log in."),a(!1),window.showNotification&&window.showNotification("error","Failed to load tasks. Please try again or log in.")})),()=>{O.current=!1,M.current=!1,k.current=!1}}),[x,P,L]);const B=(0,t.useCallback)((t=>{if(!e||0===e.length||!t||0===t.length)return;const n=t.filter((e=>e.completed)).map((e=>e.task_id)),r={};e.forEach(((e,t)=>{r[e.id]=t}));const i=[];return[{type:"X",name:"X Pattern",cells:[0,2,4,6,8],points:35},{type:"O",name:"O Pattern",cells:[0,1,2,3,5,6,7,8],points:35},{type:"HORIZ",name:"Horizontal Line (Top)",cells:[0,1,2],points:5},{type:"HORIZ",name:"Horizontal Line (Middle)",cells:[3,4,5],points:5},{type:"HORIZ",name:"Horizontal Line (Bottom)",cells:[6,7,8],points:5},{type:"VERT",name:"Vertical Line (Left)",cells:[0,3,6],points:5},{type:"VERT",name:"Vertical Line (Middle)",cells:[1,4,7],points:5},{type:"VERT",name:"Vertical Line (Right)",cells:[2,5,8],points:5}].forEach((t=>{t.cells.every((t=>{var r;if(t>=e.length)return!1;const i=null===(r=e[t])||void 0===r?void 0:r.id;return i&&n.includes(i)}))&&!_.includes(t.type)&&(i.push(t.type),I.includes(t.type)||setTimeout((()=>{y({title:"Pattern Complete!",achievement:t.name,points:t.points,badgeEmoji:"H"===t.type?"\ud83c\udded":"V"===t.type?"\ud83c\uddfb":"X"===t.type?"\u2716\ufe0f":"O"===t.type?"\u2b55":"HORIZ"===t.type?"\u2796":"VERT"===t.type?"\u23d0":"\ud83c\udfc6"}),m(!0),b(t.type),N((e=>{const n=[...e,t.type];return(e=>{try{const t=$r();t.includes(e)||(t.push(e),localStorage.setItem("shown_pattern_notifications",JSON.stringify(t)))}catch(_o){console.error("Error saving pattern notification to storage:",_o)}})(t.type),n}))}),1e3),window.showPatternCompletion&&!I.includes(t.type)&&window.showPatternCompletion(t.type,t.points))})),i.length>0?(T((e=>[...e,...i])),[i,!0]):[[],!1]}),[e,_,I]),F=(0,t.useCallback)((e=>{const t=r.find((t=>t.task_id===e));return t?t.completed?"completed":"pending"===t.status?"pending":"rejected"===t.status?"rejected":"not_started":"not_started"}),[r]),j=(0,t.useCallback)((e=>{const t=r.find((t=>t.task_id===e));return t&&"rejected"===t.status?t.rejection_reason||"Task was rejected by game keeper":null}),[r]),U=()=>{u(!1),h(""),p(null)},z=async e=>{try{const t=localStorage.getItem("accessToken");if(!t)return void l("You must be logged in to submit tasks");if(200===(await br.post(`${qr}/api/complete_task/`,{task_id:e,is_resubmission:!0},{headers:{Authorization:`Bearer ${t}`}})).status){i((t=>t.map((t=>t.task_id===e?{...t,status:"pending",rejection_reason:null}:t)))),A(e),setTimeout((()=>A(null)),1e3),window.showNotification&&window.showNotification("task-complete","Task resubmitted successfully! Awaiting approval.");const t={Authorization:`Bearer ${localStorage.getItem("accessToken")}`},n=await br.get(`${qr}/api/profile/`,{headers:t});n.data&&n.data.user_tasks&&i(n.data.user_tasks)}}catch(s){console.error("Error resubmitting task:",s),l("Failed to resubmit task. Please try again."),window.showNotification&&window.showNotification("error","Failed to resubmit task. Please try again.")}},H=t=>{const n=t.filter((e=>e.completed)).length+t.filter((e=>"pending"===e.status)).length;1===n?setTimeout((()=>{y({title:"First Steps!",achievement:"Complete your first sustainability task",points:5,badgeEmoji:"\ud83c\udf31"}),m(!0)}),1e3):3===n?setTimeout((()=>{y({title:"Getting Started!",achievement:"Complete three sustainability tasks",points:15,badgeEmoji:"\ud83c\udf43"}),m(!0)}),1e3):5===n?setTimeout((()=>{y({title:"Halfway There!",achievement:"Complete 5 sustainability tasks",points:20,badgeEmoji:"\ud83c\udf3f"}),m(!0),setTimeout((()=>{S(!0)}),2e3)}),1e3):e.length>0&&n===e.length&&setTimeout((()=>{y({title:"Sustainability Champion!",achievement:"Complete all tasks on the board",points:100,badgeEmoji:"\ud83c\udf0d"}),m(!0)}),1e3),n>=3&&B(t)},V=e=>{let t=[];const n=F(e);return"not_started"!==n&&t.push(n),v===e&&t.push("animated"),t.join(" ")};return(0,vr.jsxs)("div",{className:"bingo-container",children:[(0,vr.jsx)("h1",{className:"bingo-header",children:"Sustainability Bingo"}),o?(0,vr.jsxs)("div",{className:"loading-container",children:[(0,vr.jsx)("div",{className:"loading-spinner"}),(0,vr.jsx)("p",{children:"Loading your sustainability tasks..."})]}):s?(0,vr.jsx)("p",{className:"error-message",children:s}):(0,vr.jsx)("div",{className:"bingo-board",children:e.length>0?e.map((e=>(0,vr.jsx)("div",{className:`bingo-cell ${V(e.id)}`,onClick:()=>(async e=>{if(!e)return;A(e.id),setTimeout((()=>A(null)),1e3);const t=F(e.id);if("rejected"===t){const t=j(e.id);return h(t),p(e.id),void u(!0)}if("completed"===t||"pending"===t)return console.log(`Task ${e.id} is already ${t}`),void(window.showNotification&&("completed"===t?window.showNotification("info","You've already completed this task!"):window.showNotification("info","This task is awaiting approval from a GameKeeper.")));if(e.requires_upload)localStorage.setItem("selectedChoice",e.description),localStorage.setItem("selectedTaskId",e.id.toString()),x("/upload");else if(e.requires_scan)localStorage.setItem("selectedChoice",e.description),localStorage.setItem("selectedTaskId",e.id.toString()),x("/scan");else try{if(window.showPopup)window.showPopup({title:"Complete Task",content:`Are you sure you want to complete the task: "${e.description}"?`,type:"info",showCancel:!0,confirmText:"Complete Task",cancelText:"Cancel",onConfirm:async()=>{try{const t=localStorage.getItem("accessToken");if(200===(await br.post(`${qr}/api/complete_task/`,{task_id:e.id},{headers:{Authorization:`Bearer ${t}`}})).status){const t=[...r,{task_id:e.id,status:"pending",completed:!1}];i(t),window.showTaskCompletion?window.showTaskCompletion(e.description,e.points):window.showNotification&&window.showNotification("task-complete",`Task submitted successfully! Awaiting GameKeeper approval. (${e.points} points)`,5e3,{label:"View Progress",onClick:()=>S(!0)}),H(t)}}catch(s){console.error("Error completing task:",s),window.showNotification&&window.showNotification("error","Failed to complete task. Please try again.")}}});else{const t=localStorage.getItem("accessToken");200===(await br.post(`${qr}/api/complete_task/`,{task_id:e.id},{headers:{Authorization:`Bearer ${t}`}})).status&&i((t=>[...t,{task_id:e.id,status:"pending",completed:!1}]))}}catch(s){console.error("Error completing task:",s),window.showNotification&&window.showNotification("error","Failed to complete task. Please try again.")}})(e),children:(0,vr.jsxs)("div",{className:"cell-content",children:[(0,vr.jsx)("div",{className:"points",children:(0,vr.jsxs)("strong",{children:[e.points," Points"]})}),(0,vr.jsx)("div",{className:"description",children:e.description}),e.requires_upload&&(0,vr.jsx)("div",{className:"upload-indicator",children:"\ud83d\udcf7"}),e.requires_scan&&(0,vr.jsx)("div",{className:"scan-indicator",children:"\ud83e\udd33\ud83c\udffb"}),"pending"===F(e.id)&&(0,vr.jsx)("div",{className:"status-indicator",children:"Awaiting approval"}),"rejected"===F(e.id)&&(0,vr.jsx)("div",{className:"status-indicator rejected",children:"Rejected"}),"completed"===F(e.id)&&(0,vr.jsx)("div",{className:"status-indicator completed",children:"Completed!"})]})},e.id))):(0,vr.jsx)("p",{children:"No tasks available."})}),(0,vr.jsxs)("div",{className:"status-legend",children:[(0,vr.jsxs)("div",{className:"legend-item",children:[(0,vr.jsx)("span",{className:"legend-color not-started"}),(0,vr.jsx)("span",{children:"Not Started"})]}),(0,vr.jsxs)("div",{className:"legend-item",children:[(0,vr.jsx)("span",{className:"legend-color pending"}),(0,vr.jsx)("span",{children:"Pending Approval"})]}),(0,vr.jsxs)("div",{className:"legend-item",children:[(0,vr.jsx)("span",{className:"legend-color completed"}),(0,vr.jsx)("span",{children:"Completed"})]}),(0,vr.jsxs)("div",{className:"legend-item",children:[(0,vr.jsx)("span",{className:"legend-color rejected"}),(0,vr.jsx)("span",{children:"Rejected"})]})]}),(0,vr.jsxs)("div",{className:"action-bar",children:[(0,vr.jsx)("button",{onClick:()=>x("/userprofile"),className:"nav-button",children:"View Profile"}),(0,vr.jsx)("button",{onClick:()=>S(!0),className:"pattern-button",children:"View Patterns"})]}),c&&(0,vr.jsx)("div",{className:"rejection-feedback-overlay",onClick:U,children:(0,vr.jsxs)("div",{className:"rejection-feedback-content",onClick:e=>e.stopPropagation(),children:[(0,vr.jsx)("span",{className:"close-button",onClick:U,children:"\xd7"}),(0,vr.jsx)("h3",{children:"Task Rejected"}),(0,vr.jsx)("p",{children:"Your submission was rejected by the game keeper for the following reason:"}),(0,vr.jsx)("div",{className:"rejection-reason",children:d||"No reason provided"}),(0,vr.jsx)("div",{className:"rejection-actions",children:(0,vr.jsx)("button",{className:"retry-button",onClick:()=>{if(!f)return;const t=e.find((e=>e.id===f));t&&(U(),localStorage.setItem("isResubmission","true"),window.showNotification&&window.showNotification("info","Let's try this task again!",3e3),t.requires_upload?(localStorage.setItem("selectedChoice",t.description),localStorage.setItem("selectedTaskId",t.id.toString()),x("/upload")):t.requires_scan?(localStorage.setItem("selectedChoice",t.description),localStorage.setItem("selectedTaskId",t.id.toString()),x("/scan")):z(t.id))},children:"Try Again"})})]})}),g&&(0,vr.jsx)(Gr,{title:w.title,achievement:w.achievement,points:w.points,badgeEmoji:w.badgeEmoji,onClose:()=>{m(!1)}}),(0,vr.jsx)(Yr,{userTasks:r,tasks:e,visible:E,onClose:()=>{S(!1),b(null)},highlightPattern:C}),R&&(0,vr.jsx)(Xr,{onClose:()=>D(!1),onViewPatterns:()=>S(!0)}),(0,vr.jsx)(Hr,{}),(0,vr.jsx)(Wr,{})]})},Zr=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(""),[g,m]=(0,t.useState)(!1),w=J();(0,t.useEffect)((()=>{const e=localStorage.getItem("selectedChoice"),t="true"===localStorage.getItem("isResubmission");console.log("Selected Task:",e),console.log("Is Resubmission:",t),e&&n(e),t&&m(!0)}),[]);return(0,vr.jsx)("div",{className:"upload-container",children:(0,vr.jsxs)("div",{className:"scrollable-box",children:[(0,vr.jsx)("h1",{children:g?"Resubmit Your Task":"Upload your proof of Gameplay"}),(0,vr.jsxs)("div",{className:"selected-task",children:[(0,vr.jsx)("h3",{children:"Selected Task:"}),(0,vr.jsx)("p",{children:e})]}),g&&(0,vr.jsx)("div",{className:"resubmission-notice",children:(0,vr.jsx)("p",{children:"You are resubmitting a previously rejected task. Please address the feedback from the game keeper."})}),c&&(0,vr.jsx)("div",{className:"error-message",children:(0,vr.jsx)("p",{children:c})}),d&&(0,vr.jsxs)("div",{className:"similarity-warning",children:[(0,vr.jsx)("h4",{children:"Duplicate Image Detected"}),(0,vr.jsx)("p",{children:d.message}),(0,vr.jsxs)("p",{children:["Similarity: ",d.similarity]}),(0,vr.jsxs)("div",{className:"similarity-tips",children:[(0,vr.jsx)("h5",{children:"Tips:"}),(0,vr.jsxs)("ul",{children:[(0,vr.jsx)("li",{children:"Take a new photo specifically for this task"}),(0,vr.jsx)("li",{children:"Make sure your photo clearly shows you completing this specific task"}),(0,vr.jsx)("li",{children:"Each task requires its own unique photo evidence"})]})]})]}),f&&(0,vr.jsx)("div",{className:"success-message",children:(0,vr.jsx)("p",{children:f})}),(0,vr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!r)return void u("Please select a file to upload");u(""),h(null),p(""),a(!0);const t=new FormData,n=localStorage.getItem("selectedTaskId");if(!n)return u("Task ID not found. Please select a task again."),a(!1),void w("/bingo");t.append("task_id",n),t.append("photo",r),g&&t.append("is_resubmission","true");try{const e=localStorage.getItem("accessToken");if(!e)return u("You must be logged in to submit a task"),a(!1),void w("/login");const n=await fetch("http://localhost:8000/api/complete_task/",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t}),r=await n.json();n.ok?(localStorage.removeItem("isResubmission"),p(r.message||(g?"Thank you for resubmitting your task! We will review it soon.":"Thank you for your submission! We will review it soon.")),setTimeout((()=>{w("/bingo")}),2e3)):r.similarity?(h({similarity:r.similarity,message:r.message}),u(r.error||"Please take a new photo for this task.")):u(r.message||r.error||"Failed to submit task. Please try again.")}catch(i){console.error("Error submitting task:",i),u("An error occurred while submitting your task. Please try again.")}finally{a(!1)}},className:"upload-form",children:[(0,vr.jsxs)("div",{className:"file-input-container",children:[(0,vr.jsx)("label",{htmlFor:"file-upload",className:"custom-file-upload",children:"Choose File"}),(0,vr.jsx)("input",{id:"file-upload",type:"file",accept:"image/jpeg,image/png",onChange:e=>{const t=e.target.files[0];if(!t)return i(null),void l("");u(""),h(null);if(!["image/jpeg","image/png","image/jpg"].includes(t.type))return u("Please select a JPEG or PNG image file."),i(null),void l("");if(t.size>10485760)return u("Image size is too large. Maximum size is 10MB."),i(null),void l("");i(t);const n=new FileReader;n.onload=()=>{l(n.result)},n.readAsDataURL(t)},required:!0}),(0,vr.jsx)("span",{className:"file-name",children:r?r.name:"No file selected"})]}),s&&(0,vr.jsxs)("div",{className:"image-preview",children:[(0,vr.jsx)("h3",{children:"Preview:"}),(0,vr.jsx)("img",{src:s,alt:"Preview"})]}),(0,vr.jsxs)("div",{className:"button-container",children:[(0,vr.jsx)("button",{type:"button",onClick:()=>{localStorage.removeItem("isResubmission"),w("/bingo")},className:"back-button",children:"Back"}),(0,vr.jsx)("button",{type:"submit",className:"submit-button",disabled:o||!r,children:o?"Uploading...":g?"Resubmit":"Upload"})]})]})]})})};var Kr;!function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(Kr||(Kr={}));var Jr,ei,ti=new Map([[Kr.QR_CODE,"QR_CODE"],[Kr.AZTEC,"AZTEC"],[Kr.CODABAR,"CODABAR"],[Kr.CODE_39,"CODE_39"],[Kr.CODE_93,"CODE_93"],[Kr.CODE_128,"CODE_128"],[Kr.DATA_MATRIX,"DATA_MATRIX"],[Kr.MAXICODE,"MAXICODE"],[Kr.ITF,"ITF"],[Kr.EAN_13,"EAN_13"],[Kr.EAN_8,"EAN_8"],[Kr.PDF_417,"PDF_417"],[Kr.RSS_14,"RSS_14"],[Kr.RSS_EXPANDED,"RSS_EXPANDED"],[Kr.UPC_A,"UPC_A"],[Kr.UPC_E,"UPC_E"],[Kr.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function ni(e){return Object.values(Kr).includes(e)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"}(Jr||(Jr={})),function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(ei||(ei={}));var ri,ii=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ei.SCAN_TYPE_CAMERA,ei.SCAN_TYPE_FILE],e}(),oi=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!ti.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,ti.get(t))},e}(),ai=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();!function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(ri||(ri={}));var si=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:ri.UNKWOWN_ERROR}},e}(),li=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function ci(e){return"undefined"===typeof e||null===e}var ui,di=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),hi=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(e){return"Last Match: ".concat(e)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),fi=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),pi=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!==typeof e){var n=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var r=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];if(r.has(a))return t.logError("".concat(a," is not supported videoConstaints."),!0),!1}return!0},e}(),gi=n(72),mi=function(){function e(e,t,n){if(this.formatMap=new Map([[Kr.QR_CODE,gi.BarcodeFormat.QR_CODE],[Kr.AZTEC,gi.BarcodeFormat.AZTEC],[Kr.CODABAR,gi.BarcodeFormat.CODABAR],[Kr.CODE_39,gi.BarcodeFormat.CODE_39],[Kr.CODE_93,gi.BarcodeFormat.CODE_93],[Kr.CODE_128,gi.BarcodeFormat.CODE_128],[Kr.DATA_MATRIX,gi.BarcodeFormat.DATA_MATRIX],[Kr.MAXICODE,gi.BarcodeFormat.MAXICODE],[Kr.ITF,gi.BarcodeFormat.ITF],[Kr.EAN_13,gi.BarcodeFormat.EAN_13],[Kr.EAN_8,gi.BarcodeFormat.EAN_8],[Kr.PDF_417,gi.BarcodeFormat.PDF_417],[Kr.RSS_14,gi.BarcodeFormat.RSS_14],[Kr.RSS_EXPANDED,gi.BarcodeFormat.RSS_EXPANDED],[Kr.UPC_A,gi.BarcodeFormat.UPC_A],[Kr.UPC_E,gi.BarcodeFormat.UPC_E],[Kr.UPC_EAN_EXTENSION,gi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!gi)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=n;var r=this.createZXingFormats(e),i=new Map;i.set(gi.DecodeHintType.POSSIBLE_FORMATS,r),i.set(gi.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(e){var t=this;return new Promise((function(n,r){try{n(t.decode(e))}catch(i){r(i)}}))},e.prototype.decode=function(e){var t=new gi.MultiFormatReader(this.verbose,this.hints),n=new gi.HTMLCanvasElementLuminanceSource(e),r=new gi.BinaryBitmap(new gi.HybridBinarizer(n)),i=t.decode(r);return{text:i.text,format:oi.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,n,r){e.set(t,n)})),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),wi=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(_o){o(_o)}}function s(e){try{l(r.throw(e))}catch(_o){o(_o)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},yi=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(_o){s=[6,_o],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Ei=function(){function e(t,n,r){if(this.formatMap=new Map([[Kr.QR_CODE,"qr_code"],[Kr.AZTEC,"aztec"],[Kr.CODABAR,"codabar"],[Kr.CODE_39,"code_39"],[Kr.CODE_93,"code_93"],[Kr.CODE_128,"code_128"],[Kr.DATA_MATRIX,"data_matrix"],[Kr.ITF,"itf"],[Kr.EAN_13,"ean_13"],[Kr.EAN_8,"ean_8"],[Kr.PDF_417,"pdf417"],[Kr.UPC_A,"upc_a"],[Kr.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&"undefined"!==typeof new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return wi(this,void 0,void 0,(function(){var t,n;return yi(this,(function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=r.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(n=this.selectLargestBarcode(t)).rawValue,format:oi.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}}))}))},e.prototype.selectLargestBarcode=function(e){for(var t=null,n=0,r=0,i=e;r<i.length;r++){var o=i[r],a=o.boundingBox.width*o.boundingBox.height;a>n&&(n=a,t=o)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,n,r){e.set(t,n)})),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Si=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(_o){o(_o)}}function s(e){try{l(r.throw(e))}catch(_o){o(_o)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Ci=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(_o){s=[6,_o],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},bi=function(){function e(e,t,n,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,t&&Ei.isSupported()?(this.primaryDecoder=new Ei(e,n,r),this.secondaryDecoder=new mi(e,n,r)):this.primaryDecoder=new mi(e,n,r)}return e.prototype.decodeAsync=function(e){return Si(this,void 0,void 0,(function(){var t;return Ci(this,(function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}}))}))},e.prototype.decodeRobustlyAsync=function(e){return Si(this,void 0,void 0,(function(){var t,n;return Ci(this,(function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:if(n=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}}))}))},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,n=this.executionResults;t<n.length;t++){e+=n[t]}var r=e/this.executionResults.length;console.log("".concat(r," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),vi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ai=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(_o){o(_o)}}function s(e){try{l(r.throw(e))}catch(_o){o(_o)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},_i=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(_o){s=[6,_o],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Ti=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),Ii=function(e){function t(t){return e.call(this,"zoom",t)||this}return vi(t,e),t}(function(e){function t(t,n){return e.call(this,t,n)||this}return vi(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Ti)),Ni=function(e){function t(t){return e.call(this,"torch",t)||this}return vi(t,e),t}(Ti),Ri=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new Ii(this.track)},e.prototype.torchFeature=function(){return new Ni(this.track)},e}(),Di=function(){function e(e,t,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var n=e.surface.clientWidth,r=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,r),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Ai(this,void 0,void 0,(function(){var o,a;return _i(this,(function(s){switch(s.label){case 0:return o=new e(t,n,i),r.aspectRatio?(a={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(a)]):[3,2];case 1:s.sent(),s.label=2;case 2:return o.setupSurface(),[2,o]}}))}))},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,n=function(){setTimeout(e,200),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return Ai(this,void 0,void 0,(function(){return _i(this,(function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]}))}))},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise((function(t,n){var r=e.mediaStream.getVideoTracks().length,i=0;e.mediaStream.getVideoTracks().forEach((function(n){e.mediaStream.removeTrack(n),n.stop(),++i>=r&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())}))}))},e.prototype.getCapabilities=function(){return new Ri(this.getFirstTrackOrFail())},e}(),Oi=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,n){return Ai(this,void 0,void 0,(function(){return _i(this,(function(r){return[2,Di.create(e,this.mediaStream,t,n)]}))}))},e.create=function(t){return Ai(this,void 0,void 0,(function(){var n;return _i(this,(function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return[2,new e(r.sent())]}}))}))},e}(),Mi=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(_o){o(_o)}}function s(e){try{l(r.throw(e))}catch(_o){o(_o)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},ki=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(_o){s=[6,_o],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},xi=function(){function e(){}return e.failIfNotSupported=function(){return Mi(this,void 0,void 0,(function(){return ki(this,(function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]}))}))},e.prototype.create=function(e){return Mi(this,void 0,void 0,(function(){return ki(this,(function(t){return[2,Oi.create(e)]}))}))},e}(),Pi=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(_o){o(_o)}}function s(e){try{l(r.throw(e))}catch(_o){o(_o)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Li=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(_o){s=[6,_o],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Bi=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=di.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=di.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return Pi(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return Li(this,(function(s){switch(s.label){case 0:return e=function(e){for(var t=0,n=e.getVideoTracks();t<n.length;t++){var r=n[t];r.enabled=!1,r.stop(),e.removeTrack(r)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=s.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=s.sent(),r=[],i=0,o=n;i<o.length;i++)"videoinput"===(a=o[i]).kind&&r.push({id:a.deviceId,label:a.label});return e(t),[2,r]}}))}))},e.getCamerasFromMediaStreamTrack=function(){return new Promise((function(e,t){MediaStreamTrack.getSources((function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];"video"===o.kind&&n.push({id:o.id,label:o.label})}e(n)}))}))},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"}(ui||(ui={}));var Fi,ji=function(){function e(){this.state=ui.NOT_STARTED,this.onGoingTransactionNewState=ui.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ui.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ui.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ui.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ui.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ui.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case ui.UNKNOWN:throw"Transition from unknown is not allowed";case ui.NOT_STARTED:this.failIfNewStateIs(e,[ui.PAUSED]);case ui.SCANNING:case ui.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var n=0,r=t;n<r.length;n++){if(e===r[n])throw"Cannot transition from ".concat(this.state," to ").concat(e)}},e}(),Ui=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ui.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ui.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ui.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ui.PAUSED},e}(),zi=function(){function e(){}return e.create=function(){return new Ui(new ji)},e}(),Hi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hi(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ii),Wi=function(){function e(e,t){this.logger=t,this.fps=Vi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Vi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pi.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ci(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Gi=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var n;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(n=t,this.verbose=!0===n.verbose,n.experimentalFeatures),this.logger=new li(this.verbose),this.qrcode=new bi(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=zi.create()}return e.prototype.start=function(e,t,n,r){var i,o=this;if(!e)throw"cameraIdOrConfig is required";if(!n||"function"!=typeof n)throw"qrCodeSuccessCallback is required and should be a function.";i=r||(this.verbose?this.logger.log:function(){});var a=Wi.create(t,this.logger);this.clearElement();var s=!1;a.videoConstraints&&(a.isMediaStreamConstraintsValid()?s=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var l=s,c=document.getElementById(this.elementId);c.clientWidth?c.clientWidth:Vi.DEFAULT_WIDTH;c.style.position="relative",this.shouldScan=!0,this.element=c;var u=this,d=this.stateManagerProxy.startTransition(ui.SCANNING);return new Promise((function(t,r){var s=l?a.videoConstraints:u.createVideoConstraints(e);if(!s)return d.cancel(),void r("videoConstraints should be defined");var c={};l&&!a.aspectRatio||(c.aspectRatio=a.aspectRatio);var h={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,a),u.isScanning=!0,u.foreverScan(a,n,i)}};xi.failIfNotSupported().then((function(e){e.create(s).then((function(e){return e.render(o.element,c,h).then((function(e){u.renderedCamera=e,d.execute(),t(null)})).catch((function(e){d.cancel(),r(e)}))})).catch((function(e){d.cancel(),r(di.errorGettingUserMedia(e))}))})).catch((function(e){d.cancel(),r(di.cameraStreamingNotSupported())}))}))},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ui.PAUSED),this.showPausedState(),(ci(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(ui.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume((function(){t()})):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(ui.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=this;return this.renderedCamera.close().then((function(){return n.renderedCamera=null,n.element&&(n.element.removeChild(n.canvasElement),n.canvasElement=null),function(){if(e.element){var t=document.getElementById(Vi.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),n.qrRegion&&(n.qrRegion=null),n.context&&(n.context=null),t.execute(),n.hidePausedState(),n.isScanning=!1,Promise.resolve()}))},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then((function(e){return e.decodedText}))},e.prototype.scanFileV2=function(e,t){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ci(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise((function(r,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var e=o.width,a=o.height,s=document.getElementById(n.elementId),l=s.clientWidth?s.clientWidth:Vi.DEFAULT_WIDTH,c=Math.max(s.clientHeight?s.clientHeight:a,Vi.FILE_SCAN_MIN_HEIGHT),u=n.computeCanvasDrawConfig(e,a,l,c);if(t){var d=n.createCanvasElement(l,c,"qr-canvas-visible");d.style.display="inline-block",s.appendChild(d);var h=d.getContext("2d");if(!h)throw"Unable to get 2d context from canvas";h.canvas.width=l,h.canvas.height=c,h.drawImage(o,0,0,e,a,u.x,u.y,u.width,u.height)}var f=Vi.FILE_SCAN_HIDDEN_CANVAS_PADDING,p=Math.max(o.width,u.width),g=Math.max(o.height,u.height),m=p+2*f,w=g+2*f,y=n.createCanvasElement(m,w);s.appendChild(y);var E=y.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=m,E.canvas.height=w,E.drawImage(o,0,0,e,a,f,f,p,g);try{n.qrcode.decodeRobustlyAsync(y).then((function(e){r(ai.createFromQrcodeResult(e))})).catch(i)}catch(S){i("QR code parse error, error = ".concat(S))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(e)}))},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Bi.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!pi.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[Kr.QR_CODE,Kr.AZTEC,Kr.CODABAR,Kr.CODE_39,Kr.CODE_93,Kr.CODE_128,Kr.DATA_MATRIX,Kr.MAXICODE,Kr.ITF,Kr.EAN_13,Kr.EAN_8,Kr.PDF_417,Kr.RSS_14,Kr.RSS_EXPANDED,Kr.UPC_A,Kr.UPC_E,Kr.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],r=0,i=e.formatsToSupport;r<i.length;r++){var o=i[r];ni(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(0===n.length)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(ci(e))return!0;if(!ci(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(ci(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!ci(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,n){var r=this,i=n.qrbox;this.validateQrboxConfig(i);var o,a=this.toQrdimensions(e,t,i),s=function(e){if(e<Vi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Vi.MIN_QR_BOX_SIZE,"px.")};s(a.width),s(a.height),a.width=((o=a.width)>e&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),o=e),o)},e.prototype.validateQrboxConfig=function(e){if("number"!==typeof e&&"function"!==typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,n){if("number"===typeof n)return{width:n,height:n};if("function"===typeof n)try{return n(e,t)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return n},e.prototype.setupUi=function(e,t,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,n);var r=ci(n.qrbox)?{width:e,height:t}:n.qrbox;this.validateQrboxConfig(r);var i=this.toQrdimensions(e,t,r);i.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&i.height<=t,a={x:0,y:0,width:e,height:t},s=o?this.getShadedRegionBounds(e,t,i):a,l=this.createCanvasElement(s.width,s.height),c=l.getContext("2d",{willReadFrequently:!0});c.canvas.width=s.width,c.canvas.height=s.height,this.element.append(l),o&&this.possiblyInsertShadingElement(this.element,e,t,i),this.createScannerPausedUiElement(this.element),this.qrRegion=s,this.context=c,this.canvasElement=l},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=di.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then((function(t){return e(t.text,ai.createFromQrcodeResult(t)),n.possiblyUpdateShaders(!0),!0})).catch((function(e){n.possiblyUpdateShaders(!1);var r=di.codeParseError(e);return t(r,si.createFrom(r)),!1}))},e.prototype.foreverScan=function(e,t,n){var r=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,a=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var s=this.qrRegion.width*o,l=this.qrRegion.height*a,c=this.qrRegion.x*o,u=this.qrRegion.y*a;this.context.drawImage(i,c,u,s,l,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){r.foreverScanTimeout=setTimeout((function(){r.foreverScan(e,t,n)}),r.getTimeoutFps(e.fps))};this.scanContext(t,n).then((function(i){i||!0===e.disableFlip?d():(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(t,n).finally((function(){d()})))})).catch((function(e){r.logger.logError("Error happend while scanning context",e),d()}))}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",n="deviceId",r={user:!0,environment:!0},i="exact",o=function(e){if(e in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},a=Object.keys(e);if(1!==a.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(a.length," keys");var s=Object.keys(e)[0];if(s!==t&&s!==n)throw"Only '".concat(t,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(s!==t){var l=e.deviceId;if("string"==typeof l)return{deviceId:l};if("object"==typeof l){if(i in l)return{deviceId:{exact:l["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof l)}var c=e.facingMode;if("string"==typeof c){if(o(c))return{facingMode:c}}else{if("object"!=typeof c)throw"Invalid type of 'facingMode' = ".concat(typeof c);if(!(i in c))throw"'facingMode' should be string or object with"+" ".concat(i," as key.");if(o(c["".concat(i)]))return{facingMode:{exact:c["".concat(i)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,n,r){if(e<=n&&t<=r)return{x:(n-e)/2,y:(r-t)/2,width:e,height:t};var i=e,o=t;return e>n&&(t*=n/e,e=n),t>r&&(e*=r/t,t=r),this.logger.log("Image downsampled from "+"".concat(i,"X").concat(o)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,n,r)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach((function(t){t.style.backgroundColor=e?Vi.BORDER_SHADER_MATCH_COLOR:Vi.BORDER_SHADER_DEFAULT_COLOR})),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,n){var r=e,i=t,o=document.createElement("canvas");return o.style.width="".concat(r,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=ci(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(e,t,n){if(n.width>e||n.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(t-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(e,t,n,r){if(!(t-r.width<1||n-r.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(t-r.width)/2,a=(n-r.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Vi.SHADED_REGION_ELEMENT_ID),t-r.width<11||n-r.height<11)this.hasBorderShaders=!1;else{var s=40;this.insertShaderBorders(i,s,5,-5,null,0,!0),this.insertShaderBorders(i,s,5,-5,null,0,!1),this.insertShaderBorders(i,s,5,null,-5,0,!0),this.insertShaderBorders(i,s,5,null,-5,0,!1),this.insertShaderBorders(i,5,45,-5,null,-5,!0),this.insertShaderBorders(i,5,45,null,-5,-5,!0),this.insertShaderBorders(i,5,45,-5,null,-5,!1),this.insertShaderBorders(i,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(i)}},e.prototype.insertShaderBorders=function(e,t,n,r,i,o,a){var s=document.createElement("div");s.style.position="absolute",s.style.backgroundColor=Vi.BORDER_SHADER_DEFAULT_COLOR,s.style.width="".concat(t,"px"),s.style.height="".concat(n,"px"),null!==r&&(s.style.top="".concat(r,"px")),null!==i&&(s.style.bottom="".concat(i,"px")),a?s.style.left="".concat(o,"px"):s.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(s),e.appendChild(s)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),Yi="data:image/svg+xml;base64,",Xi=Yi+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",qi=Yi+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",$i=Yi+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Qi=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Zi=function(){function e(){this.data=Qi.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Qi.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Ki=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=fi.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var n=document.createElement("br"),r=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(r);var i=document.createElement("a");i.innerText=fi.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Ji=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=$i,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=$i,this.infoIcon.style.opacity="0.6")},e}(),eo=function(){function e(){var e=this;this.infoDiv=new Ki,this.infoIcon=new Ji((function(){e.infoDiv.show()}),(function(){e.infoDiv.hide()}))}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),to=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(_o){o(_o)}}function s(e){try{l(r.throw(e))}catch(_o){o(_o)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},no=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(_o){s=[6,_o],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},ro=function(){function e(){}return e.hasPermissions=function(){return to(this,void 0,void 0,(function(){var e,t,n,r;return no(this,(function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)if("videoinput"===(r=n[t]).kind&&r.label)return[2,!0];return[2,!1]}}))}))},e}(),io=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(e){return e===ei.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===ei.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||0===e.length)return ii.DEFAULT_SUPPORTED_SCAN_TYPE;var t=ii.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var n=0,r=e;n<r.length;n++){var i=r[n];if(!ii.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return e},e}(),oo=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),ao=function(){function e(){}return e.createElement=function(e,t){var n=document.createElement(e);return n.id=t,n.classList.add(oo.ALL_ELEMENT_CLASS),"button"===e&&n.setAttribute("type","button"),n},e}(),so=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(_o){o(_o)}}function s(e){try{l(r.throw(e))}catch(_o){o(_o)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},lo=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(_o){s=[6,_o],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},co=function(){function e(e,t,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return so(this,void 0,void 0,(function(){var e,t;return lo(this,(function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=n.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}}))}))},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?hi.torchOffButton():hi.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(e,t){var n=e?hi.torchOnFailedMessage():hi.torchOffFailedMessage();t&&(n+="; Error = "+t),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),uo=function(){function e(e,t){this.onTorchActionFailureCallback=t,this.torchButton=ao.createElement("button",oo.TORCH_BUTTON_ID),this.torchController=new co(e,this,t)}return e.prototype.render=function(e,t){var n=this;this.torchButton.innerText=hi.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var r=this;this.torchButton.addEventListener("click",(function(e){return so(n,void 0,void 0,(function(){return lo(this,(function(e){switch(e.label){case 0:return[4,r.torchController.flipState()];case 1:return e.sent(),r.torchController.isTorchEnabled()?(r.torchButton.classList.remove(oo.TORCH_BUTTON_CLASS_TORCH_OFF),r.torchButton.classList.add(oo.TORCH_BUTTON_CLASS_TORCH_ON)):(r.torchButton.classList.remove(oo.TORCH_BUTTON_CLASS_TORCH_ON),r.torchButton.classList.add(oo.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}}))}))})),e.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(e){this.torchController=new co(e,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(e){this.torchButton.innerText=e},e.prototype.reset=function(){this.torchButton.innerText=hi.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var o=new e(n,i);return o.render(t,r),o},e}(),ho=function(){function e(e,t,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var r=document.createElement("label");r.setAttribute("for",this.getFileScanInputId()),r.style.display="inline-block",this.fileBasedScanRegion.appendChild(r),this.fileSelectionButton=ao.createElement("button",oo.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",(function(e){r.click()})),r.append(this.fileSelectionButton),this.fileScanInput=ao.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",r.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",(function(e){if(null!=e&&null!=e.target){var t=e.target;if(!t.files||0!==t.files.length){var r=t.files[0],o=r.name;i.setImageNameToButton(o),n(r)}}}));var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",(function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragleave",(function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragover",(function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var t=e.dataTransfer;if(t){var r=t.files;if(!r||0===r.length)return;for(var a=!1,s=0;s<r.length;++s){var l=r.item(s);if(l){if(l.type.match(/image.*/)){a=!0;var c=l.name;i.setImageNameToButton(c),n(l),o.innerText=hi.dragAndDropMessage();break}}}a||(o.innerText=hi.dragAndDropMessageOnlyImages())}}))}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=hi.dragAndDropMessage(),e.style.fontWeight="400",e},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),n=e.length,r=e.substring(n-8,n);e="".concat(t,"....").concat(r)}var i=hi.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=i},e.prototype.setInitialValueToButton=function(){var e=hi.fileSelectionChooseImage()+" - "+hi.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){return new e(t,n,r)},e}(),fo=function(){function e(e){this.selectElement=ao.createElement("select",oo.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return e.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var n=this.cameras.length;if(0===n)throw new Error("No cameras found");if(1===n)t.style.display="none";else{var r=hi.selectCamera();t.innerText="".concat(r," (").concat(this.cameras.length,")  ")}for(var i=1,o=0,a=this.cameras;o<a.length;o++){var s=a[o],l=s.id,c=null==s.label?l:s.label;c&&""!==c||(c=[hi.anonymousCameraPrefix(),i++].join(" "));var u=document.createElement("option");u.value=l,u.innerText=c,this.options.push(u),this.selectElement.appendChild(u)}t.appendChild(this.selectElement),e.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(e){for(var t=0,n=this.options;t<n.length;t++){if(n[t].value===e)return!0}return!1},e.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),po=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ao.createElement("input",oo.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=hi.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var r=this;this.rangeInput.addEventListener("input",(function(){return r.onValueChange()})),this.rangeInput.addEventListener("change",(function(){return r.onValueChange()})),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var e=hi.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(e,t,n,r){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=r.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}();!function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(Fi||(Fi={}));!function(){function e(e,t,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===n,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new io(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new li(this.verbose),this.persistedDataManager=new Zi,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}e.prototype.render=function(e,t){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,r){if(e)e(t,r);else{if(n.lastMatchFound===t)return;n.lastMatchFound=t,n.setHeaderMessage(hi.lastMatch(t),Fi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,n){t&&t(e,n)};var r,i,o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new Gi(this.getScanRegionId(),(r=this.config,i=this.verbose,{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:i}))},e.prototype.pause=function(e){(ci(e)||!0!==e)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML="",e.resetBasicLayout(t))};return this.html5Qrcode?new Promise((function(n,r){e.html5Qrcode?e.html5Qrcode.isScanning?e.html5Qrcode.stop().then((function(r){e.html5Qrcode?(e.html5Qrcode.clear(),t(),n()):n()})).catch((function(t){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",t),r(t)})):(e.html5Qrcode.clear(),t(),n()):n()})):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ii.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ii.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ii.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ii.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ii.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ii.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ii.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),n=this.getScanRegionId();t.id=n,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),io.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var r=document.createElement("div"),i=this.getDashboardId();r.id=i,r.style.width="100%",e.appendChild(r),this.setupInitialDashboard(r)},e.prototype.resetBasicLayout=function(e){e.style.border="none"},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),(new eo).renderInto(t);var n=document.createElement("div");n.id=this.getHeaderMessageContainerId(),n.style.display="none",n.style.textAlign="center",n.style.fontSize="14px",n.style.padding="2px 10px",n.style.margin="4px",n.style.borderTop="1px solid #f6f6f6",t.appendChild(n)},e.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,n){var r=this;r.showHideScanTypeSwapLink(!1),r.setHeaderMessage(hi.cameraPermissionRequesting());var i=function(){n||r.createPermissionButton(e,t)};Gi.getCameras().then((function(n){r.persistedDataManager.setHasPermission(!0),r.showHideScanTypeSwapLink(!0),r.resetHeaderMessage(),n&&n.length>0?(e.removeChild(t),r.renderCameraSelection(n)):(r.setHeaderMessage(hi.noCameraFound(),Fi.STATUS_WARNING),i())})).catch((function(e){r.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:i(),r.setHeaderMessage(e,Fi.STATUS_WARNING),r.showHideScanTypeSwapLink(!0)}))},e.prototype.createPermissionButton=function(e,t){var n=this,r=ao.createElement("button",this.getCameraPermissionButtonId());r.innerText=hi.cameraPermissionTitle(),r.addEventListener("click",(function(){r.disabled=!0,n.createCameraListUi(e,t,r)})),t.appendChild(r)},e.prototype.createPermissionsUi=function(e,t){var n=this;io.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?ro.hasPermissions().then((function(r){r?n.createCameraListUi(e,t):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t))})).catch((function(r){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t)})):this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=io.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(n);var r=document.createElement("div");r.style.textAlign="center",n.appendChild(r),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,r),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=io.isFileScanType(this.currentScanType),n=this;this.fileSelectionUi=ho.create(e,t,(function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";io.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(hi.loadingImage()),n.html5Qrcode.scanFileV2(e,!0).then((function(e){n.resetHeaderMessage(),n.qrCodeSuccessCallback(e.decodedText,e)})).catch((function(e){n.setHeaderMessage(e,Fi.STATUS_WARNING),n.qrCodeErrorCallback(e,si.createFrom(e))})))}))},e.prototype.renderCameraSelection=function(e){var t=this,n=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign="center";var i=po.create(r,!1),o=fo.create(r,e),a=document.createElement("span"),s=ao.createElement("button",oo.CAMERA_START_BUTTON_ID);s.innerText=hi.scanButtonStartScanningText(),a.appendChild(s);var l,c=ao.createElement("button",oo.CAMERA_STOP_BUTTON_ID);c.innerText=hi.scanButtonStopScanningText(),c.style.display="none",c.disabled=!0,a.appendChild(c);r.appendChild(a);var u=function(e){e||(s.style.display="none"),s.innerText=hi.scanButtonStartScanningText(),s.style.opacity="1",s.disabled=!1,e&&(s.style.display="inline-block")};if(s.addEventListener("click",(function(e){s.innerText=hi.scanButtonScanningStarting(),o.disable(),s.disabled=!0,s.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var r,d=o.getValue();n.persistedDataManager.setLastUsedCameraId(d),n.html5Qrcode.start(d,(r=n.config,{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then((function(e){c.disabled=!1,c.style.display="inline-block",u(!1);var r=n.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(e){e.torchFeature().isSupported()?(l?l.updateTorchCapability(e.torchFeature()):l=uo.create(a,e.torchFeature(),{display:"none",marginLeft:"5px"},(function(e){n.setHeaderMessage(e,Fi.STATUS_WARNING)})),l.show()):l&&l.hide()}(r),!0===t.config.showZoomSliderIfSupported&&function(e){var n=e.zoomFeature();if(n.isSupported()){i.setOnCameraZoomValueChangeCallback((function(e){n.apply(e)}));var r,o,a,s=1;t.config.defaultZoomValueIfSupported&&(s=t.config.defaultZoomValueIfSupported),r=s,o=n.min(),s=r>(a=n.max())?a:r<o?o:r,i.setValues(n.min(),n.max(),s,n.step()),i.show()}}(r)})).catch((function(e){n.showHideScanTypeSwapLink(!0),o.enable(),u(!0),n.setHeaderMessage(e,Fi.STATUS_WARNING)}))})),o.hasSingleItem()&&s.click(),c.addEventListener("click",(function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";c.disabled=!0,n.html5Qrcode.stop().then((function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),o.enable(),s.disabled=!1,c.style.display="none",s.style.display="inline-block",l&&(l.reset(),l.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),n.insertCameraScanImageToScanRegion()})).catch((function(e){c.disabled=!1,n.setHeaderMessage(e,Fi.STATUS_WARNING)}))})),n.persistedDataManager.getLastUsedCameraId()){var d=n.persistedDataManager.getLastUsedCameraId();o.hasValue(d)?(o.setValue(d),s.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=hi.textIfCameraScanSelected(),n=hi.textIfFileScanSelected(),r=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var o=ao.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=io.isCameraScanType(this.currentScanType)?t:n,o.addEventListener("click",(function(){e.sectionSwapAllowed?(e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,io.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=n,e.currentScanType=ei.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=t,e.currentScanType=ei.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0):e.verbose&&e.logger.logError("Section swap called when not allowed")})),i.appendChild(o),r.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;this.persistedDataManager.hasCameraPermissions()&&ro.hasPermissions().then((function(n){if(n){var r=document.getElementById(t.getCameraPermissionButtonId());if(!r)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";r.click()}else t.persistedDataManager.setHasPermission(!1)})).catch((function(e){t.persistedDataManager.setHasPermission(!1)}))},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(e,t){t||(t=Fi.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",t){case Fi.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Fi.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Fi.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Xi,this.cameraScanImage.alt=hi.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=qi,this.fileScanImage.alt=hi.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return oo.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return oo.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();const go=["https://maps.app.goo.gl/tzWHSuGUG35X8m3MA","https://maps.app.goo.gl/ZFQUUL5xqUQQp8BD7?g_st=com.google.maps.preview.copy","https://maps.app.goo.gl/9zrjkXXHMJDXtMrC8?g_st=com.google.maps.preview.copy","https://maps.app.goo.gl/FnhwTw3eB2zvpnzq6?g_st=com.google.maps.preview.copy"],mo=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(!1),c=(0,t.useRef)(null),u=(0,t.useRef)(!1),d=J();(0,t.useEffect)((()=>{const e=localStorage.getItem("selectedChoice");n(e||"No task selected")}),[]);const h=(0,t.useCallback)((e=>go.includes(e)),[]),f=(0,t.useCallback)((async e=>{try{const t=localStorage.getItem("selectedTaskId"),n="true"===localStorage.getItem("isResubmission");if(!localStorage.getItem("accessToken"))return a("You must be logged in to submit a task."),void setTimeout((()=>d("/login")),2e3);if(!t)return a("No task selected. Redirecting to Bingo Board..."),void setTimeout((()=>d("/bingo")),2e3);i(`Processing: ${e}`);const r={task_id:t,qr_code_data:e,is_resubmission:n,auto_approve:!0},o=await fetch("http://localhost:8000/api/complete_task/",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await o.json();o.ok?(localStorage.removeItem("isResubmission"),i(`Success! ${s.message||"Submission received."}`),setTimeout((()=>d("/bingo")),2e3)):a(s.message||"Failed to submit scan. Please try again.")}catch(o){a("An error occurred while processing your scan.")}}),[d]),p=(0,t.useCallback)((e=>{console.log("Scanned QR Code Data:",e),h(e)?(i(e),c.current&&c.current.isScanning&&c.current.stop().then((()=>{l(!1),f(e)})).catch((()=>a("Error stopping the scanner")))):a("Invalid QR Code. Please scan the correct QR code.")}),[f,h]),g=(0,t.useCallback)((e=>{e.toString().includes("NotFoundException")||(console.error("QR Code scan error:",e),a("Scan the QR code of the area you're at"))}),[]);(0,t.useEffect)((()=>{const e=document.getElementById("reader");if(c.current&&c.current.clear(),!u.current&&e){const e=new Gi("reader",!0);c.current=e,u.current=!0,e.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},p,g).then((()=>{l(!0)})).catch((e=>{console.error("Failed to start scanner:",e),a("Failed to start camera. Please check camera permissions.")}))}return()=>{c.current&&c.current.isScanning&&(c.current.stop().catch((()=>{})),c.current=null,u.current=!1)}}),[p,g]);return(0,vr.jsxs)("div",{className:"scan-container",children:[(0,vr.jsx)("h1",{children:"Scan QR Code"}),(0,vr.jsxs)("div",{className:"selected-task",children:[(0,vr.jsx)("h3",{children:"Selected Task:"}),(0,vr.jsx)("p",{children:e})]}),o&&(0,vr.jsx)("p",{className:"error-text",children:o}),(0,vr.jsx)("div",{id:"reader-container",children:(0,vr.jsx)("div",{id:"reader"})}),s&&!r&&!o&&(0,vr.jsx)("p",{children:"Position the QR code within the frame..."}),r&&(0,vr.jsx)("div",{className:"scan-result",children:(0,vr.jsx)("p",{children:r})}),(0,vr.jsx)("div",{className:"button-container",children:(0,vr.jsx)("button",{onClick:()=>{localStorage.removeItem("isResubmission"),d("/bingo")},className:"back-button",children:"Back to Bingo Board"})})]})},wo={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000",yo=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1),o=J(),[a,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(null),[p,g]=(0,t.useState)({description:"",points:10,requires_upload:!1,requires_scan:!1}),[m,w]=(0,t.useState)(!1),[y,E]=(0,t.useState)(null),[S,C]=(0,t.useState)(""),b=localStorage.getItem("accessToken");(0,t.useEffect)((()=>{b&&(br.defaults.headers.common.Authorization=`Bearer ${b}`,v())}),[b]);const v=async()=>{i(!0);try{const e=await br.get(`${wo}/api/tasks/`);s(e.data),console.log("Fetching pending tasks...");try{const e=await br.get(`${wo}/api/pending-tasks/`,{headers:{Authorization:`Bearer ${b}`}});console.log("Pending tasks response:",e),c(e.data)}catch(o){var t,r;console.error("Error fetching pending tasks:",o),n("Failed to load pending tasks: "+((null===(t=o.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||o.message))}const i=await br.get(`${wo}/api/leaderboard/`);d(i.data)}catch(e){console.error("Error fetching data:",e),n("Failed to load data. Please try again."),e.response&&403===e.response.status&&n("You don't have permission to access this page")}finally{i(!1)}},A=e=>{const{name:t,value:n,type:r,checked:i}=e.target;g({...p,[t]:"checkbox"===r?i:n})},_=e=>{f(e)},T=()=>{f(null)};return(0,vr.jsxs)("div",{className:"gamekeeper-container",children:[(0,vr.jsxs)("div",{className:"header",children:[(0,vr.jsx)("h1",{children:"BINGO Game - Game Keeper Dashboard"}),(0,vr.jsx)("button",{onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("userProfile"),o("/login")},className:"logout-btn",children:"Logout"})]}),e&&(0,vr.jsx)("div",{className:"error-message",children:e}),h&&(0,vr.jsx)("div",{className:"image-modal-overlay",onClick:T,children:(0,vr.jsxs)("div",{className:"image-modal-content",onClick:e=>e.stopPropagation(),children:[(0,vr.jsx)("span",{className:"close-button",onClick:T,children:"\xd7"}),(0,vr.jsx)("img",{src:h,alt:"Enlarged view"})]})}),m&&(0,vr.jsx)("div",{className:"modal-overlay",children:(0,vr.jsxs)("div",{className:"modal-content",children:[(0,vr.jsx)("h3",{children:"Reject Task Submission"}),(0,vr.jsx)("p",{children:"Please provide feedback to the user about why their submission was rejected:"}),(0,vr.jsx)("textarea",{value:S,onChange:e=>C(e.target.value),placeholder:"Enter rejection reason...",className:"rejection-comment",rows:4}),(0,vr.jsxs)("div",{className:"modal-actions",children:[(0,vr.jsx)("button",{onClick:()=>{w(!1),E(null),C("")},className:"cancel-button",children:"Cancel"}),(0,vr.jsx)("button",{onClick:async()=>{if(!y)return;const{userId:t,taskId:r}=y;try{await br.post(`${wo}/api/reject-task/`,{user_id:t,task_id:r,reason:S||"Task rejected by game keeper"}),C(""),w(!1),E(null),v()}catch(e){console.error("Error rejecting task:",e),n("Failed to reject task")}},className:"reject-btn",children:"Confirm Rejection"})]})]})}),(0,vr.jsxs)("div",{className:"pending-tasks-section",children:[(0,vr.jsx)("h2",{children:"Pending Task Approvals"}),r?(0,vr.jsx)("p",{children:"Loading pending tasks..."}):0===l.length?(0,vr.jsx)("p",{children:"No pending tasks to approve"}):(0,vr.jsx)("div",{className:"task-cards-container",children:l.map(((t,r)=>(0,vr.jsxs)("div",{className:"task-approval-card",children:[(0,vr.jsxs)("div",{className:"task-header",children:[(0,vr.jsx)("h3",{children:t.username}),(0,vr.jsxs)("span",{className:"task-points",children:[t.points," points"]})]}),(0,vr.jsx)("div",{className:"task-description",children:(0,vr.jsx)("p",{children:t.task_description})}),(0,vr.jsx)("div",{className:"submission-details",children:(0,vr.jsxs)("p",{children:["Submitted: ",new Date(t.completion_date).toLocaleString()]})}),(0,vr.jsx)("div",{className:"task-photo",children:t.photo_url?(0,vr.jsxs)(vr.Fragment,{children:[(0,vr.jsx)("img",{src:t.photo_url,alt:"Task submission",onClick:()=>_(t.photo_url),className:"submission-photo"}),(0,vr.jsx)("div",{className:"image-tools",children:(0,vr.jsx)("button",{className:"enlarge-btn",onClick:()=>_(t.photo_url),children:"\ud83d\udd0d Zoom"})})]}):(0,vr.jsx)("div",{className:"no-photo",children:"No photo provided"})}),(0,vr.jsxs)("div",{className:"task-actions",children:[(0,vr.jsx)("button",{className:"approve-btn",onClick:()=>(async(t,r)=>{try{console.log(`Approving: user_id=${t}, task_id=${r}`),await br.post(`${wo}/api/approve-task/`,{user_id:t,task_id:r}),v()}catch(e){console.error("Error approving task:",e),n("Failed to approve task")}})(t.user_id,t.task_id),children:"\u2705 Approve"}),(0,vr.jsx)("button",{className:"reject-btn",onClick:()=>{return e=t.user_id,n=t.task_id,E({userId:e,taskId:n}),void w(!0);var e,n},children:"\u274c Reject"})]})]},r)))})]}),(0,vr.jsxs)("div",{className:"create-task-section",children:[(0,vr.jsx)("h2",{children:"Create New Task"}),(0,vr.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await br.post(`${wo}/admin/tasks/create/`,p),g({description:"",points:10,requires_upload:!1,requires_scan:!1}),v()}catch(e){console.error("Error creating task:",e)}},children:[(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsxs)("label",{children:["Description:",(0,vr.jsx)("textarea",{name:"description",value:p.description,onChange:A,required:!0})]})}),(0,vr.jsx)("div",{className:"form-group",children:(0,vr.jsxs)("label",{children:["Points:",(0,vr.jsx)("input",{type:"number",name:"points",value:p.points,onChange:A,required:!0})]})}),(0,vr.jsx)("div",{className:"form-group checkbox",children:(0,vr.jsxs)("label",{children:[(0,vr.jsx)("input",{type:"checkbox",name:"requires_upload",checked:p.requires_upload,onChange:A}),"Requires Photo Upload"]})}),(0,vr.jsx)("div",{className:"form-group checkbox",children:(0,vr.jsxs)("label",{children:[(0,vr.jsx)("input",{type:"checkbox",name:"requires_scan",checked:p.requires_scan,onChange:A}),"Requires QR Scan"]})}),(0,vr.jsx)("button",{type:"submit",className:"create-btn",children:"Create Task"})]})]}),(0,vr.jsxs)("div",{className:"tasks-section",children:[(0,vr.jsx)("h2",{children:"Current Tasks"}),(0,vr.jsxs)("table",{children:[(0,vr.jsx)("thead",{children:(0,vr.jsxs)("tr",{children:[(0,vr.jsx)("th",{children:"Description"}),(0,vr.jsx)("th",{children:"Points"}),(0,vr.jsx)("th",{children:"Upload"}),(0,vr.jsx)("th",{children:"QR Scan"})]})}),(0,vr.jsx)("tbody",{children:a.map((e=>(0,vr.jsxs)("tr",{children:[(0,vr.jsx)("td",{children:e.description}),(0,vr.jsx)("td",{children:e.points}),(0,vr.jsx)("td",{children:e.requires_upload?(0,vr.jsx)("span",{children:"Photo requirement: Yes"}):(0,vr.jsx)("span",{children:"No photo required"})}),(0,vr.jsx)("td",{children:e.requires_scan?"Yes":"No"})]},e.id)))})]})]}),(0,vr.jsxs)("div",{className:"leaderboard-section",children:[(0,vr.jsx)("h2",{children:"Leaderboard"}),(0,vr.jsxs)("table",{children:[(0,vr.jsx)("thead",{children:(0,vr.jsxs)("tr",{children:[(0,vr.jsx)("th",{children:"Rank"}),(0,vr.jsx)("th",{children:"Username"}),(0,vr.jsx)("th",{children:"Points"})]})}),(0,vr.jsx)("tbody",{children:u.map(((e,t)=>(0,vr.jsxs)("tr",{children:[(0,vr.jsx)("td",{children:t+1}),(0,vr.jsx)("td",{children:e.user}),(0,vr.jsx)("td",{children:e.points})]},t)))})]})]})]})},Eo=()=>(0,vr.jsxs)("div",{className:"privacy-policy-container",children:[(0,vr.jsx)("h1",{children:"Privacy Policy"}),(0,vr.jsx)("p",{children:"Last Updated on 12th Mar 2025"}),(0,vr.jsx)("p",{children:'This Privacy Policy explains how we collect, use, and disclose your information when you use our website and related services. "We", "Our", "Us" is committed to protecting and respecting your privacy.'}),(0,vr.jsx)("h2",{children:"Data Controller"}),(0,vr.jsx)("p",{children:"The data controller for your personal information is:"}),(0,vr.jsxs)("p",{children:["Caffeinated Divas",(0,vr.jsx)("br",{}),"The University of Exeter",(0,vr.jsx)("br",{}),"Exeter, Devon, UK",(0,vr.jsx)("br",{}),"Email: caffeinateddivas@gmail.com"]}),(0,vr.jsx)("h2",{children:"Information We Collect"}),(0,vr.jsx)("p",{children:"We collect the following personal information:"}),(0,vr.jsxs)("ul",{children:[(0,vr.jsx)("li",{children:"Username"}),(0,vr.jsx)("li",{children:"Email address"}),(0,vr.jsx)("li",{children:"Game activity and achievements"})]}),(0,vr.jsx)("h2",{children:"Legal Basis for Processing"}),(0,vr.jsx)("p",{children:"We process your personal data on the following legal bases:"}),(0,vr.jsxs)("ul",{children:[(0,vr.jsxs)("li",{children:[(0,vr.jsx)("strong",{children:"Consent:"})," You have given clear consent for us to process your personal data for the specific purpose of participating in our game."]}),(0,vr.jsxs)("li",{children:[(0,vr.jsx)("strong",{children:"Legitimate Interest:"})," It is in our legitimate interests to process certain data to provide and improve our gaming services."]})]}),(0,vr.jsx)("h2",{children:"How We Use Your Information"}),(0,vr.jsx)("p",{children:"We use your information to:"}),(0,vr.jsxs)("ul",{children:[(0,vr.jsx)("li",{children:"Create and manage your account"}),(0,vr.jsx)("li",{children:"Track your game progress"}),(0,vr.jsx)("li",{children:"Display leaderboard rankings"}),(0,vr.jsx)("li",{children:"Improve our game services"}),(0,vr.jsx)("li",{children:"Communicate with you about the game"})]}),(0,vr.jsx)("h2",{children:"Data Retention"}),(0,vr.jsx)("p",{children:"We will retain your personal data only for as long as necessary to fulfill the purposes for which it was collected. Specifically:"}),(0,vr.jsxs)("ul",{children:[(0,vr.jsx)("li",{children:"Account information will be retained as long as you maintain an active account"}),(0,vr.jsx)("li",{children:"Game activity data will be stored as long as you maintain an active account"}),(0,vr.jsx)("li",{children:"When you delete your account, all personal data will be permanently deleted from our records within 30 days"})]}),(0,vr.jsx)("h2",{children:"Third-Party Sharing"}),(0,vr.jsx)("p",{children:"We do not share your personal information with third parties except in the following cases:"}),(0,vr.jsxs)("ul",{children:[(0,vr.jsx)("li",{children:"When required by law"}),(0,vr.jsx)("li",{children:"With service providers who assist us in operating our game"})]}),(0,vr.jsx)("h2",{children:"GDPR Rights"}),(0,vr.jsx)("p",{children:"Under the General Data Protection Regulation (GDPR), you have the following rights:"}),(0,vr.jsxs)("ul",{children:[(0,vr.jsxs)("li",{children:[(0,vr.jsx)("strong",{children:"Right to Access:"})," You can request a copy of the personal data we hold about you."]}),(0,vr.jsxs)("li",{children:[(0,vr.jsx)("strong",{children:"Right to Rectification:"})," You can request that we correct any inaccurate or incomplete personal data."]}),(0,vr.jsxs)("li",{children:[(0,vr.jsx)("strong",{children:"Right to Erasure:"}),' You can request that we delete your personal data (also known as the "right to be forgotten").']})]}),(0,vr.jsxs)("p",{children:["To exercise any of these rights, please contact us at ",(0,vr.jsx)("strong",{children:"caffeinateddivas@gmail.com"}),"."]}),(0,vr.jsx)("h2",{children:"Account Deletion"}),(0,vr.jsx)("p",{children:"You can request to delete your profile permanently at any time. Upon deletion:"}),(0,vr.jsxs)("ul",{children:[(0,vr.jsx)("li",{children:"All personal data associated with your account will be removed from our active databases"}),(0,vr.jsx)("li",{children:"Your data will be permanently deleted from our records within 30 days"})]}),(0,vr.jsx)("p",{children:'To delete account deletion, you can do it in the player profile."'}),(0,vr.jsx)("h2",{children:"Data Security"}),(0,vr.jsx)("p",{children:"We implement appropriate security measures to protect your personal data."}),(0,vr.jsx)("h2",{children:"Changes to This Privacy Policy"}),(0,vr.jsx)("p",{children:"We may update this Privacy Policy occasionally. Please visit our website to check for any updates. We recommend reviewing the Privacy Policy periodically to stay informed about any changes."}),(0,vr.jsx)("h2",{children:"Contact Us"}),(0,vr.jsx)("p",{children:"If you have any questions about this Privacy Policy or our data practices, please contact us at:"}),(0,vr.jsx)("ul",{children:(0,vr.jsxs)("li",{children:["Email: ",(0,vr.jsx)("strong",{children:"caffeinateddivas@gmail.com"})]})}),(0,vr.jsx)("div",{className:"back-link",children:(0,vr.jsx)(et,{to:"/",children:"Back to Home"})})]}),So="https://your-api-endpoint.com",Co=()=>{const e=J(),[n,r]=(0,t.useState)([]),i=e=>{switch(e){case"O":return"\u267b\ufe0f";case"X":return"\u274c";case"H":return"\ud83c\udf08";case"V":return"\ud83c\udf31";default:return"\ud83c\udfc6"}};return(0,t.useEffect)((()=>{(async()=>{try{await br.get(`${So}/api/user/`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})}catch(e){console.error("Error fetching user data:",e)}})(),(async()=>{try{await br.get(`${So}/api/tasks/completed`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})}catch(e){console.error("Error fetching completed tasks:",e)}})(),console.log("Debug information logged"),(async()=>{try{const e=await br.get(`${So}/api/badges/`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});r(e.data)}catch(e){console.error("Error fetching badges:",e)}})()}),[]),(0,vr.jsxs)("div",{className:"overview-container",children:[(0,vr.jsx)("h2",{children:"Bingo Game Guide"}),(0,vr.jsxs)("div",{className:"overview-section",children:[(0,vr.jsx)("h3",{children:"Overview"}),(0,vr.jsx)("p",{children:"This is a simple and engaging bingo-style game with eco-friendly tasks. Each task on the bingo board falls into one of two categories: upload an image/video or scan a QR code."})]}),(0,vr.jsxs)("div",{className:"overview-section",children:[(0,vr.jsx)("h3",{children:"How to Play"}),(0,vr.jsxs)("ol",{className:"instructions-list",children:[(0,vr.jsxs)("li",{children:[(0,vr.jsx)("span",{className:"instruction-title",children:"Create an account"}),(0,vr.jsx)("p",{children:"Register or login to get your personalized Bingo board"})]}),(0,vr.jsxs)("li",{children:[(0,vr.jsx)("span",{className:"instruction-title",children:"Complete tasks"}),(0,vr.jsx)("p",{children:" Select a Task - Read the tasks on the bingo board and click on one to begin."}),(0,vr.jsx)("p",{children:" Follow Instructions - Carefully read the task details before proceeding. "}),(0,vr.jsx)("p",{children:" Submit Proof - Upload your image/video or scan the QR code as required. "}),(0,vr.jsx)("p",{children:" Wait for Confirmation - Your submission will be reviewed. Once approved, you'll receive a stamp. "}),(0,vr.jsx)("p",{children:" Form Bingo Patterns - Keep completing tasks to create bingo patterns. "})]}),(0,vr.jsxs)("li",{children:[(0,vr.jsx)("span",{className:"instruction-title",children:"Bonus points"}),(0,vr.jsx)("p",{children:" Earn points for each completed task. "}),(0,vr.jsxs)("p",{children:[" ",(0,vr.jsx)(et,{to:"/patterns",className:"pattern-link",children:" Unique bingo patterns"})," grant bonus points. "]}),(0,vr.jsx)("p",{children:" Track your progress and points on the leaderboard."})]})]})]}),(0,vr.jsxs)("div",{className:"sustainability-badges",children:[(0,vr.jsx)("h3",{children:"Sustainability Badges"}),n.length>0?(0,vr.jsx)("div",{className:"badges-grid",children:n.map((e=>(0,vr.jsxs)("div",{className:"badge-item",children:[(0,vr.jsx)("div",{className:"badge-emoji",children:i(e.type)}),(0,vr.jsxs)("div",{className:"badge-info",children:[(0,vr.jsx)("h4",{children:e.name}),(0,vr.jsxs)("p",{className:"badge-points",children:["+",e.bonus_points," points"]})]})]},e.id)))}):(0,vr.jsxs)("div",{className:"badge-hints",children:[(0,vr.jsx)("p",{children:"Complete patterns on your bingo board to earn badges!"}),(0,vr.jsxs)("div",{className:"hint-icons",children:[(0,vr.jsx)("span",{className:"hint-item",children:"\u267b\ufe0f Ozone Defender"}),(0,vr.jsx)("span",{className:"hint-item",children:"\u274c Xtra Green"}),(0,vr.jsx)("span",{className:"hint-item",children:"\ud83c\udf08 Healthy Hero"}),(0,vr.jsx)("span",{className:"hint-item",children:"\ud83c\udf31 Green Champion"})]})]})]}),(0,vr.jsx)("div",{className:"navigation-buttons",children:(0,vr.jsx)("button",{onClick:()=>e("/"),className:"action-button",children:"Back to Home"})})]})},bo=()=>{const e=J();return(0,vr.jsxs)("div",{className:"patterns-container",children:[(0,vr.jsx)("h1",{className:"patterns-header",children:"Bingo Patterns"}),(0,vr.jsx)("p",{className:"patterns-intro",children:"Complete tasks to form letter patterns and earn bonus points! The letter patterns (H, V, X, O) are worth 35 bonus points each, while simple lines (horizontal or vertical) are worth 5 points each."}),(0,vr.jsx)("div",{className:"patterns-grid",children:[{id:"x-pattern",name:"X Pattern",description:"Complete cells in an X pattern (corners and center).",points:35,type:"X",cells:[[!0,!1,!0],[!1,!0,!1],[!0,!1,!0]]},{id:"o-pattern",name:"O Pattern",description:"Complete all cells on the outside edge of the board.",points:35,type:"O",cells:[[!0,!0,!0],[!0,!1,!0],[!0,!0,!0]]},{id:"horizontal",name:"Horizontal Line",description:"Complete any horizontal line of tasks.",points:5,type:"HORIZ",cells:[[!0,!0,!0],[!1,!1,!1],[!1,!1,!1]]},{id:"vertical",name:"Vertical Line",description:"Complete any vertical line of tasks.",points:5,type:"VERT",cells:[[!0,!1,!1],[!0,!1,!1],[!0,!1,!1]]}].map((e=>(0,vr.jsxs)("div",{className:"pattern-card",children:[(0,vr.jsxs)("div",{className:"pattern-header",children:[(0,vr.jsx)("h3",{className:"pattern-name",children:e.name}),(0,vr.jsxs)("span",{className:"pattern-points",children:["+",e.points," pts"]})]}),(0,vr.jsx)("div",{className:"pattern-visualization",children:e.cells.map(((e,t)=>(0,vr.jsx)("div",{className:"pattern-row",children:e.map(((e,t)=>(0,vr.jsx)("div",{className:"pattern-cell "+(e?"highlighted":"")},t)))},t)))}),(0,vr.jsxs)("div",{className:"pattern-details",children:[(0,vr.jsx)("p",{children:e.description}),(0,vr.jsxs)("div",{className:"pattern-badge",children:["X"===e.type&&"\u2716\ufe0f","O"===e.type&&"\u2b55","HORIZ"===e.type&&"\u2796","VERT"===e.type&&"\u23d0"]})]})]},e.id)))}),(0,vr.jsx)("div",{className:"patterns-back",children:(0,vr.jsx)("button",{className:"back-button",onClick:()=>e("/bingo"),children:"Back to Bingo Board"})})]})},vo=()=>(0,vr.jsxs)("div",{children:[(0,vr.jsx)(Hr,{}),(0,vr.jsx)(Wr,{}),(0,vr.jsxs)(we,{children:[(0,vr.jsx)(ge,{path:"/",element:(0,vr.jsx)(_r,{})}),(0,vr.jsx)(ge,{path:"/userprofile",element:(0,vr.jsx)(Nr,{})}),(0,vr.jsx)(ge,{path:"/login",element:(0,vr.jsx)(Dr,{})}),(0,vr.jsx)(ge,{path:"/register",element:(0,vr.jsx)(Mr,{})}),(0,vr.jsx)(ge,{path:"/forgot-password",element:(0,vr.jsx)(xr,{})}),(0,vr.jsx)(ge,{path:"/reset-password/:token",element:(0,vr.jsx)(Lr,{})}),(0,vr.jsx)(ge,{path:"/leaderboard",element:(0,vr.jsx)(Fr,{})}),(0,vr.jsx)(ge,{path:"/leaderboard?type=lifetime",element:(0,vr.jsx)(Fr,{})}),(0,vr.jsx)(ge,{path:"/leaderboard?type=monthly",element:(0,vr.jsx)(Fr,{})}),(0,vr.jsx)(ge,{path:"/homeboard",element:(0,vr.jsx)(Ur,{})}),(0,vr.jsx)(ge,{path:"/privacy-policy",element:(0,vr.jsx)(Eo,{})}),(0,vr.jsx)(ge,{path:"/bingo",element:(0,vr.jsx)(Qr,{})}),(0,vr.jsx)(ge,{path:"/upload",element:(0,vr.jsx)(Zr,{})}),(0,vr.jsx)(ge,{path:"/gamekeeper",element:(0,vr.jsx)(yo,{})}),(0,vr.jsx)(ge,{path:"/scan",element:(0,vr.jsx)(mo,{})}),(0,vr.jsx)(ge,{path:"/overview",element:(0,vr.jsx)(Co,{})}),(0,vr.jsx)(ge,{path:"/patterns",element:(0,vr.jsx)(bo,{})}),(0,vr.jsx)(ge,{path:"/developer-dashboard",element:"Developer"===localStorage.getItem("userProfile")?(0,vr.jsx)("iframe",{src:"/developer-front.html",style:{width:"100%",height:"100vh",border:"none"}}):(0,vr.jsx)(pe,{to:"/login"})})]})]}),Ao=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};r.createRoot(document.getElementById("root")).render((0,vr.jsx)(t.StrictMode,{children:(0,vr.jsx)(Ke,{children:(0,vr.jsx)(vo,{})})})),Ao()})()})();
//# sourceMappingURL=main.254984d4.js.map